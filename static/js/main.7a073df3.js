/*! For license information please see main.7a073df3.js.LICENSE.txt */
(()=>{var e={764:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function a(e,t){if(null==e)return{};var n,r,i=s(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){return c(e)||u(e,t)||h(e,t)||f()}function c(e){if(Array.isArray(e))return e}function u(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}function h(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function g(){}function y(){}y.resetWarningCache=g;var v=function(){function e(e,t,n,r,i,o){if(o!==m){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:y,resetWarningCache:g};return n.PropTypes=n,n},w=p((function(e){e.exports=v()})),b=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},_=function(e){return null!==e&&"object"===i(e)},S=function(e){return _(e)&&"function"===typeof e.then},E=function(e){return _(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},I="[object Object]",k=function e(t,n){if(!_(t)||!_(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===I;if(i!==(Object.prototype.toString.call(n)===I))return!1;if(!i&&!r)return t===n;var o=Object.keys(t),s=Object.keys(n);if(o.length!==s.length)return!1;for(var a={},l=0;l<o.length;l+=1)a[o[l]]=!0;for(var c=0;c<s.length;c+=1)a[s[c]]=!0;var u=Object.keys(a);if(u.length!==o.length)return!1;var h=t,d=n,f=function(t){return e(h[t],d[t])};return u.every(f)},T=function(e,t,n){return _(e)?Object.keys(e).reduce((function(i,s){var a=!_(t)||!k(e[s],t[s]);return n.includes(s)?(a&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):a?r(r({},i||{}),{},o({},s,e[s])):i}),null):null},C="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;if(null===e||E(e))return e;throw new Error(t)},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;if(S(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return x(e,t)}))};var n=x(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},N=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.5.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.5.0",url:"https://stripe.com/docs/stripe-js/react"}))},O=["on","session"],P=t.createContext(null);P.displayName="CustomCheckoutSdkContext";var R=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},D=t.createContext(null);D.displayName="CustomCheckoutContext";var L=function(e,t){if(!e)return null;e.on,e.session;var n=a(e,O);return r(r({},n),t||e.session())},M="Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",F=function(e){var n=e.stripe,r=e.options,i=e.children,o=t.useMemo((function(){return A(n,M)}),[n]),s=l(t.useState(null),2),a=s[0],c=s[1],u=l(t.useState((function(){return{stripe:"sync"===o.tag?o.stripe:null,customCheckoutSdk:null}})),2),h=u[0],d=u[1],f=function(e,t){d((function(n){return n.stripe&&n.customCheckoutSdk?n:{stripe:e,customCheckoutSdk:t}}))},p=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==o.tag||h.stripe?"sync"===o.tag&&o.stripe&&!p.current&&(p.current=!0,o.stripe.initCustomCheckout(r).then((function(e){e&&(f(o.stripe,e),e.on("change",c))}))):o.stripePromise.then((function(t){t&&e&&!p.current&&(p.current=!0,t.initCustomCheckout(r).then((function(e){e&&(f(t,e),e.on("change",c))})))})),function(){e=!1}}),[o,h,r,c]);var m=b(n);t.useEffect((function(){null!==m&&m!==n&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[m,n]);var g=b(r);t.useEffect((function(){var e,t;if(h.customCheckoutSdk){!r.clientSecret||_(g)||k(r.clientSecret,g.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property.");var n=null===g||void 0===g||null===(e=g.elementsOptions)||void 0===e?void 0:e.appearance,i=null===r||void 0===r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance;i&&!k(i,n)&&h.customCheckoutSdk.changeAppearance(i)}}),[r,g,h.customCheckoutSdk]),t.useEffect((function(){N(h.stripe)}),[h.stripe]);var y=t.useMemo((function(){return L(h.customCheckoutSdk,a)}),[h.customCheckoutSdk,a]);return h.customCheckoutSdk?t.createElement(P.Provider,{value:h},t.createElement(D.Provider,{value:y},i)):null};F.propTypes={stripe:w.any,options:w.shape({clientSecret:w.string.isRequired,elementsOptions:w.object}).isRequired};var j=function(e){var n=t.useContext(P);return R(n,e)},U=function(e){var n=t.useContext(P),r=t.useContext(z);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?R(n,e):B(r,e)},V=function(){j("calls useCustomCheckout()");var e=t.useContext(D);if(!e)throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.");return e},z=t.createContext(null);z.displayName="ElementsContext";var B=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},q=t.createContext(null);q.displayName="CartElementContext";var W=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},H=function(e){var n=e.stripe,r=e.options,i=e.children,o=t.useMemo((function(){return A(n)}),[n]),s=l(t.useState(null),2),a=s[0],c=s[1],u=l(t.useState(null),2),h=u[0],d=u[1],f=l(t.useState((function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(r):null}})),2),p=f[0],m=f[1];t.useEffect((function(){var e=!0,t=function(e){m((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==o.tag||p.stripe?"sync"!==o.tag||p.stripe||t(o.stripe):o.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[o,p,r]);var g=b(n);t.useEffect((function(){null!==g&&g!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[g,n]);var y=b(r);return t.useEffect((function(){if(p.elements){var e=T(r,y,["clientSecret","fonts"]);e&&p.elements.update(e)}}),[r,y,p.elements]),t.useEffect((function(){N(p.stripe)}),[p.stripe]),t.createElement(z.Provider,{value:p},t.createElement(q.Provider,{value:{cart:a,setCart:c,cartState:h,setCartState:d}},i))};H.propTypes={stripe:w.any,options:w.object};var K=function(e){var n=t.useContext(z);return B(n,e)},G={cart:null,cartState:null,setCart:function(){},setCartState:function(){}},Q=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.useContext(q);return n?G:W(r,e)},Y=function(){return K("calls useElements()").elements},$=function(){return U("calls useStripe()").stripe},J=function(){return Q("calls useCartElement()").cart},X=function(){return Q("calls useCartElementState()").cartState},Z=function(e){return(0,e.children)(K("mounts <ElementsConsumer>"))};Z.propTypes={children:w.func.isRequired};var ee=function(e,n,r){var i=!!r,o=t.useRef(r);t.useEffect((function(){o.current=r}),[r]),t.useEffect((function(){if(!i||!e)return function(){};var t=function(){o.current&&o.current.apply(o,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[i,n,e,o])},te=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ne=function(e,n){var r="".concat(te(e),"Element"),i=n?function(e){var n=U("mounts <".concat(r,">"));Q("mounts <".concat(r,">"),"customCheckoutSdk"in n);var i=e.id,o=e.className;return t.createElement("div",{id:i,className:o})}:function(n){var i,o=n.id,s=n.className,a=n.options,c=void 0===a?{}:a,u=n.onBlur,h=n.onFocus,d=n.onReady,f=n.onChange,p=n.onEscape,m=n.onClick,g=n.onLoadError,y=n.onLoaderStart,v=n.onNetworksChange,w=n.onCheckout,_=n.onLineItemClick,S=n.onConfirm,E=n.onCancel,I=n.onShippingAddressChange,k=n.onShippingRateChange,C=U("mounts <".concat(r,">")),x="elements"in C?C.elements:null,A="customCheckoutSdk"in C?C.customCheckoutSdk:null,N=l(t.useState(null),2),O=N[0],P=N[1],R=t.useRef(null),D=t.useRef(null),L=Q("mounts <".concat(r,">"),"customCheckoutSdk"in C),M=L.setCart,F=L.setCartState;ee(O,"blur",u),ee(O,"focus",h),ee(O,"escape",p),ee(O,"click",m),ee(O,"loaderror",g),ee(O,"loaderstart",y),ee(O,"networkschange",v),ee(O,"lineitemclick",_),ee(O,"confirm",S),ee(O,"cancel",E),ee(O,"shippingaddresschange",I),ee(O,"shippingratechange",k),"cart"===e?i=function(e){F(e),d&&d(e)}:d&&(i="expressCheckout"===e?d:function(){d(O)}),ee(O,"ready",i),ee(O,"change","cart"===e?function(e){F(e),f&&f(e)}:f),ee(O,"checkout","cart"===e?function(e){F(e),w&&w(e)}:w),t.useLayoutEffect((function(){if(null===R.current&&null!==D.current&&(x||A)){var t=null;A?t=A.createElement(e,c):x&&(t=x.create(e,c)),"cart"===e&&M&&M(t),R.current=t,P(t),t&&t.mount(D.current)}}),[x,A,c,M]);var j=b(c);return t.useEffect((function(){if(R.current){var e=T(c,j,["paymentRequest"]);e&&R.current.update(e)}}),[c,j]),t.useLayoutEffect((function(){return function(){if(R.current&&"function"===typeof R.current.destroy)try{R.current.destroy(),R.current=null}catch(e){}}}),[]),t.createElement("div",{id:o,className:s,ref:D})};return i.propTypes={id:w.string,className:w.string,onChange:w.func,onBlur:w.func,onFocus:w.func,onReady:w.func,onEscape:w.func,onClick:w.func,onLoadError:w.func,onLoaderStart:w.func,onNetworksChange:w.func,onCheckout:w.func,onLineItemClick:w.func,onConfirm:w.func,onCancel:w.func,onShippingAddressChange:w.func,onShippingRateChange:w.func,options:w.object},i.displayName=r,i.__elementType=e,i},re="undefined"===typeof window,ie=t.createContext(null);ie.displayName="EmbeddedCheckoutProviderContext";var oe=function(){var e=t.useContext(ie);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},se="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ae=function(e){var n=e.stripe,r=e.options,i=e.children,o=t.useMemo((function(){return A(n,se)}),[n]),s=t.useRef(null),a=t.useRef(null),c=l(t.useState({embeddedCheckout:null}),2),u=c[0],h=c[1];t.useEffect((function(){if(!a.current&&!s.current){var e=function(e){a.current||s.current||(a.current=e,s.current=a.current.initEmbeddedCheckout(r).then((function(e){h({embeddedCheckout:e})})))};"async"===o.tag&&!a.current&&r.clientSecret?o.stripePromise.then((function(t){t&&e(t)})):"sync"===o.tag&&!a.current&&r.clientSecret&&e(o.stripe)}}),[o,r,u,a]),t.useEffect((function(){return function(){u.embeddedCheckout?(s.current=null,u.embeddedCheckout.destroy()):s.current&&s.current.then((function(){s.current=null,u.embeddedCheckout&&u.embeddedCheckout.destroy()}))}}),[u.embeddedCheckout]),t.useEffect((function(){N(a)}),[a]);var d=b(n);t.useEffect((function(){null!==d&&d!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[d,n]);var f=b(r);return t.useEffect((function(){null!=f&&(null!=r?(null!=f.clientSecret&&r.clientSecret!==f.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.onComplete&&r.onComplete!==f.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[f,r]),t.createElement(ie.Provider,{value:u},i)},le=function(e){var n=e.id,r=e.className,i=oe().embeddedCheckout,o=t.useRef(!1),s=t.useRef(null);return t.useLayoutEffect((function(){return!o.current&&i&&null!==s.current&&(i.mount(s.current),o.current=!0),function(){if(o.current&&i)try{i.unmount(),o.current=!1}catch(e){}}}),[i]),t.createElement("div",{ref:s,id:n,className:r})},ce=function(e){var n=e.id,r=e.className;return oe(),t.createElement("div",{id:n,className:r})},ue=re?ce:le,he=ne("auBankAccount",re),de=ne("card",re),fe=ne("cardNumber",re),pe=ne("cardExpiry",re),me=ne("cardCvc",re),ge=ne("fpxBank",re),ye=ne("iban",re),ve=ne("idealBank",re),we=ne("p24Bank",re),be=ne("epsBank",re),_e=ne("payment",re),Se=ne("expressCheckout",re),Ee=ne("paymentRequestButton",re),Ie=ne("linkAuthentication",re),ke=ne("address",re),Te=ne("shippingAddress",re),Ce=ne("cart",re),xe=ne("paymentMethodMessaging",re),Ae=ne("affirmMessage",re),Ne=ne("afterpayClearpayMessage",re);e.AddressElement=ke,e.AffirmMessageElement=Ae,e.AfterpayClearpayMessageElement=Ne,e.AuBankAccountElement=he,e.CardCvcElement=me,e.CardElement=de,e.CardExpiryElement=pe,e.CardNumberElement=fe,e.CartElement=Ce,e.CustomCheckoutProvider=F,e.Elements=H,e.ElementsConsumer=Z,e.EmbeddedCheckout=ue,e.EmbeddedCheckoutProvider=ae,e.EpsBankElement=be,e.ExpressCheckoutElement=Se,e.FpxBankElement=ge,e.IbanElement=ye,e.IdealBankElement=ve,e.LinkAuthenticationElement=Ie,e.P24BankElement=we,e.PaymentElement=_e,e.PaymentMethodMessagingElement=xe,e.PaymentRequestButtonElement=Ee,e.ShippingAddressElement=Te,e.useCartElement=J,e.useCartElementState=X,e.useCustomCheckout=V,e.useElements=Y,e.useStripe=$,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(791))},98:function(e,t,n){var r,i;r=function(){var e,t,n="2.0.6",r={},i={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},s={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function a(e,t){this._input=e,this._value=t}return(e=function(n){var i,o,l,c;if(e.isNumeral(n))i=n.value();else if(0===n||"undefined"===typeof n)i=0;else if(null===n||t.isNaN(n))i=null;else if("string"===typeof n)if(s.zeroFormat&&n===s.zeroFormat)i=0;else if(s.nullFormat&&n===s.nullFormat||!n.replace(/[^0-9]+/g,"").length)i=null;else{for(o in r)if((c="function"===typeof r[o].regexps.unformat?r[o].regexps.unformat():r[o].regexps.unformat)&&n.match(c)){l=r[o].unformat;break}i=(l=l||e._.stringToNumber)(n)}else i=Number(n)||null;return new a(n,i)}).version=n,e.isNumeral=function(e){return e instanceof a},e._=t={numberToFormat:function(t,n,r){var o,s,a,l,c,u,h,d=i[e.options.currentLocale],f=!1,p=!1,m=0,g="",y=1e12,v=1e9,w=1e6,b=1e3,_="",S=!1;if(t=t||0,s=Math.abs(t),e._.includes(n,"(")?(f=!0,n=n.replace(/[\(|\)]/g,"")):(e._.includes(n,"+")||e._.includes(n,"-"))&&(c=e._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),e._.includes(n,"a")&&(o=!!(o=n.match(/a(k|m|b|t)?/))&&o[1],e._.includes(n," a")&&(g=" "),n=n.replace(new RegExp(g+"a[kmbt]?"),""),s>=y&&!o||"t"===o?(g+=d.abbreviations.trillion,t/=y):s<y&&s>=v&&!o||"b"===o?(g+=d.abbreviations.billion,t/=v):s<v&&s>=w&&!o||"m"===o?(g+=d.abbreviations.million,t/=w):(s<w&&s>=b&&!o||"k"===o)&&(g+=d.abbreviations.thousand,t/=b)),e._.includes(n,"[.]")&&(p=!0,n=n.replace("[.]",".")),a=t.toString().split(".")[0],l=n.split(".")[1],u=n.indexOf(","),m=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,l?(e._.includes(l,"[")?(l=(l=l.replace("]","")).split("["),_=e._.toFixed(t,l[0].length+l[1].length,r,l[1].length)):_=e._.toFixed(t,l.length,r),a=_.split(".")[0],_=e._.includes(_,".")?d.delimiters.decimal+_.split(".")[1]:"",p&&0===Number(_.slice(1))&&(_="")):a=e._.toFixed(t,0,r),g&&!o&&Number(a)>=1e3&&g!==d.abbreviations.trillion)switch(a=String(Number(a)/1e3),g){case d.abbreviations.thousand:g=d.abbreviations.million;break;case d.abbreviations.million:g=d.abbreviations.billion;break;case d.abbreviations.billion:g=d.abbreviations.trillion}if(e._.includes(a,"-")&&(a=a.slice(1),S=!0),a.length<m)for(var E=m-a.length;E>0;E--)a="0"+a;return u>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+d.delimiters.thousands)),0===n.indexOf(".")&&(a=""),h=a+_+(g||""),f?h=(f&&S?"(":"")+h+(f&&S?")":""):c>=0?h=0===c?(S?"-":"+")+h:h+(S?"-":"+"):S&&(h="-"+h),h},stringToNumber:function(e){var t,n,r,o=i[s.currentLocale],a=e,l={thousand:3,million:6,billion:9,trillion:12};if(s.zeroFormat&&e===s.zeroFormat)n=0;else if(s.nullFormat&&e===s.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{for(t in n=1,"."!==o.delimiters.decimal&&(e=e.replace(/\./g,"").replace(o.delimiters.decimal,".")),l)if(r=new RegExp("[^a-zA-Z]"+o.abbreviations[t]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),a.match(r)){n*=Math.pow(10,l[t]);break}n*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),n*=Number(e)}return n},isNaN:function(e){return"number"===typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof t)throw new TypeError(t+" is not a function");var n,r=Object(e),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=t(n,r[o],o,r));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce((function(e,n){var r=t.multiplier(n);return e>r?e:r}),1)},toFixed:function(e,t,n,r){var i,o,s,a,l=e.toString().split("."),c=t-(r||0);return i=2===l.length?Math.min(Math.max(l[1].length,c),t):c,s=Math.pow(10,i),a=(n(e+"e+"+i)/s).toFixed(i),r>t-i&&(o=new RegExp("\\.?0{1,"+(r-(t-i))+"}$"),a=a.replace(o,"")),a}},e.options=s,e.formats=r,e.locales=i,e.locale=function(e){return e&&(s.currentLocale=e.toLowerCase()),s.currentLocale},e.localeData=function(e){if(!e)return i[s.currentLocale];if(e=e.toLowerCase(),!i[e])throw new Error("Unknown locale : "+e);return i[e]},e.reset=function(){for(var e in o)s[e]=o[e]},e.zeroFormat=function(e){s.zeroFormat="string"===typeof e?e:null},e.nullFormat=function(e){s.nullFormat="string"===typeof e?e:null},e.defaultFormat=function(e){s.defaultFormat="string"===typeof e?e:"0.0"},e.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n,n},e.validate=function(t,n){var r,i,o,s,a,l,c,u;if("string"!==typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{c=e.localeData(n)}catch(h){c=e.localeData(e.locale())}return o=c.currency.symbol,a=c.abbreviations,r=c.delimiters.decimal,i="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(u=t.match(/^[^\d]+/))||(t=t.substr(1),u[0]===o))&&(null===(u=t.match(/[^\d]+$/))||(t=t.slice(0,-1),u[0]===a.thousand||u[0]===a.million||u[0]===a.billion||u[0]===a.trillion))&&(l=new RegExp(i+"{2}"),!t.match(/[^\d.,]/g)&&!((s=t.split(r)).length>2)&&(s.length<2?!!s[0].match(/^\d+.*\d$/)&&!s[0].match(l):1===s[0].length?!!s[0].match(/^\d+$/)&&!s[0].match(l)&&!!s[1].match(/^\d+$/):!!s[0].match(/^\d+.*\d$/)&&!s[0].match(l)&&!!s[1].match(/^\d+$/)))},e.fn=a.prototype={clone:function(){return e(this)},format:function(t,n){var i,o,a,l=this._value,c=t||s.defaultFormat;if(n=n||Math.round,0===l&&null!==s.zeroFormat)o=s.zeroFormat;else if(null===l&&null!==s.nullFormat)o=s.nullFormat;else{for(i in r)if(c.match(r[i].regexps.format)){a=r[i].format;break}o=(a=a||e._.numberToFormat)(l,c,n)}return o},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var n=t.correctionFactor.call(null,this._value,e);function r(e,t,r,i){return e+Math.round(n*t)}return this._value=t.reduce([this._value,e],r,0)/n,this},subtract:function(e){var n=t.correctionFactor.call(null,this._value,e);function r(e,t,r,i){return e-Math.round(n*t)}return this._value=t.reduce([e],r,Math.round(this._value*n))/n,this},multiply:function(e){function n(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)*Math.round(n*o)/Math.round(o*o)}return this._value=t.reduce([this._value,e],n,1),this},divide:function(e){function n(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)/Math.round(n*o)}return this._value=t.reduce([this._value,e],n),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,r){var i,o=e._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),function(){var t={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},r=t.suffixes.concat(n.suffixes.filter((function(e){return t.suffixes.indexOf(e)<0}))).join("|");r="("+r.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(r)},format:function(r,i,o){var s,a,l,c=e._.includes(i,"ib")?n:t,u=e._.includes(i," b")||e._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),s=0;s<=c.suffixes.length;s++)if(a=Math.pow(c.base,s),l=Math.pow(c.base,s+1),null===r||0===r||r>=a&&r<l){u+=c.suffixes[s],a>0&&(r/=a);break}return e._.numberToFormat(r,i,o)+u},unformat:function(r){var i,o,s=e._.stringToNumber(r);if(s){for(i=t.suffixes.length-1;i>=0;i--){if(e._.includes(r,t.suffixes[i])){o=Math.pow(t.base,i);break}if(e._.includes(r,n.suffixes[i])){o=Math.pow(n.base,i);break}}s*=o||1}return s}})}(),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,r){var i,o,s=e.locales[e.options.currentLocale],a={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=e._.numberToFormat(t,n,r),t>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(a.before,"-")&&!e._.includes(a.before,"(")&&(a.before="-"+a.before),o=0;o<a.before.length;o++)switch(a.before[o]){case"$":i=e._.insert(i,s.currency.symbol,o);break;case" ":i=e._.insert(i," ",o+s.currency.symbol.length-1)}for(o=a.after.length-1;o>=0;o--)switch(a.after[o]){case"$":i=o===a.after.length-1?i+s.currency.symbol:e._.insert(i,s.currency.symbol,-(a.after.length-(1+o)));break;case" ":i=o===a.after.length-1?i+" ":e._.insert(i," ",-(a.after.length-(1+o)+s.currency.symbol.length-1))}return i}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,r){var i=("number"!==typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(t){var n=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),r=Number(n[0]),i=Number(n[1]);function o(t,n,r,i){var o=e._.correctionFactor(t,n);return t*o*(n*o)/(o*o)}return i=e._.includes(t,"e-")?i*=-1:i,e._.reduce([r,Math.pow(10,i)],o,1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,r){var i=e.locales[e.options.currentLocale],o=e._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=i.ordinal(t),e._.numberToFormat(t,n,r)+o}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,r){var i,o=e._.includes(n," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(t){var n=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*n:n}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,n){var r=Math.floor(e/60/60),i=Math.floor((e-60*r*60)/60),o=Math.round(e-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}}),e},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)},888:(e,t,n)=>{"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:(e,t,n)=>{e.exports=n(888)()},47:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case k:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,Ie=null;function ke(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Te(e){Ee?Ie?Ie.push(e):Ie=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Ie;if(Ie=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function xe(e,t){return e(t)}function Ae(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return xe(e,t,n)}finally{Ne=!1,(null!==Ee||null!==Ie)&&(Ae(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Le(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,o,s,a,l){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,Et,It,kt,Tt=!1,Ct=[],xt=null,At=null,Nt=null,Ot=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Tt=!1,null!==xt&&jt(xt)&&(xt=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Ot.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&zt(xt,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Kt(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=wi(i);if(null!==o&&_t(o),null===(o=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=F({},cn,{view:0,detail:0}),dn=on(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},hn,{relatedTarget:0})),yn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(vn),bn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return In}var Tn=F({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(Tn),xn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Nn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(On),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,_e(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Ir={};function kr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Er[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=kr("animationend"),Cr=kr("animationiteration"),xr=kr("animationstart"),Ar=kr("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Dr=Or[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(xr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Fe;Me=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=o,i=_e(n),s=[];e:{var a=Nr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Tr:case Cr:case xr:l=yn;break;case Ar:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==h&&Qr(s,h,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(Wn(a))if(Jn)g=sr;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(v=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),s.push({event:w,listeners:y}),v?w.data=v:null!==(v=zn(n))&&(w.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}jr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Pe(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Pe(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Si=[],Ei=-1;function Ii(e){return{current:e}}function ki(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function Ti(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ci={},xi=Ii(Ci),Ai=Ii(!1),Ni=Ci;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){ki(Ai),ki(xi)}function Di(e,t,n){if(xi.current!==Ci)throw Error(o(168));Ti(xi,t),Ti(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=xi.current,Ti(xi,e),Ti(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(xi),Ti(xi,e)):ki(Ai),Ti(Ai,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=wt;try{var n=ji;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{wt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Ji="";function Xi(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$i=1<<32-st(t)+i|n<<i|r,Ji=o+e}else $i=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vo=Ii(null),wo=null,bo=null,_o=null;function So(){_o=bo=wo=null}function Eo(e){var t=vo.current;ki(vo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){wo=e,_o=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===wo)throw Error(o(308));bo=e,wo.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var Co=null;function xo(e){null===Co?Co=[e]:Co.push(e)}function Ao(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xo(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return null===(i=r.interleaved)?(t.next=t,xo(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Oo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=h}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo=(new r.Component).refs;function zo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(rc(t,e,r,n),Mo(t,e,r))}};function qo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Wo(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Pi(t)?Ni:xi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vo,Po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Pi(t)?Ni:xi.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(zo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Vo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case S:return(t=Uc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),io&&Xi(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===u?c=h:u.sibling=h,u=h);return io&&Xi(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===h?u=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),io&&Xi(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(a=s(v,a,g),null===h?u=v:h.sibling=v,h=v);return io&&Xi(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Yo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Go(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===E?((o=Mc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Lc(s.type,s.key,s.props,null,r.mode,l)).ref=Go(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(s,r.mode,l)).return=r,r=o}return a(r);case P:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(L(s))return g(r,o,s,l);Qo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=jc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Jo=$o(!0),Xo=$o(!1),Zo={},es=Ii(Zo),ts=Ii(Zo),ns=Ii(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function is(e,t){switch(Ti(ns,t),Ti(ts,e),Ti(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(es),Ti(es,t)}function os(){ki(es),ki(ts),ki(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ti(ts,e),Ti(es,n))}function as(e){ts.current===e&&(ki(es),ki(ts))}var ls=Ii(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function hs(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var ds=b.ReactCurrentDispatcher,fs=b.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,ys=null,vs=!1,ws=!1,bs=0,_s=0;function Ss(){throw Error(o(321))}function Es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Is(e,t,n,r,i,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),ws){s=0;do{if(ws=!1,bs=0,25<=s)throw Error(o(301));s+=1,ys=gs=null,t.updateQueue=null,ds.current=ca,e=n(r,i)}while(ws)}if(ds.current=sa,t=null!==gs&&null!==gs.next,ps=0,ys=gs=ms=null,vs=!1,t)throw Error(o(300));return e}function ks(){var e=0!==bs;return bs=0,e}function Ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?ms.memoizedState=ys=e:ys=ys.next=e,ys}function Cs(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===ys?ms.memoizedState:ys.next;if(null!==t)ys=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===ys?ms.memoizedState=ys=e:ys=ys.next=e}return ys}function xs(e,t){return"function"===typeof t?t(e):t}function As(e){var t=Cs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((ps&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,ms.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,Fl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ns(e){var t=Cs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Os(){}function Ps(e,t){var n=ms,r=Cs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Ws(Ls.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,Us(9,Ds.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(o(349));0!==(30&ps)||Rs(n,t,i)}return i}function Rs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ds(e,t,n,r){t.value=n,t.getSnapshot=r,Ms(t)&&Fs(e)}function Ls(e,t,n){return n((function(){Ms(t)&&Fs(e)}))}function Ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fs(e){var t=No(e,1);null!==t&&rc(t,e,1,-1)}function js(e){var t=Ts();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function Us(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vs(){return Cs().memoizedState}function zs(e,t,n,r){var i=Ts();ms.flags|=e,i.memoizedState=Us(1|t,n,void 0,void 0===r?null:r)}function Bs(e,t,n,r){var i=Cs();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&Es(r,s.deps))return void(i.memoizedState=Us(t,n,o,r))}ms.flags|=e,i.memoizedState=Us(1|t,n,o,r)}function qs(e,t){return zs(8390656,8,e,t)}function Ws(e,t){return Bs(2048,8,e,t)}function Hs(e,t){return Bs(4,2,e,t)}function Ks(e,t){return Bs(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4,4,Gs.bind(null,t,e),n)}function Ys(){}function $s(e,t){var n=Cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Js(e,t){var n=Cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Es(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zs(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{wt=n,fs.transition=r}}function ea(){return Cs().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Ao(e,t,n,r))){rc(n,e,r,tc()),oa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,xo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ao(e,t,i,r))&&(rc(n,e,r,i=tc()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){ws=vs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var sa={readContext:To,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},aa={readContext:To,useCallback:function(e,t){return Ts().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:qs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zs(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return zs(4,2,e,t)},useMemo:function(e,t){var n=Ts();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ts();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ts().memoizedState=e},useState:js,useDebugValue:Ys,useDeferredValue:function(e){return Ts().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=Zs.bind(null,e[1]),Ts().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=Ts();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nl)throw Error(o(349));0!==(30&ps)||Rs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,qs(Ls.bind(null,r,s,e),[e]),r.flags|=2048,Us(9,Ds.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ts(),t=Nl.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-st($i)-1)).toString(32)+n),0<(n=bs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_s++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:To,useCallback:$s,useContext:To,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ks,useMemo:Js,useReducer:As,useRef:Vs,useState:function(){return As(xs)},useDebugValue:Ys,useDeferredValue:function(e){return Xs(Cs(),gs.memoizedState,e)},useTransition:function(){return[As(xs)[0],Cs().memoizedState]},useMutableSource:Os,useSyncExternalStore:Ps,useId:ea,unstable_isNewReconciler:!1},ca={readContext:To,useCallback:$s,useContext:To,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ks,useMemo:Js,useReducer:Ns,useRef:Vs,useState:function(){return Ns(xs)},useDebugValue:Ys,useDeferredValue:function(e){var t=Cs();return null===gs?t.memoizedState=e:Xs(t,gs.memoizedState,e)},useTransition:function(){return[Ns(xs)[0],Cs().memoizedState]},useMutableSource:Os,useSyncExternalStore:Ps,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),da(0,t)},n}function ma(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function _a(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Jo(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Is(e,t,n,r,o,i),n=ks(),null===e||ba?(io&&n&&eo(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ia(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ca(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Dl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Dl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Dl,Rl),Rl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Dl,Rl),Rl|=r;return _a(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var o=Pi(n)?Ni:xi.current;return o=Oi(t,o),ko(t,i),n=Is(e,t,n,r,o,i),r=ks(),null===e||ba?(io&&r&&eo(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function xa(e,t,n,r,i){if(Pi(n)){var o=!0;Mi(t)}else o=!1;if(ko(t,i),null===t.stateNode)Wa(e,t),Wo(t,n,r),Ko(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):c=Oi(t,c=Pi(n)?Ni:xi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&Ho(t,s,r,c),Oo=!1;var d=t.memoizedState;s.state=d,jo(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Ai.current||Oo?("function"===typeof u&&(zo(t,n,u,r),l=t.memoizedState),(a=Oo||qo(t,n,a,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ro(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:yo(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=To(l):l=Oi(t,l=Pi(n)?Ni:xi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&Ho(t,s,r,l),Oo=!1,d=t.memoizedState,s.state=d,jo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ai.current||Oo?("function"===typeof f&&(zo(t,n,f,r),p=t.memoizedState),(c=Oo||qo(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,o,i)}function Aa(e,t,n,r,i,o){Ta(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Ha(e,t,o);r=t.stateNode,wa.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,a,o)):_a(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),is(e,t.containerInfo)}function Oa(e,t,n,r,i){return po(),mo(i),t.flags|=256,_a(e,t,n,r),t.child}var Pa,Ra,Da,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ti(ls,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):Ua(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ha(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(s=Mc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Jo(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,s);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ha(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,No(e,i),rc(r,e,i,-1))}return gc(),Va(e,t,a,r=ha(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Ji,Gi[Qi++]=Yi,$i=e.id,Ji=e.overflow,Yi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Dc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&mo(r),Jo(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Ba(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,o);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Ga(t),null;case 3:return r=t.stateNode,os(),ki(Ai),ki(xi),hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ra(e,t),Ga(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ve(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&w(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ga(t),null;case 13:if(ki(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return os(),Ra(e,t),null===e&&Br(t.stateNode.containerInfo),Ga(t),null;case 10:return Eo(t.type._context),Ga(t),null;case 19:if(ki(ls),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ka(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,Ka(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>ql&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ga(t),null}else 2*Je()-s.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=ls.current,Ti(ls,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ya(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),ki(Ai),ki(xi),hs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(ki(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ls),null;case 4:return os(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Ja=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ja&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,fl(e,t,n),Ja=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(o(160));pl(s,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(i,s),we(l,a);var u=we(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Je())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||h,gl(t,e),Ja=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(d);continue}}null!==p?(p.return=f,Za=p):Sl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||$a;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=$a;var c=Ja;if($a=s,(Ja=l)&&!c)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?El(i):null!==l?(l.return=s,Za=l):El(i);for(;null!==o;)Za=o,bl(o,t,n),o=o.sibling;Za=i,$a=a,Ja=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):_l(e)}}function _l(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Uo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(o(163))}Ja||512&t.flags&&ol(t)}catch(f){kc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{ol(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Il,kl=Math.ceil,Tl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Al=0,Nl=null,Ol=null,Pl=0,Rl=0,Dl=Ii(0),Ll=0,Ml=null,Fl=0,jl=0,Ul=0,Vl=null,zl=null,Bl=0,ql=1/0,Wl=null,Hl=!1,Kl=null,Gl=null,Ql=!1,Yl=null,$l=0,Jl=0,Xl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Al)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Pl?Pl&-Pl:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,Xl=null,Error(o(185));yt(e,n,r),0!==(2&Al)&&e===Nl||(e===Nl&&(0===(2&Al)&&(jl|=n),4===Ll&&lc(e,Pl)),ic(e,r),1===n&&0===Al&&0===(1&t.mode)&&(ql=Je()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Nl?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),si((function(){0===(6&Al)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,ec=0,0!==(6&Al))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Al;Al|=2;var s=mc();for(Nl===e&&Pl===t||(Wl=null,ql=Je()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}So(),Tl.current=s,Al=i,null!==Ol?t=0:(Nl=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,zl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,zl,Wl),t);break}Sc(e,zl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,zl,Wl),r);break}Sc(e,zl,Wl);break;default:throw Error(o(329))}}}return ic(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zl,zl=n,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Ul,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Al))throw Error(o(327));Ec();var t=dt(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,zl,Wl),ic(e,Je()),null}function uc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(ql=Je()+500,Ui&&Bi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&Ec();var t=Al;Al|=1;var n=xl.transition,r=wt;try{if(xl.transition=null,wt=1,e)return e()}finally{wt=r,xl.transition=n,0===(6&(Al=t))&&Bi()}}function dc(){Rl=Dl.current,ki(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:os(),ki(Ai),ki(xi),hs();break;case 5:as(r);break;case 4:os();break;case 13:case 19:ki(ls);break;case 10:Eo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Ol=e=Dc(e.current,null),Pl=Rl=t,Ll=0,Ml=null,Ul=jl=Fl=0,zl=Vl=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Co=null}return e}function pc(e,t){for(;;){var n=Ol;try{if(So(),ds.current=sa,vs){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vs=!1}if(ps=0,ys=gs=ms=null,ws=!1,bs=0,Cl.current=null,null===n||null===n.return){Ll=1,Ml=t,Ol=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ga(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,l,0,t),mo(ua(c,l));break e}}s=c=ua(c,l),4!==Ll&&(Ll=2),null===Vl?Vl=[s]:Vl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,pa(0,c,t));break e;case 1:l=c;var v=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gl||!Gl.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}_c(n)}catch(b){t=b,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function mc(){var e=Tl.current;return Tl.current=sa,null===e?sa:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Nl||0===(268435455&Fl)&&0===(268435455&jl)||lc(Nl,Pl)}function yc(e,t){var n=Al;Al|=2;var r=mc();for(Nl===e&&Pl===t||(Wl=null,fc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(So(),Al=n,Tl.current=r,null!==Ol)throw Error(o(261));return Nl=null,Pl=0,Ll}function vc(){for(;null!==Ol;)bc(Ol)}function wc(){for(;null!==Ol&&!Ye();)bc(Ol)}function bc(e){var t=Il(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?_c(e):Ol=t,Cl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Rl)))return void(Ol=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Ll=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Ll&&(Ll=5)}function Sc(e,t,n){var r=wt,i=xl.transition;try{xl.transition=null,wt=1,function(e,t,n,r){do{Ec()}while(null!==Yl);if(0!==(6&Al))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Nl&&(Ol=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Nc(tt,(function(){return Ec(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=xl.transition,xl.transition=null;var a=wt;wt=1;var l=Al;Al|=4,Cl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),yl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),$e(),Al=l,wt=a,xl.transition=s}else e.current=n;if(Ql&&(Ql=!1,Yl=e,$l=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&$l)&&0!==e.tag&&Ec(),s=e.pendingLanes,0!==(1&s)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,Bi()}(e,t,n,r)}finally{xl.transition=i,wt=r}return null}function Ec(){if(null!==Yl){var e=bt($l),t=xl.transition,n=wt;try{if(xl.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Al))throw Error(o(331));var i=Al;for(Al|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(sl(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Za=v;break e}Za=s.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){kc(l,l.return,S)}if(l===a){Za=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Za=_;break e}Za=l.return}}if(Al=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{wt=n,xl.transition=t}}return!1}function Ic(e,t,n){e=Lo(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Lo(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Je()-Bl?fc(e,0):Ul|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=No(e,t))&&(yt(e,t,n),ic(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Nc(e,t){return Ge(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Oc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Rc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Mc(n.children,i,s,t);case I:a=8,i|=8;break;case k:return(e=Pc(12,n,t,2|i)).elementType=k,e.lanes=s,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=s,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=s,e;case R:return Fc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case C:a=9;break e;case x:a=11;break e;case O:a=14;break e;case P:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,s,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),e}function Bc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,o,s,a,l){return(e=zc(n,r,!0,e,0,o,0,a,l)).context=Bc(null),n=e.current,(o=Do(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,s))&&(rc(e,i,s,o),Mo(e,i,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Na(t),po();break;case 5:ss(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Ti(ls,1&ls.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ti(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Oi(t,xi.current);ko(t,n),i=Is(null,t,r,e,i,n);var s=ks();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Ko(t,r,e,n),t=Aa(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===O)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ro(e,t),jo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Oa(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Oa(e,t,r,n,i=ua(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ha(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ta(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return ja(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ti(vo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ai.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Do(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Io(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Io(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=To(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Ea(e,t,r,i=yo(r.type,i),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Wa(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,ko(t,n),Wo(t,r,i),Ko(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hc(s);a.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(s);o.call(e)}}var s=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),hc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(s)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Je()),0===(6&Al)&&(ql=Je()+500,Bi()))}break;case 13:hc((function(){var t=No(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=No(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},It=function(){return wt},kt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));G(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=uc,Ae=hc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,_i,Te,Ce,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},540:function(e,t,n){var r,i,o;i=[t,n(233)],r=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(t);function r(e){return e&&e.__esModule?e:{default:e}}e.default=n.default},void 0===(o="function"===typeof r?r.apply(t,i):r)||(e.exports=o)},233:function(e,t,n){var r,i,o;i=[t,n(791),n(7)],r=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=f;var r=o(t),i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=!1;function f(e){d=e}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){f(!0)}}))}catch(y){}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{capture:!0};return d?e:e.capture}function m(e){if("touches"in e){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.screenX,y:e.screenY}}var g=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return o._handleSwipeStart=o._handleSwipeStart.bind(o),o._handleSwipeMove=o._handleSwipeMove.bind(o),o._handleSwipeEnd=o._handleSwipeEnd.bind(o),o._onMouseDown=o._onMouseDown.bind(o),o._onMouseMove=o._onMouseMove.bind(o),o._onMouseUp=o._onMouseUp.bind(o),o._setSwiperRef=o._setSwiperRef.bind(o),o}return h(t,e),c(t,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(e){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(e))}},{key:"_onMouseMove",value:function(e){this.mouseDown&&this._handleSwipeMove(e)}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(e)}},{key:"_handleSwipeStart",value:function(e){var t=m(e),n=t.x,r=t.y;this.moveStart={x:n,y:r},this.props.onSwipeStart(e)}},{key:"_handleSwipeMove",value:function(e){if(this.moveStart){var t=m(e),n=t.x,r=t.y,i=n-this.moveStart.x,o=r-this.moveStart.y;this.moving=!0,this.props.onSwipeMove({x:i,y:o},e)&&e.cancelable&&e.preventDefault(),this.movePosition={deltaX:i,deltaY:o}}}},{key:"_handleSwipeEnd",value:function(e){this.props.onSwipeEnd(e);var t=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-t?this.props.onSwipeLeft(1,e):this.movePosition.deltaX>t&&this.props.onSwipeRight(1,e),this.movePosition.deltaY<-t?this.props.onSwipeUp(1,e):this.movePosition.deltaY>t&&this.props.onSwipeDown(1,e)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(e){this.swiper=e,this.props.innerRef(e)}},{key:"render",value:function(){var e=this.props,t=(e.tagName,e.className),n=e.style,i=e.children,o=(e.allowMouseEvents,e.onSwipeUp,e.onSwipeDown,e.onSwipeLeft,e.onSwipeRight,e.onSwipeStart,e.onSwipeMove,e.onSwipeEnd,e.innerRef,e.tolerance,a(e,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]));return r.default.createElement(this.props.tagName,s({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:t,style:n},o),i)}}]),t}(t.Component);g.displayName="ReactSwipe",g.propTypes={tagName:i.default.string,className:i.default.string,style:i.default.object,children:i.default.node,allowMouseEvents:i.default.bool,onSwipeUp:i.default.func,onSwipeDown:i.default.func,onSwipeLeft:i.default.func,onSwipeRight:i.default.func,onSwipeStart:i.default.func,onSwipeMove:i.default.func,onSwipeEnd:i.default.func,innerRef:i.default.func,tolerance:i.default.number.isRequired},g.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=g},void 0===(o="function"===typeof r?r.apply(t,i):r)||(e.exports=o)},988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t,n){var r=0===e?e:e+t;return"translate3d"+("("+("horizontal"===n?[r,0,0]:[0,r,0]).join(",")+")")}},80:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fadeAnimationHandler=t.slideStopSwipingHandler=t.slideSwipeAnimationHandler=t.slideAnimationHandler=void 0;var r,i=n(791),o=(r=n(988))&&r.__esModule?r:{default:r},s=n(735);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.slideAnimationHandler=function(e,t){var n={},r=t.selectedItem,a=r,c=i.Children.count(e.children)-1;if(e.infiniteLoop&&(r<0||r>c))return a<0?e.centerMode&&e.centerSlidePercentage&&"horizontal"===e.axis?n.itemListStyle=(0,s.setPosition)(-(c+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):n.itemListStyle=(0,s.setPosition)(100*-(c+2),e.axis):a>c&&(n.itemListStyle=(0,s.setPosition)(0,e.axis)),n;var u=(0,s.getPosition)(r,e),h=(0,o.default)(u,"%",e.axis),d=e.transitionTime+"ms";return n.itemListStyle={WebkitTransform:h,msTransform:h,OTransform:h,transform:h},t.swiping||(n.itemListStyle=l(l({},n.itemListStyle),{},{WebkitTransitionDuration:d,MozTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d})),n};t.slideSwipeAnimationHandler=function(e,t,n,r){var o={},a="horizontal"===t.axis,l=i.Children.count(t.children),c=(0,s.getPosition)(n.selectedItem,t),u=t.infiniteLoop?(0,s.getPosition)(l-1,t)-100:(0,s.getPosition)(l-1,t),h=a?e.x:e.y,d=h;0===c&&h>0&&(d=0),c===u&&h<0&&(d=0);var f=c+100/(n.itemSize/d),p=Math.abs(h)>t.swipeScrollTolerance;return t.infiniteLoop&&p&&(0===n.selectedItem&&f>-100?f-=100*l:n.selectedItem===l-1&&f<100*-l&&(f+=100*l)),(!t.preventMovementUntilSwipeScrollTolerance||p||n.swipeMovementStarted)&&(n.swipeMovementStarted||r({swipeMovementStarted:!0}),o.itemListStyle=(0,s.setPosition)(f,t.axis)),p&&!n.cancelClick&&r({cancelClick:!0}),o};t.slideStopSwipingHandler=function(e,t){var n=(0,s.getPosition)(t.selectedItem,e);return{itemListStyle:(0,s.setPosition)(n,e.axis)}};t.fadeAnimationHandler=function(e,t){var n=e.transitionTime+"ms",r="ease-in-out",i={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:r,msTransitionTimingFunction:r,MozTransitionTimingFunction:r,WebkitTransitionTimingFunction:r,OTransitionTimingFunction:r};return t.swiping||(i=l(l({},i),{},{WebkitTransitionDuration:n,MozTransitionDuration:n,OTransitionDuration:n,transitionDuration:n,msTransitionDuration:n})),{slideStyle:i,selectedStyle:l(l({},i),{},{opacity:1,position:"relative"}),prevStyle:l({},i)}}},594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(791)),i=h(n(540)),o=h(n(887)),s=h(n(625)),a=h(n(149)),l=h(n(962)),c=n(735),u=n(80);function h(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;return b(e)}(this,n)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(f,e);var t,n,h,d=w(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),S(b(t=d.call(this,e)),"thumbsRef",void 0),S(b(t),"carouselWrapperRef",void 0),S(b(t),"listRef",void 0),S(b(t),"itemsRef",void 0),S(b(t),"timer",void 0),S(b(t),"animationHandler",void 0),S(b(t),"setThumbsRef",(function(e){t.thumbsRef=e})),S(b(t),"setCarouselWrapperRef",(function(e){t.carouselWrapperRef=e})),S(b(t),"setListRef",(function(e){t.listRef=e})),S(b(t),"setItemsRef",(function(e,n){t.itemsRef||(t.itemsRef=[]),t.itemsRef[n]=e})),S(b(t),"autoPlay",(function(){r.Children.count(t.props.children)<=1||(t.clearAutoPlay(),t.props.autoPlay&&(t.timer=setTimeout((function(){t.increment()}),t.props.interval)))})),S(b(t),"clearAutoPlay",(function(){t.timer&&clearTimeout(t.timer)})),S(b(t),"resetAutoPlay",(function(){t.clearAutoPlay(),t.autoPlay()})),S(b(t),"stopOnHover",(function(){t.setState({isMouseEntered:!0},t.clearAutoPlay)})),S(b(t),"startOnLeave",(function(){t.setState({isMouseEntered:!1},t.autoPlay)})),S(b(t),"isFocusWithinTheCarousel",(function(){return!!t.carouselWrapperRef&&!((0,a.default)().activeElement!==t.carouselWrapperRef&&!t.carouselWrapperRef.contains((0,a.default)().activeElement))})),S(b(t),"navigateWithKeyboard",(function(e){if(t.isFocusWithinTheCarousel()){var n="horizontal"===t.props.axis,r=n?37:38;(n?39:40)===e.keyCode?t.increment():r===e.keyCode&&t.decrement()}})),S(b(t),"updateSizes",(function(){if(t.state.initialized&&t.itemsRef&&0!==t.itemsRef.length){var e="horizontal"===t.props.axis,n=t.itemsRef[0];if(n){var r=e?n.clientWidth:n.clientHeight;t.setState({itemSize:r}),t.thumbsRef&&t.thumbsRef.updateSizes()}}})),S(b(t),"setMountState",(function(){t.setState({hasMount:!0}),t.updateSizes()})),S(b(t),"handleClickItem",(function(e,n){0!==r.Children.count(t.props.children)&&(t.state.cancelClick?t.setState({cancelClick:!1}):(t.props.onClickItem(e,n),e!==t.state.selectedItem&&t.setState({selectedItem:e})))})),S(b(t),"handleOnChange",(function(e,n){r.Children.count(t.props.children)<=1||t.props.onChange(e,n)})),S(b(t),"handleClickThumb",(function(e,n){t.props.onClickThumb(e,n),t.moveTo(e)})),S(b(t),"onSwipeStart",(function(e){t.setState({swiping:!0}),t.props.onSwipeStart(e)})),S(b(t),"onSwipeEnd",(function(e){t.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),t.props.onSwipeEnd(e),t.clearAutoPlay(),t.state.autoPlay&&t.autoPlay()})),S(b(t),"onSwipeMove",(function(e,n){t.props.onSwipeMove(n);var r=t.props.swipeAnimationHandler(e,t.props,t.state,t.setState.bind(b(t)));return t.setState(g({},r)),!!Object.keys(r).length})),S(b(t),"decrement",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem-("number"===typeof e?e:1))})),S(b(t),"increment",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem+("number"===typeof e?e:1))})),S(b(t),"moveTo",(function(e){if("number"===typeof e){var n=r.Children.count(t.props.children)-1;e<0&&(e=t.props.infiniteLoop?n:0),e>n&&(e=t.props.infiniteLoop?0:n),t.selectItem({selectedItem:e}),t.state.autoPlay&&!1===t.state.isMouseEntered&&t.resetAutoPlay()}})),S(b(t),"onClickNext",(function(){t.increment(1)})),S(b(t),"onClickPrev",(function(){t.decrement(1)})),S(b(t),"onSwipeForward",(function(){t.increment(1),t.props.emulateTouch&&t.setState({cancelClick:!0})})),S(b(t),"onSwipeBackwards",(function(){t.decrement(1),t.props.emulateTouch&&t.setState({cancelClick:!0})})),S(b(t),"changeItem",(function(e){return function(n){(0,c.isKeyboardEvent)(n)&&"Enter"!==n.key||t.moveTo(e)}})),S(b(t),"selectItem",(function(e){t.setState(g({previousItem:t.state.selectedItem},e),(function(){t.setState(t.animationHandler(t.props,t.state))})),t.handleOnChange(e.selectedItem,r.Children.toArray(t.props.children)[e.selectedItem])})),S(b(t),"getInitialImage",(function(){var e=t.props.selectedItem,n=t.itemsRef&&t.itemsRef[e];return(n&&n.getElementsByTagName("img")||[])[0]})),S(b(t),"getVariableItemHeight",(function(e){var n=t.itemsRef&&t.itemsRef[e];if(t.state.hasMount&&n&&n.children.length){var r=n.children[0].getElementsByTagName("img")||[];if(r.length>0){var i=r[0];if(!i.complete){i.addEventListener("load",(function e(){t.forceUpdate(),i.removeEventListener("load",e)}))}}var o=(r[0]||n.children[0]).clientHeight;return o>0?o:null}return null}));var n={initialized:!1,previousItem:e.selectedItem,selectedItem:e.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:e.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return t.animationHandler="function"===typeof e.animationHandler&&e.animationHandler||"fade"===e.animationHandler&&u.fadeAnimationHandler||u.slideAnimationHandler,t.state=g(g({},n),t.animationHandler(e,n)),t}return t=f,(n=[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(e,t){e.children||!this.props.children||this.state.initialized||this.setupCarousel(),!e.autoFocus&&this.props.autoFocus&&this.forceFocus(),t.swiping&&!this.state.swiping&&this.setState(g({},this.props.stopSwipingHandler(this.props,this.state))),e.selectedItem===this.props.selectedItem&&e.centerMode===this.props.centerMode||(this.updateSizes(),this.moveTo(this.props.selectedItem)),e.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var e=this;this.bindEvents(),this.state.autoPlay&&r.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},(function(){var t=e.getInitialImage();t&&!t.complete?t.addEventListener("load",e.setMountState):e.setMountState()}))}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.addEventListener("mouseenter",this.stopOnHover),e.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.removeEventListener("mouseenter",this.stopOnHover),e.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,a.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var e=this.getInitialImage();e&&e.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,a.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var e;null===(e=this.carouselWrapperRef)||void 0===e||e.focus()}},{key:"renderItems",value:function(e){var t=this;return this.props.children?r.Children.map(this.props.children,(function(n,i){var s=i===t.state.selectedItem,a=i===t.state.previousItem,l=s&&t.state.selectedStyle||a&&t.state.prevStyle||t.state.slideStyle||{};t.props.centerMode&&"horizontal"===t.props.axis&&(l=g(g({},l),{},{minWidth:t.props.centerSlidePercentage+"%"})),t.state.swiping&&t.state.swipeMovementStarted&&(l=g(g({},l),{},{pointerEvents:"none"}));var c={ref:function(e){return t.setItemsRef(e,i)},key:"itemKey"+i+(e?"clone":""),className:o.default.ITEM(!0,i===t.state.selectedItem,i===t.state.previousItem),onClick:t.handleClickItem.bind(t,i,n),style:l};return r.default.createElement("li",c,t.props.renderItem(n,{isSelected:i===t.state.selectedItem,isPrevious:i===t.state.previousItem}))})):[]}},{key:"renderControls",value:function(){var e=this,t=this.props,n=t.showIndicators,i=t.labels,o=t.renderIndicator,s=t.children;return n?r.default.createElement("ul",{className:"control-dots"},r.Children.map(s,(function(t,n){return o&&o(e.changeItem(n),n===e.state.selectedItem,n,i.item)}))):null}},{key:"renderStatus",value:function(){return this.props.showStatus?r.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,r.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return this.props.showThumbs&&this.props.children&&0!==r.Children.count(this.props.children)?r.default.createElement(s.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children)):null}},{key:"render",value:function(){var e=this;if(!this.props.children||0===r.Children.count(this.props.children))return null;var t=this.props.swipeable&&r.Children.count(this.props.children)>1,n="horizontal"===this.props.axis,s=this.props.showArrows&&r.Children.count(this.props.children)>1,a=s&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,l=s&&(this.state.selectedItem<r.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,c=this.renderItems(!0),u=c.shift(),h=c.pop(),d={className:o.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},f={};if(n){if(d.onSwipeLeft=this.onSwipeForward,d.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var m=this.getVariableItemHeight(this.state.selectedItem);f.height=m||"auto"}}else d.onSwipeUp="natural"===this.props.verticalSwipe?this.onSwipeBackwards:this.onSwipeForward,d.onSwipeDown="natural"===this.props.verticalSwipe?this.onSwipeForward:this.onSwipeBackwards,d.style=g(g({},d.style),{},{height:this.state.itemSize}),f.height=this.state.itemSize;return r.default.createElement("div",{"aria-label":this.props.ariaLabel,className:o.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},r.default.createElement("div",{className:o.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,a,this.props.labels.leftArrow),r.default.createElement("div",{className:o.default.WRAPPER(!0,this.props.axis),style:f},t?r.default.createElement(i.default,p({tagName:"ul",innerRef:this.setListRef},d,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&h,this.renderItems(),this.props.infiniteLoop&&u):r.default.createElement("ul",{className:o.default.SLIDER(!0,this.state.swiping),ref:function(t){return e.setListRef(t)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&h,this.renderItems(),this.props.infiniteLoop&&u)),this.props.renderArrowNext(this.onClickNext,l,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}])&&y(t.prototype,n),h&&y(t,h),f}(r.default.Component);t.default=E,S(E,"displayName","Carousel"),S(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:c.noop,onClickThumb:c.noop,onChange:c.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:o.default.ARROW_PREV(!t),onClick:e})},renderArrowNext:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:o.default.ARROW_NEXT(!t),onClick:e})},renderIndicator:function(e,t,n,i){return r.default.createElement("li",{className:o.default.DOT(t),onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(n+1)})},renderItem:function(e){return e},renderThumbs:function(e){var t=r.Children.map(e,(function(e){var t=e;if("img"!==e.type&&(t=r.Children.toArray(e.props.children).find((function(e){return"img"===e.type}))),t)return t}));return 0===t.filter((function(e){return e})).length?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):t},statusFormatter:c.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler})},103:()=>{},735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPosition=t.getPosition=t.isKeyboardEvent=t.defaultStatusFormatter=t.noop=void 0;var r,i=n(791),o=(r=n(988))&&r.__esModule?r:{default:r};t.noop=function(){};t.defaultStatusFormatter=function(e,t){return"".concat(e," of ").concat(t)};t.isKeyboardEvent=function(e){return!!e&&e.hasOwnProperty("key")};t.getPosition=function(e,t){if(t.infiniteLoop&&++e,0===e)return 0;var n=i.Children.count(t.children);if(t.centerMode&&"horizontal"===t.axis){var r=-e*t.centerSlidePercentage,o=n-1;return e&&(e!==o||t.infiniteLoop)?r+=(100-t.centerSlidePercentage)/2:e===o&&(r+=100-t.centerSlidePercentage),r}return 100*-e};t.setPosition=function(e,t){var n={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(r){n[r]=(0,o.default)(e,"%",t)})),n}},625:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(791)),i=c(n(887)),o=n(970),s=c(n(988)),a=c(n(540)),l=c(n(962));function c(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(h,e);var t,n,c,u=m(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),v(g(t=u.call(this,e)),"itemsWrapperRef",void 0),v(g(t),"itemsListRef",void 0),v(g(t),"thumbsRef",void 0),v(g(t),"setItemsWrapperRef",(function(e){t.itemsWrapperRef=e})),v(g(t),"setItemsListRef",(function(e){t.itemsListRef=e})),v(g(t),"setThumbsRef",(function(e,n){t.thumbsRef||(t.thumbsRef=[]),t.thumbsRef[n]=e})),v(g(t),"updateSizes",(function(){if(t.props.children&&t.itemsWrapperRef&&t.thumbsRef){var e=r.Children.count(t.props.children),n=t.itemsWrapperRef.clientWidth,i=t.props.thumbWidth?t.props.thumbWidth:(0,o.outerWidth)(t.thumbsRef[0]),s=Math.floor(n/i),a=s<e,l=a?e-s:0;t.setState((function(e,n){return{itemSize:i,visibleItems:s,firstItem:a?t.getFirstItem(n.selectedItem):0,lastPosition:l,showArrows:a}}))}})),v(g(t),"handleClickItem",(function(e,n,r){if(!function(e){return e.hasOwnProperty("key")}(r)||"Enter"===r.key){var i=t.props.onSelectItem;"function"===typeof i&&i(e,n)}})),v(g(t),"onSwipeStart",(function(){t.setState({swiping:!0})})),v(g(t),"onSwipeEnd",(function(){t.setState({swiping:!1})})),v(g(t),"onSwipeMove",(function(e){var n=e.x;if(!t.state.itemSize||!t.itemsWrapperRef||!t.state.visibleItems)return!1;var i=r.Children.count(t.props.children),o=-100*t.state.firstItem/t.state.visibleItems;0===o&&n>0&&(n=0),o===100*-Math.max(i-t.state.visibleItems,0)/t.state.visibleItems&&n<0&&(n=0);var a=o+100/(t.itemsWrapperRef.clientWidth/n);return t.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(e){t.itemsListRef.style[e]=(0,s.default)(a,"%",t.props.axis)})),!0})),v(g(t),"slideRight",(function(e){t.moveTo(t.state.firstItem-("number"===typeof e?e:1))})),v(g(t),"slideLeft",(function(e){t.moveTo(t.state.firstItem+("number"===typeof e?e:1))})),v(g(t),"moveTo",(function(e){e=(e=e<0?0:e)>=t.state.lastPosition?t.state.lastPosition:e,t.setState({firstItem:e})})),t.state={selectedItem:e.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},t}return t=h,(n=[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(e){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==e.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(e){var t=e;return e>=this.state.lastPosition&&(t=this.state.lastPosition),e<this.state.firstItem+this.state.visibleItems&&(t=this.state.firstItem),e<this.state.firstItem&&(t=e),t}},{key:"renderItems",value:function(){var e=this;return this.props.children.map((function(t,n){var o=i.default.ITEM(!1,n===e.state.selectedItem),s={key:n,ref:function(t){return e.setThumbsRef(t,n)},className:o,onClick:e.handleClickItem.bind(e,n,e.props.children[n]),onKeyDown:e.handleClickItem.bind(e,n,e.props.children[n]),"aria-label":"".concat(e.props.labels.item," ").concat(n+1),style:{width:e.props.thumbWidth}};return r.default.createElement("li",d({},s,{role:"button",tabIndex:0}),t)}))}},{key:"render",value:function(){var e=this;if(!this.props.children)return null;var t,n=r.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,l=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,c=-this.state.firstItem*(this.state.itemSize||0),u=(0,s.default)(c,"px",this.props.axis),h=this.props.transitionTime+"ms";return t={WebkitTransform:u,MozTransform:u,MsTransform:u,OTransform:u,transform:u,msTransform:u,WebkitTransitionDuration:h,MozTransitionDuration:h,MsTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h},r.default.createElement("div",{className:i.default.CAROUSEL(!1)},r.default.createElement("div",{className:i.default.WRAPPER(!1),ref:this.setItemsWrapperRef},r.default.createElement("button",{type:"button",className:i.default.ARROW_PREV(!o),onClick:function(){return e.slideRight()},"aria-label":this.props.labels.leftArrow}),n?r.default.createElement(a.default,{tagName:"ul",className:i.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:t,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):r.default.createElement("ul",{className:i.default.SLIDER(!1,this.state.swiping),ref:function(t){return e.setItemsListRef(t)},style:t},this.renderItems()),r.default.createElement("button",{type:"button",className:i.default.ARROW_NEXT(!l),onClick:function(){return e.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}])&&f(t.prototype,n),c&&f(t,c),h}(r.Component);t.default=w,v(w,"displayName","Thumbs"),v(w,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350})},887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(418))&&r.__esModule?r:{default:r};var o={ROOT:function(e){return(0,i.default)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,i.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,t){return(0,i.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":"horizontal"===t,"axis-vertical":"horizontal"!==t})},SLIDER:function(e,t){return(0,i.default)({thumbs:!e,slider:e,animated:!t})},ITEM:function(e,t,n){return(0,i.default)({thumb:!e,slide:e,selected:t,previous:n})},ARROW_PREV:function(e){return(0,i.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,i.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,i.default)({dot:!0,selected:e})}};t.default=o},970:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outerWidth=void 0;t.outerWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight)}},197:(e,t,n)=>{"use strict";Object.defineProperty(t,"lr",{enumerable:!0,get:function(){return r.default}});var r=s(n(594)),i=n(103),o=s(n(625));function s(e){return e&&e.__esModule?e:{default:e}}},149:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return document}},962:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return window}},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+x(l,0):o,_(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(s,t,i,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+x(a=e[c],c);l+=A(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,u=o+x(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,R(S);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var o=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(_,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,I=!1,k=null,T=-1,C=5,x=-1;function A(){return!(t.unstable_now()-x<C)}function N(){if(null!==k){var e=t.unstable_now();x=e;var n=!0;try{n=k(!0,e)}finally{n?E():(I=!1,k=null)}}else I=!1}if("function"===typeof w)E=function(){w(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=N,E=function(){P.postMessage(null)}}else E=function(){y(N,0)};function R(e){k=e,I||(I=!0,E())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(T),T=-1):g=!0,D(_,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},418:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/AMAZON/",(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Ot,SDK_VERSION:()=>Mn,_DEFAULT_ENTRY_NAME:()=>In,_addComponent:()=>xn,_addOrOverwriteComponent:()=>An,_apps:()=>Tn,_clearComponents:()=>Rn,_components:()=>Cn,_getProvider:()=>On,_registerComponent:()=>Nn,_removeServiceInstance:()=>Pn,deleteApp:()=>Vn,getApp:()=>jn,getApps:()=>Un,initializeApp:()=>Fn,onLog:()=>Bn,registerVersion:()=>zn,setLogLevel:()=>qn});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>yT,hasStandardBrowserEnv:()=>vT,hasStandardBrowserWebWorkerEnv:()=>bT});var r=n(791),i=n.t(r,2),o=n(250),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(s),l=["attr","size","title"];function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return e&&e.map(((e,t)=>r.createElement(e.tag,d({key:t},e.attr),p(e.child))))}function m(e){return t=>r.createElement(g,u({attr:d({},e.attr)},t),p(e.child))}function g(e){var t=t=>{var n,{attr:i,size:o,title:s}=e,a=c(e,l),h=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",u({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,a,{className:n,style:d(d({color:e.color||t.color},t.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==a?r.createElement(a.Consumer,null,(e=>t(e))):t(s)}function y(e){return m({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(e)}function v(e){return m({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"},child:[]}]})(e)}function w(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(e)}const b="Header_fixed__AZx8Y",_="Header_header_container__-gO7C",S="Header_logo_container__j++vl",E="Header_delivary__NdKTo",I="Header_search__GxWmk",k="Header_order_container__S4vPw",T="Header_language__6lZCE",C="Header_cart__UQCJC",x="Header_Lower_container__LKA9w";function A(e){return m({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(e)}var N=n(184);const O=function(){return(0,N.jsx)("div",{className:x,children:(0,N.jsxs)("ul",{children:[(0,N.jsxs)("li",{children:[(0,N.jsx)(A,{}),(0,N.jsx)("p",{children:"All"})]}),(0,N.jsx)("li",{children:" Today's Deals"}),(0,N.jsx)("li",{children:" Customer Service"}),(0,N.jsx)("li",{children:"Registry"}),(0,N.jsx)("li",{children:"Gift Cards"}),(0,N.jsx)("li",{children:"Sell"})]})})};var P,R=n(164),D=n.t(R,2);function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(P||(P={}));const M="popstate";function F(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function j(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function U(e,t){return{usr:e.state,key:e.key,idx:t}}function V(e,t,n,r){return void 0===n&&(n=null),L({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?B(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function z(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function B(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function q(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=P.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function h(){a=P.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:z(e);return F(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(L({},s.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(M,h),l=e,()=>{i.removeEventListener(M,h),l=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=P.Push;let r=V(f.location,e,t);n&&n(r,e),c=u()+1;let h=U(r,c),d=f.createHref(r);try{s.pushState(h,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(d)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=P.Replace;let r=V(f.location,e,t);n&&n(r,e),c=u();let i=U(r,c),h=f.createHref(r);s.replaceState(i,"",h),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}var W;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(W||(W={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function H(e,t,n){void 0===n&&(n="/");let r=oe(("string"===typeof t?B(t):t).pathname||"/",n);if(null==r)return null;let i=K(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=ne(i[s],ie(r));return o}function K(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(F(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=ue([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(F(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),K(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:te(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of G(e.path))i(e,t,r);else i(e,t)})),t}function G(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=G(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const Q=/^:[\w-]+$/,Y=3,$=2,J=1,X=10,Z=-2,ee=e=>"*"===e;function te(e,t){let n=e.split("/"),r=n.length;return n.some(ee)&&(r+=Z),t&&(r+=$),n.filter((e=>!ee(e))).reduce(((e,t)=>e+(Q.test(t)?Y:""===t?J:X)),r)}function ne(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=re({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:ue([i,c.pathname]),pathnameBase:he(ue([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=ue([i,c.pathnameBase]))}return o}function re(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);j("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return j(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function ie(e){try{return decodeURI(e)}catch(t){return j(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function oe(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function se(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ae(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function le(e,t){let n=ae(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function ce(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=B(e):(i=L({},e),F(!i.pathname||!i.pathname.includes("?"),se("?","pathname","search",i)),F(!i.pathname||!i.pathname.includes("#"),se("#","pathname","hash",i)),F(!i.search||!i.search.includes("#"),se("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?B(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:de(r),hash:fe(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const ue=e=>e.join("/").replace(/\/\/+/g,"/"),he=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),de=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",fe=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function pe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const me=["post","put","patch","delete"],ge=(new Set(me),["get",...me]);new Set(ge),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}const ve=r.createContext(null);const we=r.createContext(null);const be=r.createContext(null);const _e=r.createContext(null);const Se=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Ee=r.createContext(null);function Ie(){return null!=r.useContext(_e)}function ke(){return Ie()||F(!1),r.useContext(_e).location}function Te(e){r.useContext(be).static||r.useLayoutEffect(e)}function Ce(){let{isDataRoute:e}=r.useContext(Se);return e?function(){let{router:e}=Fe(Le.UseNavigateStable),t=Ue(Me.UseNavigateStable),n=r.useRef(!1);Te((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,ye({fromRouteId:t},i)))}),[e,t]);return i}():function(){Ie()||F(!1);let e=r.useContext(ve),{basename:t,future:n,navigator:i}=r.useContext(be),{matches:o}=r.useContext(Se),{pathname:s}=ke(),a=JSON.stringify(le(o,n.v7_relativeSplatPath)),l=r.useRef(!1);return Te((()=>{l.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let o=ce(n,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:ue([t,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[t,i,a,s,e])}()}function xe(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(be),{matches:o}=r.useContext(Se),{pathname:s}=ke(),a=JSON.stringify(le(o,i.v7_relativeSplatPath));return r.useMemo((()=>ce(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function Ae(e,t,n,i){Ie()||F(!1);let{navigator:o}=r.useContext(be),{matches:s}=r.useContext(Se),a=s[s.length-1],l=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let u,h=ke();if(t){var d;let e="string"===typeof t?B(t):t;"/"===c||(null==(d=e.pathname)?void 0:d.startsWith(c))||F(!1),u=e}else u=h;let f=u.pathname||"/",p=H(e,{pathname:"/"===c?f:f.slice(c.length)||"/"});let m=De(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ue([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ue([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,i);return t&&m?r.createElement(_e.Provider,{value:{location:ye({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:P.Pop}},m):m}function Ne(){let e=function(){var e;let t=r.useContext(Ee),n=je(Me.UseRouteError),i=Ue(Me.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=pe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const Oe=r.createElement(Ne,null);class Pe extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Se.Provider,{value:this.props.routeContext},r.createElement(Ee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Re(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(ve);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Se.Provider,{value:t},i)}function De(e,t,n,i){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let a=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||F(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,i,o)=>{let s,h=!1,d=null,f=null;var p;n&&(s=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||Oe,c&&(u<0&&0===o?(p="route-fallback",!1||Ve[p]||(Ve[p]=!0),h=!0,f=null):u===o&&(h=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,o+1)),g=()=>{let t;return t=s?d:h?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Re,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(Pe,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var Le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Le||{}),Me=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Me||{});function Fe(e){let t=r.useContext(ve);return t||F(!1),t}function je(e){let t=r.useContext(we);return t||F(!1),t}function Ue(e){let t=function(e){let t=r.useContext(Se);return t||F(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||F(!1),n.route.id}const Ve={};i.startTransition;function ze(e){F(!1)}function Be(e){let{basename:t="/",children:n=null,location:i,navigationType:o=P.Pop,navigator:s,static:a=!1,future:l}=e;Ie()&&F(!1);let c=t.replace(/^\/*/,"/"),u=r.useMemo((()=>({basename:c,navigator:s,static:a,future:ye({v7_relativeSplatPath:!1},l)})),[c,l,s,a]);"string"===typeof i&&(i=B(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:m="default"}=i,g=r.useMemo((()=>{let e=oe(h,c);return null==e?null:{location:{pathname:e,search:d,hash:f,state:p,key:m},navigationType:o}}),[c,h,d,f,p,m,o]);return null==g?null:r.createElement(be.Provider,{value:u},r.createElement(_e.Provider,{children:n,value:g}))}function qe(e){let{children:t,location:n}=e;return Ae(We(t),n)}new Promise((()=>{}));r.Component;function We(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,We(e.props.children,o));e.type!==ze&&F(!1),e.props.index&&e.props.children&&F(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=We(e.props.children,o)),n.push(s)})),n}function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},He.apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ge=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(GP){}new Map;const Qe=i.startTransition;D.flushSync,i.useId;function Ye(e){let{basename:t,children:n,future:i,window:o}=e,s=r.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),q((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=B(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),V("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:z(t))}),(function(e,t){j("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),a)));let l=s.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=r.useCallback((e=>{h&&Qe?Qe((()=>u(e))):u(e)}),[u,h]);return r.useLayoutEffect((()=>l.listen(d)),[l,d]),r.createElement(Be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const $e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Je=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=r.forwardRef((function(e,t){let n,{onClick:i,relative:o,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:h,unstable_viewTransition:d}=e,f=Ke(e,Ge),{basename:p}=r.useContext(be),m=!1;if("string"===typeof u&&Je.test(u)&&(n=u,$e))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=oe(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(GP){}let g=function(e,t){let{relative:n}=void 0===t?{}:t;Ie()||F(!1);let{basename:i,navigator:o}=r.useContext(be),{hash:s,pathname:a,search:l}=xe(e,{relative:n}),c=a;return"/"!==i&&(c="/"===a?i:ue([i,a])),o.createHref({pathname:c,search:l,hash:s})}(u,{relative:o}),y=function(e,t){let{target:n,replace:i,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,c=Ce(),u=ke(),h=xe(e,{relative:a});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:z(u)===z(h);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l})}}),[u,c,h,i,o,n,e,s,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:o,unstable_viewTransition:d});return r.createElement("a",He({},f,{href:n||g,onClick:m||s?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:t,target:c}))}));var Ze,et;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ze||(Ze={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(et||(et={}));const tt="ADD_TO_BASKET",nt="REMOVE_FROM_BASKET",rt="SET_USER",it="EMPTY_BASKET",ot=(0,r.createContext)(),st=e=>{let{children:t,reducer:n,intitialstate:i}=e;return(0,N.jsx)(ot.Provider,{value:(0,r.useReducer)(n,i),children:t})},at="Signup_login__jK1Qt",lt="Signup_login_container__nRF6h",ct="Signup_Login_SignInbutton__x90Du",ut="Signup_login_registerbutton__Sgs2z";const ht=function(e){let{children:t}=e;return(0,N.jsxs)("div",{children:[(0,N.jsx)(ik,{}),t]})},dt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ft={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(dt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new pt;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class pt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mt=function(e){return function(e){const t=dt(e);return ft.encodeByteArray(t,!0)}(e).replace(/\./g,"")},gt=function(e){try{return ft.decodeString(e,!0)}catch(GP){console.error("base64Decode failed: ",GP)}return null};function yt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=yt(e[n],t[n]));return e}const vt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,wt=()=>{try{return vt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/AMAZON",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(GP){return}const t=e&&gt(e[1]);return t&&JSON.parse(t)})()}catch(GP){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(GP))}},bt=e=>{var t,n;return null===(n=null===(t=wt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},_t=()=>{var e;return null===(e=wt())||void 0===e?void 0:e.config},St=e=>{var t;return null===(t=wt())||void 0===t?void 0:t["_".concat(e)]};class Et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function It(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function kt(){var e;const t=null===(e=wt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(GP){return!1}}function Tt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ct(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function xt(){const e=It();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function At(){return!kt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nt(){try{return"object"===typeof indexedDB}catch(GP){return!1}}class Ot extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Rt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ot(n,o,t)}}const Rt=/\{\$([^}]+)}/g;function Dt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Lt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Mt(n)&&Mt(o)){if(!Lt(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mt(e){return null!==e&&"object"===typeof e}function Ft(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function jt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ut(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Vt(e,t){const n=new zt(e,t);return n.subscribe.bind(n)}class zt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Bt),void 0===r.error&&(r.error=Bt),void 0===r.complete&&(r.complete=Bt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(GP){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(GP){"undefined"!==typeof console&&console.error&&console.error(GP)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Bt(){}function qt(e){return e&&e._delegate?e._delegate:e}class Wt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ht="[DEFAULT]";class Kt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Et;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(GP){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(GP){if(r)return null;throw GP}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ht})}catch(GP){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(GP){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Gt(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;return this.component?this.component.multipleInstances?e:Ht:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Gt(e){return e===Ht?void 0:e}class Qt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Kt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Yt=[];var $t;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}($t||($t={}));const Jt={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},Xt=$t.INFO,Zt={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},en=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Zt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class tn{constructor(e){this.name=e,this._logLevel=Xt,this._logHandler=en,this._userLogHandler=null,Yt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $t))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Jt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const nn=(e,t)=>t.some((t=>e instanceof t));let rn,on;const sn=new WeakMap,an=new WeakMap,ln=new WeakMap,cn=new WeakMap,un=new WeakMap;let hn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return an.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ln.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function dn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(on||(on=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(mn(this),n),pn(sn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pn(e.apply(mn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(mn(this),t,...r);return ln.set(o,t.sort?t.sort():[t]),pn(o)}}function fn(e){return"function"===typeof e?dn(e):(e instanceof IDBTransaction&&function(e){if(an.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));an.set(e,t)}(e),nn(e,rn||(rn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,hn):e)}function pn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(pn(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&sn.set(t,e)})).catch((()=>{})),un.set(t,e),t}(e);if(cn.has(e))return cn.get(e);const t=fn(e);return t!==e&&(cn.set(e,t),un.set(t,e)),t}const mn=e=>un.get(e);const gn=["get","getKey","getAll","getAllKeys","count"],yn=["put","add","delete","clear"],vn=new Map;function wn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(vn.get(t))return vn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=yn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gn.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return vn.set(t,o),o}hn=(e=>({...e,get:(t,n,r)=>wn(t,n)||e.get(t,n,r),has:(t,n)=>!!wn(t,n)||e.has(t,n)}))(hn);class bn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const _n="@firebase/app",Sn="0.9.27",En=new tn("@firebase/app"),In="[DEFAULT]",kn={[_n]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Tn=new Map,Cn=new Map;function xn(e,t){try{e.container.addComponent(t)}catch(GP){En.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),GP)}}function An(e,t){e.container.addOrOverwriteComponent(t)}function Nn(e){const t=e.name;if(Cn.has(t))return En.debug("There were multiple attempts to register component ".concat(t,".")),!1;Cn.set(t,e);for(const n of Tn.values())xn(n,e);return!0}function On(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Pn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:In;On(e,t).clearInstance(n)}function Rn(){Cn.clear()}const Dn=new Pt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ln{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Wt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}const Mn="10.8.0";function Fn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:In,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Dn.create("bad-app-name",{appName:String(i)});if(n||(n=_t()),!n)throw Dn.create("no-options");const o=Tn.get(i);if(o){if(Lt(n,o.options)&&Lt(r,o.config))return o;throw Dn.create("duplicate-app",{appName:i})}const s=new Qt(i);for(const l of Cn.values())s.addComponent(l);const a=new Ln(n,r,s);return Tn.set(i,a),a}function jn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In;const t=Tn.get(e);if(!t&&e===In&&_t())return Fn();if(!t)throw Dn.create("no-app",{appName:e});return t}function Un(){return Array.from(Tn.values())}async function Vn(e){const t=e.name;Tn.has(t)&&(Tn.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function zn(e,t,n){var r;let i=null!==(r=kn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void En.warn(e.join(" "))}Nn(new Wt("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Bn(e,t){if(null!==e&&"function"!==typeof e)throw Dn.create("invalid-log-argument");!function(e,t){for(const n of Yt){let r=null;t&&t.level&&(r=Jt[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:$t[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function qn(e){var t;t=e,Yt.forEach((e=>{e.setLogLevel(t)}))}const Wn="firebase-heartbeat-database",Hn=1,Kn="firebase-heartbeat-store";let Gn=null;function Qn(){return Gn||(Gn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=pn(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(pn(s.result),e.oldVersion,e.newVersion,pn(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Wn,Hn,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Kn)}catch(GP){console.warn(GP)}}}).catch((e=>{throw Dn.create("idb-open",{originalErrorMessage:e.message})}))),Gn}async function Yn(e,t){try{const n=(await Qn()).transaction(Kn,"readwrite"),r=n.objectStore(Kn);await r.put(t,$n(e)),await n.done}catch(GP){if(GP instanceof Ot)En.warn(GP.message);else{const t=Dn.create("idb-set",{originalErrorMessage:null===GP||void 0===GP?void 0:GP.message});En.warn(t.message)}}}function $n(e){return"".concat(e.name,"!").concat(e.options.appId)}class Jn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Zn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Xn();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Xn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),er(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),er(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=mt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Xn(){return(new Date).toISOString().substring(0,10)}class Zn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Nt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Qn()).transaction(Kn),n=await t.objectStore(Kn).get($n(e));return await t.done,n}catch(GP){if(GP instanceof Ot)En.warn(GP.message);else{const t=Dn.create("idb-get",{originalErrorMessage:null===GP||void 0===GP?void 0:GP.message});En.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Yn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Yn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function er(e){return mt(JSON.stringify({version:2,heartbeats:e})).length}var tr;tr="",Nn(new Wt("platform-logger",(e=>new bn(e)),"PRIVATE")),Nn(new Wt("heartbeat",(e=>new Jn(e)),"PRIVATE")),zn(_n,Sn,tr),zn(_n,Sn,"esm2017"),zn("fire-js","");class nr{constructor(e,t){this._delegate=e,this.firebase=t,xn(e,new Wt("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Vn(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:In;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:In;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){xn(this._delegate,e)}_addOrOverwriteComponent(e){An(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const rr=new Pt("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const ir=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Fn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Dt(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:zn,setLogLevel:qn,onLog:Bn,apps:null,SDK_VERSION:Mn,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Nn(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw rr.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&yt(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Dt(n,e=e||In))throw rr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(nr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){yt(n,e)},createSubscribe:Vt,ErrorFactory:Pt,deepExtend:yt}),n}(),or=new tn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){or.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&or.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const sr=ir;!function(e){zn("@firebase/app-compat","0.2.27",e)}();sr.registerVersion("firebase","10.8.0","app-compat");function ar(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const lr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},cr="EMAIL_SIGNIN",ur="PASSWORD_RESET",hr="RECOVER_EMAIL",dr="REVERT_SECOND_FACTOR_ADDITION",fr="VERIFY_AND_CHANGE_EMAIL",pr="VERIFY_EMAIL";function mr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gr=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},yr=mr,vr=new Pt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wr=new tn("@firebase/auth");function br(e){if(wr.logLevel<=$t.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wr.error("Auth (".concat(Mn,"): ").concat(e),...n)}}function _r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw kr(e,...n)}function Sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kr(e,...n)}function Er(e,t,n){const r=Object.assign(Object.assign({},yr()),{[t]:n});return new Pt("auth","Firebase",r).create(t,{appName:e.name})}function Ir(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&_r(e,"argument-error"),Er(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function kr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return vr.create(e,...n)}function Tr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw kr(t,...r)}}function Cr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw br(t),new Error(t)}function xr(e,t){e||Cr(t)}function Ar(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Nr(){return"http:"===Or()||"https:"===Or()}function Or(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Pr{constructor(e,t){this.shortDelay=e,this.longDelay=t,xr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())||Ct()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Nr()||Tt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Rr(e,t){xr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Dr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Mr=new Pr(3e4,6e4);function Fr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function jr(e,t,n,r){return Ur(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Ft(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Dr.fetch()(zr(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Ur(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lr),t);try{const t=new qr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Wr(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Wr(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Wr(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Wr(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Er(e,a,s);_r(e,a)}}catch(GP){if(GP instanceof Ot)throw GP;_r(e,"network-request-failed",{message:String(GP)})}}async function Vr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await jr(e,t,n,r,i);return"mfaPendingCredential"in o&&_r(e,"multi-factor-auth-required",{_serverResponse:o}),o}function zr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Rr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Br(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Sr(this.auth,"network-request-failed"))),Mr.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sr(e,t,r);return i.customData._tokenResponse=n,i}function Hr(e){return void 0!==e&&void 0!==e.getResponse}function Kr(e){return void 0!==e&&void 0!==e.enterprise}class Gr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Br(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Qr(e,t){return jr(e,"GET","/v2/recaptchaConfig",Fr(e,t))}function Yr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(GP){}}function $r(e){return 1e3*Number(e)}function Jr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return br("JWT malformed, contained fewer than 3 sections"),null;try{const e=gt(n);return e?JSON.parse(e):(br("Failed to decode base64 JWT payload"),null)}catch(GP){return br("Caught error parsing JWT payload as JSON",null===GP||void 0===GP?void 0:GP.toString()),null}}async function Xr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(GP){throw GP instanceof Ot&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(GP)&&e.auth.currentUser===e&&await e.auth.signOut(),GP}}class Zr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(GP){return void((null===GP||void 0===GP?void 0:GP.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ei{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yr(this.lastLoginAt),this.creationTime=Yr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ti(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Xr(e,async function(e,t){return jr(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Tr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=ar(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ei(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class ni{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tr(e.idToken,"internal-error"),Tr("undefined"!==typeof e.idToken,"internal-error"),Tr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Jr(e);return Tr(t,"internal-error"),Tr("undefined"!==typeof t.exp,"internal-error"),Tr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Tr(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ur(e,{},(async()=>{const n=Ft({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=zr(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Dr.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new ni;return n&&(Tr("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Tr("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Tr("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ni,this.toJSON())}_performRefresh(){return Cr("not implemented")}}function ri(e,t){Tr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ii{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ar(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ei(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Xr(this,this.stsTokenManager.getToken(this.auth,e));return Tr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=qt(e),r=await n.getIdToken(t),i=Jr(r);Tr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Yr($r(i.auth_time)),issuedAtTime:Yr($r(i.iat)),expirationTime:Yr($r(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=qt(e);await ti(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Tr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Tr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ti(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Xr(this,async function(e,t){return jr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=t;Tr(v&&S,e,"internal-error");const E=ni.fromJSON(this.name,S);Tr("string"===typeof v,e,"internal-error"),ri(u,e.name),ri(h,e.name),Tr("boolean"===typeof w,e,"internal-error"),Tr("boolean"===typeof b,e,"internal-error"),ri(d,e.name),ri(f,e.name),ri(p,e.name),ri(m,e.name),ri(g,e.name),ri(y,e.name);const I=new ii({uid:v,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ni;r.updateFromServerResponse(t);const i=new ii({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ti(i),i}}const oi=new Map;function si(e){xr(e instanceof Function,"Expected a class definition");let t=oi.get(e);return t?(xr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,oi.set(e,t),t)}class ai{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ai.type="NONE";const li=ai;function ci(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ui{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ci(this.userKey,r.apiKey,i),this.fullPersistenceKey=ci("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ui(si(li),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||si(li);const o=ci(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=ii._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new ui(i,e,n)):new ui(i,e,n)}}function hi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(di(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yi(t))return"Blackberry";if(vi(t))return"Webos";if(fi(t))return"Safari";if((t.includes("chrome/")||pi(t))&&!t.includes("edge/"))return"Chrome";if(gi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/firefox\//i.test(e)}function fi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:It()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/crios\//i.test(e)}function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/iemobile/i.test(e)}function gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/android/i.test(e)}function yi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/blackberry/i.test(e)}function vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/webos/i.test(e)}function wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return wi(e)||gi(e)||vi(e)||yi(e)||/windows phone/i.test(e)||mi(e)}function _i(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=hi(It());break;case"Worker":t="".concat(hi(It()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Mn,"/").concat(r)}class Si{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(GP){r(GP)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(GP){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===GP||void 0===GP?void 0:GP.message})}}}class Ei{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ii{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ti(this),this.idTokenSubscription=new Ti(this),this.beforeStateQueue=new Si(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=si(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ui.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(GP){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(GP){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(GP)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(GP){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ti(e)}catch(GP){if((null===GP||void 0===GP?void 0:GP.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?qt(e):null;return t&&Tr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Tr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(si(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return jr(e,"GET","/v2/passwordPolicy",Fr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ei(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return jr(e,"POST","/v2/accounts:revokeToken",Fr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&si(e)||this._popupRedirectResolver;Tr(t,this,"argument-error"),this.redirectPersistenceManager=await ui.create(this,[si(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tr(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_i(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(wr.logLevel<=$t.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wr.warn("Auth (".concat(Mn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ki(e){return qt(e)}class Ti{constructor(e){this.auth=e,this.observer=null,this.addObserver=Vt((e=>this.observer=e))}get next(){return Tr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ci={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xi(e){return Ci.loadJS(e)}function Ai(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ni{constructor(e){this.type="recaptcha-enterprise",this.auth=ki(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Kr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Qr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Gr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Kr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ci.recaptchaEnterpriseScript;0!==t.length&&(t+=i),xi(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Oi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ni(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Pi(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Oi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Oi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Ri(e,t,n){const r=ki(e);Tr(r._canInitEmulator,r,"emulator-config-failed"),Tr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Di(t),{host:s,port:a}=function(e){const t=Di(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Li(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Li(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Di(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Li(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Mi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,t){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function Fi(e,t){return jr(e,"POST","/v1/accounts:resetPassword",Fr(e,t))}async function ji(e,t){return jr(e,"POST","/v1/accounts:signUp",t)}async function Ui(e,t){return Vr(e,"POST","/v1/accounts:signInWithPassword",Fr(e,t))}async function Vi(e,t){return jr(e,"POST","/v1/accounts:sendOobCode",Fr(e,t))}async function zi(e,t){return Vi(e,t)}async function Bi(e,t){return Vi(e,t)}class qi extends Mi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new qi(e,t,"password")}static _fromEmailAndCode(e,t){return new qi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Pi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ui);case"emailLink":return async function(e,t){return Vr(e,"POST","/v1/accounts:signInWithEmailLink",Fr(e,t))}(e,{email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Pi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ji);case"emailLink":return async function(e,t){return Vr(e,"POST","/v1/accounts:signInWithEmailLink",Fr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wi(e,t){return Vr(e,"POST","/v1/accounts:signInWithIdp",Fr(e,t))}class Hi extends Mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Hi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ar(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Hi(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Wi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Wi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ft(t)}return e}}const Ki={USER_NOT_FOUND:"user-not-found"};class Gi extends Mi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Gi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Gi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Vr(e,"POST","/v1/accounts:signInWithPhoneNumber",Fr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Vr(e,"POST","/v1/accounts:signInWithPhoneNumber",Fr(e,t));if(n.temporaryProof)throw Wr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Vr(e,"POST","/v1/accounts:signInWithPhoneNumber",Fr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ki)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Gi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Qi{constructor(e){var t,n,r,i,o,s;const a=jt(Ut(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Tr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=jt(Ut(e)).link,n=t?jt(Ut(t)).deep_link_id:null,r=jt(Ut(e)).deep_link_id;return(r?jt(Ut(r)).link:null)||r||n||t||e}(e);try{return new Qi(t)}catch(n){return null}}}class Yi{constructor(){this.providerId=Yi.PROVIDER_ID}static credential(e,t){return qi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Qi.parseLink(t);return Tr(n,"argument-error"),qi._fromEmailAndCode(e,n.code,n.tenantId)}}Yi.PROVIDER_ID="password",Yi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Yi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $i{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ji extends $i{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xi extends Ji{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Tr("providerId"in t&&"signInMethod"in t,"argument-error"),Hi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Tr(e.idToken||e.accessToken,"argument-error"),Hi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Xi.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Xi.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new Xi(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(GP){return null}}}class Zi extends Ji{constructor(){super("facebook.com")}static credential(e){return Hi._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Zi.credential(t.oauthAccessToken)}catch(n){return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Zi.PROVIDER_ID="facebook.com";class eo extends Ji{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Hi._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return eo.credential(n,r)}catch(i){return null}}}eo.GOOGLE_SIGN_IN_METHOD="google.com",eo.PROVIDER_ID="google.com";class to extends Ji{constructor(){super("github.com")}static credential(e){return Hi._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return to.credential(t.oauthAccessToken)}catch(n){return null}}}to.GITHUB_SIGN_IN_METHOD="github.com",to.PROVIDER_ID="github.com";class no extends Mi{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Wi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Wi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wi(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new no(n,i):null}static _create(e,t){return new no(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ro extends $i{constructor(e){Tr(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return ro.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ro.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=no.fromJSON(e);return Tr(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return no._create(r,n)}catch(GP){return null}}}class io extends Ji{constructor(){super("twitter.com")}static credential(e,t){return Hi._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return io.credential(n,r)}catch(i){return null}}}async function oo(e,t){return Vr(e,"POST","/v1/accounts:signUp",Fr(e,t))}io.TWITTER_SIGN_IN_METHOD="twitter.com",io.PROVIDER_ID="twitter.com";class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ii._fromIdTokenResponse(e,n,r),o=ao(n);return new so({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ao(n);return new so({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ao(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class lo extends Ot{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,lo.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new lo(e,t,n,r)}}function co(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw lo._fromErrorAndOperation(e,n,t,r);throw n}))}function uo(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function ho(e,t){const n=qt(e);await po(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return jr(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=uo(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function fo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Xr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return so._forOperation(e,"link",r)}async function po(e,t,n){await ti(t);const r=!1===e?"provider-already-linked":"no-such-provider";Tr(uo(t.providerData).has(n)===e,t.auth,r)}async function mo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await Xr(e,co(r,i,t,e),n);Tr(o.idToken,r,"internal-error");const s=Jr(o.idToken);Tr(s,r,"internal-error");const{sub:a}=s;return Tr(e.uid===a,r,"user-mismatch"),so._forOperation(e,i,o)}catch(GP){throw(null===GP||void 0===GP?void 0:GP.code)==="auth/".concat("user-not-found")&&_r(r,"user-mismatch"),GP}}async function go(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await co(e,r,t),o=await so._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function yo(e,t){return go(ki(e),t)}async function vo(e,t){const n=qt(e);return await po(!1,n,t.providerId),fo(n,t)}async function wo(e,t){return mo(qt(e),t)}async function bo(e,t){const n=ki(e),r=await async function(e,t){return Vr(e,"POST","/v1/accounts:signInWithCustomToken",Fr(e,t))}(n,{token:t,returnSecureToken:!0}),i=await so._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class _o{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?So._fromServerResponse(e,t):"totpInfo"in t?Eo._fromServerResponse(e,t):_r(e,"internal-error")}}class So extends _o{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new So(t)}}class Eo extends _o{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Eo(t)}}function Io(e,t,n){var r;Tr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Tr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Tr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Tr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ko(e){const t=ki(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function To(e,t){await async function(e,t){return jr(e,"POST","/v1/accounts:update",Fr(e,t))}(qt(e),{oobCode:t})}async function Co(e,t){const n=qt(e),r=await Fi(n,{oobCode:t}),i=r.requestType;switch(Tr(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Tr(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Tr(r.mfaInfo,n,"internal-error");default:Tr(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=_o._fromServerResponse(ki(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function xo(e,t,n){const r=ki(e),i=Pi(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oo),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ko(e),t})),s=await so._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function Ao(e,t,n){return yo(qt(e),Yi.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ko(e),t}))}async function No(e,t){const n={identifier:t,continueUri:Nr()?Ar():"http://localhost"},{signinMethods:r}=await async function(e,t){return jr(e,"POST","/v1/accounts:createAuthUri",Fr(e,t))}(qt(e),n);return r||[]}async function Oo(e,t){const n=qt(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Io(n.auth,r,t);const{email:i}=await async function(e,t){return Vi(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Po(e,t,n){const r=qt(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Io(r.auth,i,n);const{email:o}=await async function(e,t){return Vi(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Ro(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=qt(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Xr(i,async function(e,t){return jr(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function Do(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await Xr(e,async function(e,t){return jr(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class Lo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Mo extends Lo{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Fo extends Lo{constructor(e,t){super(e,"facebook.com",t)}}class jo extends Mo{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Uo extends Lo{constructor(e,t){super(e,"google.com",t)}}class Vo extends Mo{constructor(e,t,n){super(e,"twitter.com",t,n)}}function zo(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Jr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Lo(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Fo(o,i);case"github.com":return new jo(o,i);case"google.com":return new Uo(o,i);case"twitter.com":return new Vo(o,i,e.screenName||null);case"custom":case"anonymous":return new Lo(o,null);default:return new Lo(o,r,i)}}(n)}class Bo{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Bo("enroll",e,t)}static _fromMfaPendingCredential(e){return new Bo("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Bo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Bo._fromIdtoken(e.multiFactorSession.idToken)}return null}}class qo{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ki(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>_o._fromServerResponse(n,e)));Tr(r.mfaPendingCredential,n,"internal-error");const o=Bo._fromMfaPendingCredential(r.mfaPendingCredential);return new qo(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await so._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Tr(t.user,n,"internal-error"),so._forOperation(t.user,t.operationType,s);default:_r(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Wo{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>_o._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Wo(e)}async getSession(){return Bo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Xr(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Xr(this.user,function(e,t){return jr(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Fr(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(GP){throw GP}}}const Ho=new WeakMap;const Ko="__sak";class Go{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ko,"1"),this.storage.removeItem(Ko),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Qo extends Go{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=It();return fi(e)||wi(e)}()&&function(){try{return!(!window||window===window.top)}catch(GP){return!1}}(),this.fallbackToPolling=bi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);xt()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qo.type="LOCAL";const Yo=Qo;class $o extends Go{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$o.type="SESSION";const Jo=$o;class Xo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Xo(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Zo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Xo.receivers=[];class es{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Zo("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function ts(){return window}function ns(){return"undefined"!==typeof ts().WorkerGlobalScope&&"function"===typeof ts().importScripts}const rs="firebaseLocalStorageDb",is="firebaseLocalStorage",os="fbase_key";class ss{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function as(e,t){return e.transaction([is],t?"readwrite":"readonly").objectStore(is)}function ls(){const e=indexedDB.open(rs,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(is,{keyPath:os})}catch(GP){n(GP)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(is)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(rs);return new ss(e).toPromise()}(),t(await ls()))}))}))}async function cs(e,t,n){const r=as(e,!0).put({[os]:t,value:n});return new ss(r).toPromise()}function us(e,t){const n=as(e,!0).delete(t);return new ss(n).toPromise()}class hs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ls()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(GP){if(t++>3)throw GP;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ns()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xo._getInstance(ns()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new es(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ls();return await cs(e,Ko,"1"),await us(e,Ko),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>cs(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=as(e,!1).get(t),r=await new ss(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>us(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=as(e,!1).getAll();return new ss(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}hs.type="LOCAL";const ds=hs;const fs=1e12;class ps{constructor(e){this.auth=e,this.counter=fs,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new ms(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||fs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||fs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||fs;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class ms{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Tr(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(GP){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(GP){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gs=Ai("rcb"),ys=new Pr(3e4,6e4);class vs{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ts().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Tr(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Hr(ts().grecaptcha)?Promise.resolve(ts().grecaptcha):new Promise(((n,r)=>{const i=ts().setTimeout((()=>{r(Sr(e,"network-request-failed"))}),ys.get());ts()[gs]=()=>{ts().clearTimeout(i),delete ts()[gs];const o=ts().grecaptcha;if(!o||!Hr(o))return void r(Sr(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};xi("".concat(Ci.recaptchaV2Script,"?").concat(Ft({onload:gs,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Sr(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ts().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ws{async load(e){return new ps(e)}clearedOneInstance(){}}const bs="recaptcha",_s={theme:"light",type:"image"};class Ss{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},_s);this.parameters=n,this.type=bs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ki(e),this.isInvisible="invisible"===this.parameters.size,Tr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Tr(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ws:new vs,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(GP){return Promise.reject(GP)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Tr(!this.parameters.sitekey,this.auth,"argument-error"),Tr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Tr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=ts()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Tr(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Tr(Nr()&&!ns(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await jr(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Tr(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Tr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Es{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Gi._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Is(e,t,n){var r;const i=await n.verify();try{let o;if(Tr("string"===typeof i,e,"argument-error"),Tr(n.type===bs,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Tr("enroll"===t.type,e,"internal-error");const n=await function(e,t){return jr(e,"POST","/v2/accounts/mfaEnrollment:start",Fr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Tr("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Tr(n,e,"missing-multi-factor-info");const s=await function(e,t){return jr(e,"POST","/v2/accounts/mfaSignIn:start",Fr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return jr(e,"POST","/v1/accounts:sendVerificationCode",Fr(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class ks{constructor(e){this.providerId=ks.PROVIDER_ID,this.auth=ki(e)}verifyPhoneNumber(e,t){return Is(this.auth,e,qt(t))}static credential(e,t){return Gi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ks.credentialFromTaggedObject(t)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Gi._fromTokenResponse(n,r):null}}function Ts(e,t){return t?si(t):(Tr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ks.PROVIDER_ID="phone",ks.PHONE_SIGN_IN_METHOD="phone";class Cs extends Mi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xs(e){return go(e.auth,new Cs(e),e.bypassAuthState)}function As(e){const{auth:t,user:n}=e;return Tr(n,t,"internal-error"),mo(n,new Cs(e),e.bypassAuthState)}async function Ns(e){const{auth:t,user:n}=e;return Tr(n,t,"internal-error"),fo(n,new Cs(e),e.bypassAuthState)}class Os{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(GP){this.reject(GP)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(GP){this.reject(GP)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xs;case"linkViaPopup":case"linkViaRedirect":return Ns;case"reauthViaPopup":case"reauthViaRedirect":return As;default:_r(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ps=new Pr(2e3,1e4);class Rs extends Os{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Rs.currentPopupAction&&Rs.currentPopupAction.cancel(),Rs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tr(e,this.auth,"internal-error"),e}async onExecution(){xr(1===this.filter.length,"Popup operations only handle one event");const e=Zo();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Sr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ps.get())};e()}}Rs.currentPopupAction=null;const Ds="pendingRedirect",Ls=new Map;class Ms extends Os{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ls.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Vs(t),r=Us(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(GP){e=()=>Promise.reject(GP)}Ls.set(this.auth._key(),e)}return this.bypassAuthState||Ls.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Fs(e,t){return Us(e)._set(Vs(t),"true")}function js(e,t){Ls.set(e._key(),t)}function Us(e){return si(e._redirectPersistence)}function Vs(e){return ci(Ds,e.config.apiKey,e.name)}function zs(e,t,n){return async function(e,t,n){const r=ki(e);Ir(e,t,$i),await r._initializationPromise;const i=Ts(r,n);return await Fs(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Bs(e,t,n){return async function(e,t,n){const r=qt(e);Ir(r.auth,t,$i),await r.auth._initializationPromise;const i=Ts(r.auth,n);await Fs(i,r.auth);const o=await Hs(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function qs(e,t,n){return async function(e,t,n){const r=qt(e);Ir(r.auth,t,$i),await r.auth._initializationPromise;const i=Ts(r.auth,n);await po(!1,r,t.providerId),await Fs(i,r.auth);const o=await Hs(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function Ws(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=ki(e),i=Ts(r,t),o=new Ms(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Hs(e){const t=Zo("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Ks{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Qs(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Sr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gs(e))}saveEventToCache(e){this.cachedEventUids.add(Gs(e)),this.lastProcessedEventTime=Date.now()}}function Gs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Qs(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Ys(e){return jr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const $s=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Js=/^https?/;function Xs(e){const t=Ar(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Js.test(n))return!1;if($s.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Zs=new Pr(3e4,6e4);function ea(){const e=ts().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ta(e){return new Promise(((t,n)=>{var r,i,o;function s(){ea(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ea(),n(Sr(e,"network-request-failed"))},timeout:Zs.get()})}if(null===(i=null===(r=ts().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ts().gapi)||void 0===o?void 0:o.load)){const t=Ai("iframefcb");return ts()[t]=()=>{gapi.load?s():n(Sr(e,"network-request-failed"))},xi("".concat(Ci.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw na=null,e}))}let na=null;const ra=new Pr(5e3,15e3),ia="__/auth/iframe",oa="emulator/auth/iframe",sa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function la(e){const t=e.config;Tr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Rr(t,oa):"https://".concat(e.config.authDomain,"/").concat(ia),r={apiKey:t.apiKey,appName:e.name,v:Mn},i=aa.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Ft(r).slice(1))}async function ca(e){const t=await function(e){return na=na||ta(e),na}(e),n=ts().gapi;return Tr(n,e,"internal-error"),t.open({where:document.body,url:la(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sa,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Sr(e,"network-request-failed"),o=ts().setTimeout((()=>{r(i)}),ra.get());function s(){ts().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const ua={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ha{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(GP){}}}function da(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ua),{width:r.toString(),height:i.toString(),top:o,left:s}),c=It().toLowerCase();n&&(a=pi(c)?"_blank":n),di(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return wi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:It())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ha(null);const h=window.open(t||"",a,u);Tr(h,e,"popup-blocked");try{h.focus()}catch(GP){}return new ha(h)}const fa="__/auth/handler",pa="emulator/auth/handler",ma=encodeURIComponent("fac");async function ga(e,t,n,r,i,o){Tr(e.config.authDomain,e,"auth-domain-config-required"),Tr(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Mn,eventId:i};if(t instanceof $i){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Ji){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ma,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(fa);return Rr(t,pa)}(e),"?").concat(Ft(a).slice(1)).concat(c)}const ya="webStorageSupport";const va=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jo,this._completeRedirectFn=Ws,this._overrideRedirectResult=js}async _openPopup(e,t,n,r){var i;xr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return da(e,await ga(e,t,n,Ar(),r),Zo())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ts().location.href=e}(await ga(e,t,n,Ar(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(xr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await ca(e),n=new Ks(e);return t.register("authEvent",(t=>{Tr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ya,{type:ya},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ya];void 0!==i&&t(!!i),_r(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Ys(e);for(const r of t)try{if(Xs(r))return}catch(n){}_r(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bi()||fi()||wi()}};class wa{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Cr("unexpected MultiFactorSessionType")}}}class ba extends wa{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ba(e)}_finalizeEnroll(e,t,n){return function(e,t){return jr(e,"POST","/v2/accounts/mfaEnrollment:finalize",Fr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return jr(e,"POST","/v2/accounts/mfaSignIn:finalize",Fr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class _a{constructor(){}static assertion(e){return ba._fromCredential(e)}}_a.FACTOR_ID="phone";var Sa="@firebase/auth",Ea="1.6.0";class Ia{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Tr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ka=St("authIdTokenMaxAge")||300;let Ta=null;var Ca;!function(e){Ci=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Sr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Ca="Browser",Nn(new Wt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Tr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Ca,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_i(Ca)},c=new Ii(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(si);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Nn(new Wt("auth-internal",(e=>(e=>new Ia(e))(ki(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),zn(Sa,Ea,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ca)),zn(Sa,Ea,"esm2017");var xa,Aa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Na={},Oa=Oa||{},Pa=Aa||self;function Ra(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Da(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var La="closure_uid_"+(1e9*Math.random()>>>0),Ma=0;function Fa(e,t,n){return e.call.apply(e.bind,arguments)}function ja(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ua(e,t,n){return(Ua=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fa:ja).apply(null,arguments)}function Va(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function za(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Ba(){this.s=this.s,this.o=this.o}Ba.prototype.s=!1,Ba.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,La)&&e[La]||(e[La]=++Ma))},Ba.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qa=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Wa(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ha(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Ra(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Ka(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ka.prototype.h=function(){this.defaultPrevented=!0};var Ga=function(){if(!Pa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Pa.addEventListener("test",e,t),Pa.removeEventListener("test",e,t)}catch(n){}return e}();function Qa(e){return/^[\s\xa0]*$/.test(e)}function Ya(){var e=Pa.navigator;return e&&(e=e.userAgent)?e:""}function $a(e){return-1!=Ya().indexOf(e)}function Ja(e){return Ja[" "](e),e}Ja[" "]=function(){};var Xa,Za,el=$a("Opera"),tl=$a("Trident")||$a("MSIE"),nl=$a("Edge"),rl=nl||tl,il=$a("Gecko")&&!(-1!=Ya().toLowerCase().indexOf("webkit")&&!$a("Edge"))&&!($a("Trident")||$a("MSIE"))&&!$a("Edge"),ol=-1!=Ya().toLowerCase().indexOf("webkit")&&!$a("Edge");function sl(){var e=Pa.document;return e?e.documentMode:void 0}e:{var al="",ll=function(){var e=Ya();return il?/rv:([^\);]+)(\)|;)/.exec(e):nl?/Edge\/([\d\.]+)/.exec(e):tl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ol?/WebKit\/(\S+)/.exec(e):el?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ll&&(al=ll?ll[1]:""),tl){var cl=sl();if(null!=cl&&cl>parseFloat(al)){Xa=String(cl);break e}}Xa=al}if(Pa.document&&tl){var ul=sl();Za=ul||(parseInt(Xa,10)||void 0)}else Za=void 0;var hl=Za;function dl(e,t){if(Ka.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(il){e:{try{Ja(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:fl[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&dl.$.h.call(this)}}za(dl,Ka);var fl={2:"touch",3:"pen",4:"mouse"};dl.prototype.h=function(){dl.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var pl="closure_listenable_"+(1e6*Math.random()|0),ml=0;function gl(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ml,this.fa=this.ia=!1}function yl(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function vl(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function wl(e){const t={};for(const n in e)t[n]=e[n];return t}const bl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _l(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<bl.length;t++)n=bl[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Sl(e){this.src=e,this.g={},this.h=0}function El(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=qa(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(yl(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Il(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Sl.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Il(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new gl(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var kl="closure_lm_"+(1e6*Math.random()|0),Tl={};function Cl(e,t,n,r,i){if(r&&r.once)return Al(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Cl(e,t[o],n,r,i);return null}return n=Ml(n),e&&e[pl]?e.O(t,n,Da(r)?!!r.capture:!!r,i):xl(e,t,n,!1,r,i)}function xl(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Da(i)?!!i.capture:!!i,a=Dl(e);if(a||(e[kl]=a=new Sl(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Rl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ga||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Pl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Al(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Al(e,t[o],n,r,i);return null}return n=Ml(n),e&&e[pl]?e.P(t,n,Da(r)?!!r.capture:!!r,i):xl(e,t,n,!0,r,i)}function Nl(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Nl(e,t[o],n,r,i);else r=Da(r)?!!r.capture:!!r,n=Ml(n),e&&e[pl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Il(o=e.g[t],n,r,i))&&(yl(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Dl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Il(t,n,r,i)),(n=-1<e?t[e]:null)&&Ol(n))}function Ol(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[pl])El(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Pl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Dl(t))?(El(n,e),0==n.h&&(n.src=null,t[kl]=null)):yl(e)}}}function Pl(e){return e in Tl?Tl[e]:Tl[e]="on"+e}function Rl(e,t){if(e.fa)e=!0;else{t=new dl(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ol(e),e=n.call(r,t)}return e}function Dl(e){return(e=e[kl])instanceof Sl?e:null}var Ll="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ml(e){return"function"===typeof e?e:(e[Ll]||(e[Ll]=function(t){return e.handleEvent(t)}),e[Ll])}function Fl(){Ba.call(this),this.i=new Sl(this),this.S=this,this.J=null}function jl(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Ka(t,e);else if(t instanceof Ka)t.target=t.target||e;else{var i=t;_l(t=new Ka(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Ul(s,r,!0,t)&&i}if(i=Ul(s=t.g=e,r,!0,t)&&i,i=Ul(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ul(s=t.g=n[o],r,!1,t)&&i}function Ul(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&El(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}za(Fl,Ba),Fl.prototype[pl]=!0,Fl.prototype.removeEventListener=function(e,t,n,r){Nl(this,e,t,n,r)},Fl.prototype.N=function(){if(Fl.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yl(n[r]);delete t.g[e],t.h--}}this.J=null},Fl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Fl.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Vl=Pa.JSON.stringify;function zl(){var e=Ql;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Bl=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new ql),(e=>e.reset()));class ql{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Wl(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Hl(e){Pa.setTimeout((()=>{throw e}),0)}let Kl,Gl=!1,Ql=new class{constructor(){this.h=this.g=null}add(e,t){const n=Bl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Yl=()=>{const e=Pa.Promise.resolve(void 0);Kl=()=>{e.then($l)}};var $l=()=>{for(var e;e=zl();){try{e.h.call(e.g)}catch(n){Hl(n)}var t=Bl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Gl=!1};function Jl(e,t){Fl.call(this),this.h=e||1,this.g=t||Pa,this.j=Ua(this.qb,this),this.l=Date.now()}function Xl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Zl(e,t,n){if("function"===typeof e)n&&(e=Ua(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ua(e.handleEvent,e)}return 2147483647<Number(t)?-1:Pa.setTimeout(e,t||0)}function ec(e){e.g=Zl((()=>{e.g=null,e.i&&(e.i=!1,ec(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}za(Jl,Fl),(xa=Jl.prototype).ga=!1,xa.T=null,xa.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jl(this,"tick"),this.ga&&(Xl(this),this.start()))}},xa.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xa.N=function(){Jl.$.N.call(this),Xl(this),delete this.g};class tc extends Ba{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ec(this)}N(){super.N(),this.g&&(Pa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nc(e){Ba.call(this),this.h=e,this.g={}}za(nc,Ba);var rc=[];function ic(e,t,n,r){Array.isArray(n)||(n&&(rc[0]=n.toString()),n=rc);for(var i=0;i<n.length;i++){var o=Cl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function oc(e){vl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ol(e)}),e),e.g={}}function sc(){this.g=!0}function ac(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Vl(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}nc.prototype.N=function(){nc.$.N.call(this),oc(this)},nc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sc.prototype.Ea=function(){this.g=!1},sc.prototype.info=function(){};var lc={},cc=null;function uc(){return cc=cc||new Fl}function hc(e){Ka.call(this,lc.Ta,e)}function dc(e){const t=uc();jl(t,new hc(t))}function fc(e,t){Ka.call(this,lc.STAT_EVENT,e),this.stat=t}function pc(e){const t=uc();jl(t,new fc(t,e))}function mc(e,t){Ka.call(this,lc.Ua,e),this.size=t}function gc(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Pa.setTimeout((function(){e()}),t)}lc.Ta="serverreachability",za(hc,Ka),lc.STAT_EVENT="statevent",za(fc,Ka),lc.Ua="timingevent",za(mc,Ka);var yc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wc(){}function bc(e){return e.h||(e.h=e.i())}function _c(){}wc.prototype.h=null;var Sc,Ec={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ic(){Ka.call(this,"d")}function kc(){Ka.call(this,"c")}function Tc(){}function Cc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new nc(this),this.P=Ac,e=rl?125:void 0,this.V=new Jl(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xc}function xc(){this.i=null,this.g="",this.h=!1}za(Ic,Ka),za(kc,Ka),za(Tc,wc),Tc.prototype.g=function(){return new XMLHttpRequest},Tc.prototype.i=function(){return{}},Sc=new Tc;var Ac=45e3,Nc={},Oc={};function Pc(e,t,n){e.L=1,e.A=Jc(Kc(t)),e.u=n,e.S=!0,Rc(e,null)}function Rc(e,t){e.G=Date.now(),Fc(e),e.B=Kc(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),uu(n.i,"t",r),e.o=0,n=e.l.J,e.h=new xc,e.g=hh(e.l,n?t:null,!e.u),0<e.O&&(e.M=new tc(Ua(e.Pa,e,e.g),e.O)),ic(e.U,e.g,"readystatechange",e.nb),t=e.I?wl(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),dc(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Dc(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Lc(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Mc(e,n),r==Oc){4==t&&(e.s=4,pc(14),i=!1),ac(e.j,e.m,null,"[Incomplete Response]");break}if(r==Nc){e.s=4,pc(15),ac(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ac(e.j,e.m,r,null),Bc(e,r)}Dc(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,pc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),rh(t),t.M=!0,pc(11))):(ac(e.j,e.m,n,"[Invalid Chunked Response]"),zc(e),Vc(e))}function Mc(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Oc:(n=Number(t.substring(n,r)),isNaN(n)?Nc:(r+=1)+n>t.length?Oc:(t=t.slice(r,r+n),e.o=r+n,t))}function Fc(e){e.Y=Date.now()+e.P,jc(e,e.P)}function jc(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=gc(Ua(e.lb,e),t)}function Uc(e){e.C&&(Pa.clearTimeout(e.C),e.C=null)}function Vc(e){0==e.l.H||e.J||sh(e.l,e)}function zc(e){Uc(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Xl(e.V),oc(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Bc(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||yu(n.i,e)))if(!e.K&&yu(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;oh(n),Yu(n)}nh(n),pc(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=gc(Ua(n.ib,n),6e3));if(1>=gu(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else lh(n,11)}else if((e.K||n.g==e)&&oh(n),!Qa(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(vu(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,$c(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=uh(r,r.J?r.pa:null,r.Y),s.K){wu(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Uc(a),Fc(a)),r.g=s}else th(r);0<n.j.length&&Ju(n)}else"stop"!=c[0]&&"close"!=c[0]||lh(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?lh(n,7):Qu(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}dc()}catch(c){}}function qc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ra(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ra(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ra(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(xa=Cc.prototype).setTimeout=function(e){this.P=e},xa.nb=function(e){e=e.target;const t=this.M;t&&3==Bu(e)?t.l():this.Pa(e)},xa.Pa=function(e){try{if(e==this.g)e:{const u=Bu(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||rl||this.g&&(this.h.h||this.g.ja()||qu(this.g)))){this.J||4!=u||7==t||dc(),Uc(this);var n=this.g.da();this.ca=n;t:if(Dc(this)){var r=qu(this.g);e="";var i=r.length,o=4==Bu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){zc(this),Vc(this);var s="";break t}this.h.i=new Pa.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qa(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,pc(12),zc(this),Vc(this);break e}ac(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bc(this,n)}this.S?(Lc(this,u,s),rl&&this.i&&3==u&&(ic(this.U,this.V,"tick",this.mb),this.V.start())):(ac(this.j,this.m,s,null),Bc(this,s)),4==u&&zc(this),this.i&&!this.J&&(4==u?sh(this.l,this):(this.i=!1,Fc(this)))}else(function(e){const t={};e=(e.g&&2<=Bu(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Qa(e[r]))continue;var n=Wl(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,pc(12)):(this.s=0,pc(13)),zc(this),Vc(this)}}}catch(u){}},xa.mb=function(){if(this.g){var e=Bu(this.g),t=this.g.ja();this.o<t.length&&(Uc(this),Lc(this,e,t),this.i&&4!=e&&Fc(this))}},xa.cancel=function(){this.J=!0,zc(this)},xa.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(dc(),pc(17)),zc(this),this.s=2,Vc(this)):jc(this,this.Y-e)};var Wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hc(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Hc){this.h=e.h,Gc(this,e.j),this.s=e.s,this.g=e.g,Qc(this,e.m),this.l=e.l;var t=e.i,n=new su;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Yc(this,n),this.o=e.o}else e&&(t=String(e).match(Wc))?(this.h=!1,Gc(this,t[1]||"",!0),this.s=Xc(t[2]||""),this.g=Xc(t[3]||"",!0),Qc(this,t[4]),this.l=Xc(t[5]||"",!0),Yc(this,t[6]||"",!0),this.o=Xc(t[7]||"")):(this.h=!1,this.i=new su(null,this.h))}function Kc(e){return new Hc(e)}function Gc(e,t,n){e.j=n?Xc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Yc(e,t,n){t instanceof su?(e.i=t,function(e,t){t&&!e.j&&(au(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(lu(this,t),uu(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Zc(t,iu)),e.i=new su(t,e.h))}function $c(e,t,n){e.i.set(t,n)}function Jc(e){return $c(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,eu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function eu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Hc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zc(t,tu,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Zc(t,tu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Zc(n,"/"==n.charAt(0)?ru:nu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zc(n,ou)),e.join("")};var tu=/[#\/\?@]/g,nu=/[#\?:]/g,ru=/[#\?]/g,iu=/[#\?@]/g,ou=/#/g;function su(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function au(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function lu(e,t){au(e),t=hu(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function cu(e,t){return au(e),t=hu(e,t),e.g.has(t)}function uu(e,t,n){lu(e,t),0<n.length&&(e.i=null,e.g.set(hu(e,t),Wa(n)),e.h+=n.length)}function hu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(xa=su.prototype).add=function(e,t){au(this),this.i=null,e=hu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},xa.forEach=function(e,t){au(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},xa.ta=function(){au(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},xa.Z=function(e){au(this);let t=[];if("string"===typeof e)cu(this,e)&&(t=t.concat(this.g.get(hu(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},xa.set=function(e,t){return au(this),this.i=null,cu(this,e=hu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},xa.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},xa.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var du=class{constructor(e,t){this.g=e,this.map=t}};function fu(e){this.l=e||pu,Pa.PerformanceNavigationTiming?e=0<(e=Pa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Pa.g&&Pa.g.Ka&&Pa.g.Ka()&&Pa.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pu=10;function mu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function gu(e){return e.h?1:e.g?e.g.size:0}function yu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vu(e,t){e.g?e.g.add(t):e.h=t}function wu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function bu(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Wa(e.i)}fu.prototype.cancel=function(){if(this.i=bu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var _u,Su=class{stringify(e){return Pa.JSON.stringify(e,void 0)}parse(e){return Pa.JSON.parse(e,void 0)}};function Eu(){this.g=new Su}function Iu(e,t,n){const r=n||"";try{qc(e,(function(e,n){let i=e;Da(e)&&(i=Vl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(GP){throw t.push(r+"type="+encodeURIComponent("_badmap")),GP}}function ku(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Tu(e){this.l=e.ec||null,this.j=e.ob||!1}function Cu(e,t){Fl.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=xu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}za(Tu,wc),Tu.prototype.g=function(){return new Cu(this.l,this.j)},Tu.prototype.i=(_u={},function(){return _u}),za(Cu,Fl);var xu=0;function Au(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Nu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ou(e)}function Ou(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(xa=Cu.prototype).open=function(e,t){if(this.readyState!=xu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ou(this)},xa.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Pa).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},xa.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nu(this)),this.readyState=xu},xa.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ou(this)),this.g&&(this.readyState=3,Ou(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Pa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Au(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},xa.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nu(this):Ou(this),3==this.readyState&&Au(this)}},xa.Za=function(e){this.g&&(this.response=this.responseText=e,Nu(this))},xa.Ya=function(e){this.g&&(this.response=e,Nu(this))},xa.ka=function(){this.g&&Nu(this)},xa.setRequestHeader=function(e,t){this.v.append(e,t)},xa.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},xa.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Cu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Pu=Pa.JSON.parse;function Ru(e){Fl.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Du,this.L=this.M=!1}za(Ru,Fl);var Du="",Lu=/^https?$/i,Mu=["POST","PUT"];function Fu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ju(e),Vu(e)}function ju(e){e.F||(e.F=!0,jl(e,"complete"),jl(e,"error"))}function Uu(e){if(e.h&&"undefined"!=typeof Oa&&(!e.C[1]||4!=Bu(e)||2!=e.da()))if(e.v&&4==Bu(e))Zl(e.La,0,e);else if(jl(e,"readystatechange"),4==Bu(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Wc)[1]||null;!i&&Pa.self&&Pa.self.location&&(i=Pa.self.location.protocol.slice(0,-1)),r=!Lu.test(i?i.toLowerCase():"")}n=r}if(n)jl(e,"complete"),jl(e,"success");else{e.m=6;try{var o=2<Bu(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",ju(e)}}finally{Vu(e)}}}function Vu(e,t){if(e.g){zu(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||jl(e,"ready");try{n.onreadystatechange=r}catch(GP){}}}function zu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Pa.clearTimeout(e.A),e.A=null)}function Bu(e){return e.g?e.g.readyState:0}function qu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Du:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch($h){return null}}function Wu(e){let t="";return vl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Hu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Wu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):$c(e,t,n))}function Ku(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gu(e){this.Ga=0,this.j=[],this.l=new sc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ku("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ku("baseRetryDelayMs",5e3,e),this.hb=Ku("retryDelaySeedMs",1e4,e),this.eb=Ku("forwardChannelMaxRetries",2,e),this.xa=Ku("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new fu(e&&e.concurrentRequestLimit),this.Ja=new Eu,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Qu(e){if($u(e),3==e.H){var t=e.W++,n=Kc(e.I);if($c(n,"SID",e.K),$c(n,"RID",t),$c(n,"TYPE","terminate"),Zu(e,n),(t=new Cc(e,e.l,t)).L=2,t.A=Jc(Kc(n)),n=!1,Pa.navigator&&Pa.navigator.sendBeacon)try{n=Pa.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Pa.Image&&((new Image).src=t.A,n=!0),n||(t.g=hh(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Fc(t)}ch(e)}function Yu(e){e.g&&(rh(e),e.g.cancel(),e.g=null)}function $u(e){Yu(e),e.u&&(Pa.clearTimeout(e.u),e.u=null),oh(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Pa.clearTimeout(e.m),e.m=null)}function Ju(e){if(!mu(e.i)&&!e.m){e.m=!0;var t=e.Na;Kl||Yl(),Gl||(Kl(),Gl=!0),Ql.add(t,e),e.C=0}}function Xu(e,t){var n;n=t?t.m:e.W++;const r=Kc(e.I);$c(r,"SID",e.K),$c(r,"RID",n),$c(r,"AID",e.V),Zu(e,r),e.o&&e.s&&Hu(r,e.o,e.s),n=new Cc(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=eh(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),vu(e.i,n),Pc(n,r,t)}function Zu(e,t){e.na&&vl(e.na,(function(e,n){$c(t,n,e)})),e.h&&qc({},(function(e,n){$c(t,n,e)}))}function eh(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ua(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Iu(a,e,"req"+n+"_")}catch(pf){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function th(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Kl||Yl(),Gl||(Kl(),Gl=!0),Ql.add(t,e),e.A=0}}function nh(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=gc(Ua(e.Ma,e),ah(e,e.A)),e.A++,!0)}function rh(e){null!=e.B&&(Pa.clearTimeout(e.B),e.B=null)}function ih(e){e.g=new Cc(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Kc(e.wa);$c(t,"RID","rpc"),$c(t,"SID",e.K),$c(t,"AID",e.V),$c(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&$c(t,"TO",e.qa),$c(t,"TYPE","xmlhttp"),Zu(e,t),e.o&&e.s&&Hu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Jc(Kc(t)),n.u=null,n.S=!0,Rc(n,e)}function oh(e){null!=e.v&&(Pa.clearTimeout(e.v),e.v=null)}function sh(e,t){var n=null;if(e.g==t){oh(e),rh(e),e.g=null;var r=2}else{if(!yu(e.i,t))return;n=t.F,wu(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;jl(r=uc(),new mc(r,n)),Ju(e)}else th(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(gu(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=gc(Ua(e.Na,e,t),ah(e,e.C)),e.C++,!0))}(e,t)||2==r&&nh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:lh(e,5);break;case 4:lh(e,10);break;case 3:lh(e,6);break;default:lh(e,2)}}function ah(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function lh(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ua(e.pb,e);n||(n=new Hc("//www.google.com/images/cleardot.gif"),Pa.location&&"http"==Pa.location.protocol||Gc(n,"https"),Jc(n)),function(e,t){const n=new sc;if(Pa.Image){const r=new Image;r.onload=Va(ku,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Va(ku,n,r,"TestLoadImage: error",!1,t),r.onabort=Va(ku,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Va(ku,n,r,"TestLoadImage: timeout",!1,t),Pa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else pc(2);e.H=0,e.h&&e.h.za(t),ch(e),$u(e)}function ch(e){if(e.H=0,e.ma=[],e.h){const t=bu(e.i);0==t.length&&0==e.j.length||(Ha(e.ma,t),Ha(e.ma,e.j),e.i.i.length=0,Wa(e.j),e.j.length=0),e.h.ya()}}function uh(e,t,n){var r=n instanceof Hc?Kc(n):new Hc(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Qc(r,r.m);else{var i=Pa.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Hc(null);r&&Gc(o,r),t&&(o.g=t),i&&Qc(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&$c(r,n,t),$c(r,"VER",e.ra),Zu(e,r),r}function hh(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Ru(new Tu({ob:n})):new Ru(e.va)).Oa(e.J),t}function dh(){}function fh(){if(tl&&!(10<=Number(hl)))throw Error("Environmental error: no available transport.")}function ph(e,t){Fl.call(this),this.g=new Gu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Qa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qa(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yh(this)}function mh(e){Ic.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function gh(){kc.call(this),this.status=1}function yh(e){this.g=e}function vh(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function wh(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function bh(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(xa=Ru.prototype).Oa=function(e){this.M=e},xa.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Sc.g(),this.C=this.u?bc(this.u):bc(Sc),this.g.onreadystatechange=Ua(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Fu(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Pa.FormData&&e instanceof Pa.FormData,!(0<=qa(Mu,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zu(this),0<this.B&&((this.L=function(e){return tl&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ua(this.ua,this)):this.A=Zl(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Fu(this,o)}},xa.ua=function(){"undefined"!=typeof Oa&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jl(this,"timeout"),this.abort(8))},xa.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,jl(this,"complete"),jl(this,"abort"),Vu(this))},xa.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vu(this,!0)),Ru.$.N.call(this)},xa.La=function(){this.s||(this.G||this.v||this.l?Uu(this):this.kb())},xa.kb=function(){Uu(this)},xa.isActive=function(){return!!this.g},xa.da=function(){try{return 2<Bu(this)?this.g.status:-1}catch(_u){return-1}},xa.ja=function(){try{return this.g?this.g.responseText:""}catch(_u){return""}},xa.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Pu(t)}},xa.Ia=function(){return this.m},xa.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(xa=Gu.prototype).ra=8,xa.H=1,xa.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Cc(this,this.l,e);let o=this.s;if(this.U&&(o?(o=wl(o),_l(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=eh(this,i,t),$c(n=Kc(this.I),"RID",e),$c(n,"CVER",22),this.F&&$c(n,"X-HTTP-Session-Id",this.F),Zu(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Wu(o)))+"&"+t:this.o&&Hu(n,this.o,o)),vu(this.i,i),this.bb&&$c(n,"TYPE","init"),this.P?($c(n,"$req",t),$c(n,"SID","null"),i.aa=!0,Pc(i,n,null)):Pc(i,n,t),this.H=2}}else 3==this.H&&(e?Xu(this,e):0==this.j.length||mu(this.i)||Xu(this))},xa.Ma=function(){if(this.u=null,ih(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=gc(Ua(this.jb,this),e)}},xa.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pc(10),Yu(this),ih(this))},xa.ib=function(){null!=this.v&&(this.v=null,Yu(this),nh(this),pc(19))},xa.pb=function(e){e?(this.l.info("Successfully pinged google.com"),pc(2)):(this.l.info("Failed to ping google.com"),pc(1))},xa.isActive=function(){return!!this.h&&this.h.isActive(this)},(xa=dh.prototype).Ba=function(){},xa.Aa=function(){},xa.za=function(){},xa.ya=function(){},xa.isActive=function(){return!0},xa.Va=function(){},fh.prototype.g=function(e,t){return new ph(e,t)},za(ph,Fl),ph.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;pc(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=uh(e,null,e.Y),Ju(e)},ph.prototype.close=function(){Qu(this.g)},ph.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Vl(e),e=n);t.j.push(new du(t.fb++,e)),3==t.H&&Ju(t)},ph.prototype.N=function(){this.g.h=null,delete this.j,Qu(this.g),delete this.g,ph.$.N.call(this)},za(mh,Ic),za(gh,kc),za(yh,dh),yh.prototype.Ba=function(){jl(this.g,"a")},yh.prototype.Aa=function(e){jl(this.g,new mh(e))},yh.prototype.za=function(e){jl(this.g,new gh)},yh.prototype.ya=function(){jl(this.g,"b")},za(vh,(function(){this.blockSize=-1})),vh.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vh.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)wh(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){wh(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){wh(this,r),i=0;break}}this.h=i,this.i+=t},vh.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var _h={};function Sh(e){return-128<=e&&128>e?function(e,t){var n=_h;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new bh([0|e],0>e?-1:0)})):new bh([0|e],0>e?-1:0)}function Eh(e){if(isNaN(e)||!isFinite(e))return kh;if(0>e)return Nh(Eh(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ih;return new bh(t,0)}var Ih=4294967296,kh=Sh(0),Th=Sh(1),Ch=Sh(16777216);function xh(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ah(e){return-1==e.h}function Nh(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new bh(n,~e.h).add(Th)}function Oh(e,t){return e.add(Nh(t))}function Ph(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Rh(e,t){this.g=e,this.h=t}function Dh(e,t){if(xh(t))throw Error("division by zero");if(xh(e))return new Rh(kh,kh);if(Ah(e))return t=Dh(Nh(e),t),new Rh(Nh(t.g),Nh(t.h));if(Ah(t))return t=Dh(e,Nh(t)),new Rh(Nh(t.g),t.h);if(30<e.g.length){if(Ah(e)||Ah(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Th,r=t;0>=r.X(e);)n=Lh(n),r=Lh(r);var i=Mh(n,1),o=Mh(r,1);for(r=Mh(r,2),n=Mh(n,2);!xh(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Mh(r,1),n=Mh(n,1)}return t=Oh(e,i.R(t)),new Rh(i,t)}for(i=kh;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Eh(n)).R(t);Ah(s)||0<s.X(e);)s=(o=Eh(n-=r)).R(t);xh(o)&&(o=Th),i=i.add(o),e=Oh(e,s)}return new Rh(i,e)}function Lh(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new bh(n,e.h)}function Mh(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new bh(i,e.h)}(xa=bh.prototype).ea=function(){if(Ah(this))return-Nh(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ih+r)*t,t*=Ih}return e},xa.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(xh(this))return"0";if(Ah(this))return"-"+Nh(this).toString(e);for(var t=Eh(Math.pow(e,6)),n=this,r="";;){var i=Dh(n,t).g,o=((0<(n=Oh(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(xh(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},xa.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},xa.X=function(e){return Ah(e=Oh(this,e))?-1:xh(e)?0:1},xa.abs=function(){return Ah(this)?Nh(this):this},xa.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new bh(n,-2147483648&n[n.length-1]?-1:0)},xa.R=function(e){if(xh(this)||xh(e))return kh;if(Ah(this))return Ah(e)?Nh(this).R(Nh(e)):Nh(Nh(this).R(e));if(Ah(e))return Nh(this.R(Nh(e)));if(0>this.X(Ch)&&0>e.X(Ch))return Eh(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,Ph(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Ph(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Ph(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Ph(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new bh(n,0)},xa.gb=function(e){return Dh(this,e).h},xa.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new bh(n,this.h&e.h)},xa.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new bh(n,this.h|e.h)},xa.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new bh(n,this.h^e.h)},fh.prototype.createWebChannel=fh.prototype.g,ph.prototype.send=ph.prototype.u,ph.prototype.open=ph.prototype.m,ph.prototype.close=ph.prototype.close,yc.NO_ERROR=0,yc.TIMEOUT=8,yc.HTTP_ERROR=6,vc.COMPLETE="complete",_c.EventType=Ec,Ec.OPEN="a",Ec.CLOSE="b",Ec.ERROR="c",Ec.MESSAGE="d",Fl.prototype.listen=Fl.prototype.O,Ru.prototype.listenOnce=Ru.prototype.P,Ru.prototype.getLastError=Ru.prototype.Sa,Ru.prototype.getLastErrorCode=Ru.prototype.Ia,Ru.prototype.getStatus=Ru.prototype.da,Ru.prototype.getResponseJson=Ru.prototype.Wa,Ru.prototype.getResponseText=Ru.prototype.ja,Ru.prototype.send=Ru.prototype.ha,Ru.prototype.setWithCredentials=Ru.prototype.Oa,vh.prototype.digest=vh.prototype.l,vh.prototype.reset=vh.prototype.reset,vh.prototype.update=vh.prototype.j,bh.prototype.add=bh.prototype.add,bh.prototype.multiply=bh.prototype.R,bh.prototype.modulo=bh.prototype.gb,bh.prototype.compare=bh.prototype.X,bh.prototype.toNumber=bh.prototype.ea,bh.prototype.toString=bh.prototype.toString,bh.prototype.getBits=bh.prototype.D,bh.fromNumber=Eh,bh.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Nh(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Eh(Math.pow(n,8)),i=kh,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Eh(Math.pow(n,s)),i=i.R(s).add(Eh(a))):i=(i=i.R(r)).add(Eh(a))}return i};var Fh=Na.createWebChannelTransport=function(){return new fh},jh=Na.getStatEventTarget=function(){return uc()},Uh=Na.ErrorCode=yc,Vh=Na.EventType=vc,zh=Na.Event=lc,Bh=Na.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qh=(Na.FetchXmlHttpFactory=Tu,Na.WebChannel=_c),Wh=Na.XhrIo=Ru,Hh=Na.Md5=vh,Kh=Na.Integer=bh;const Gh="@firebase/firestore";class Qh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qh.UNAUTHENTICATED=new Qh(null),Qh.GOOGLE_CREDENTIALS=new Qh("google-credentials-uid"),Qh.FIRST_PARTY=new Qh("first-party-uid"),Qh.MOCK_USER=new Qh("mock-user");let Yh="10.8.0";const $h=new tn("@firebase/firestore");function Jh(){return $h.logLevel}function Xh(e){if($h.logLevel<=$t.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(td);$h.debug("Firestore (".concat(Yh,"): ").concat(e),...i)}}function Zh(e){if($h.logLevel<=$t.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(td);$h.error("Firestore (".concat(Yh,"): ").concat(e),...i)}}function ed(e){if($h.logLevel<=$t.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(td);$h.warn("Firestore (".concat(Yh,"): ").concat(e),...i)}}function td(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function nd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Yh,") INTERNAL ASSERTION FAILED: ")+e;throw Zh(t),new Error(t)}function rd(e,t){e||nd()}function id(e,t){return e}const od={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sd extends Ot{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ad{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ld{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class cd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Qh.UNAUTHENTICATED)))}shutdown(){}}class ud{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class hd{constructor(e){this.t=e,this.currentUser=Qh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ad;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ad,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Xh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Xh("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ad)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Xh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(rd("string"==typeof t.accessToken),new ld(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rd(null===e||"string"==typeof e),new Qh(e)}}class dd{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Qh.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fd{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new dd(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Qh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class md{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Xh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Xh("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Xh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Xh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(rd("string"==typeof e.token),this.R=e.token,new pd(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gd(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class yd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=gd(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function vd(e,t){return e<t?-1:e>t?1:0}function wd(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function bd(e){return e+"\0"}class _d{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new sd(od.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new sd(od.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new sd(od.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new sd(od.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _d.fromMillis(Date.now())}static fromDate(e){return _d.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new _d(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vd(this.nanoseconds,e.nanoseconds):vd(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sd{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Sd(e)}static min(){return new Sd(new _d(0,0))}static max(){return new Sd(new _d(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ed{constructor(e,t,n){void 0===t?t=0:t>e.length&&nd(),void 0===n?n=e.length-t:n>e.length-t&&nd(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ed.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ed?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Id extends Ed{construct(e,t,n){return new Id(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new sd(od.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Id(e)}static emptyPath(){return new Id([])}}const kd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Td extends Ed{construct(e,t,n){return new Td(e,t,n)}static isValidIdentifier(e){return kd.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Td.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Td(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new sd(od.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new sd(od.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new sd(od.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new sd(od.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Td(t)}static emptyPath(){return new Td([])}}class Cd{constructor(e){this.path=e}static fromPath(e){return new Cd(Id.fromString(e))}static fromName(e){return new Cd(Id.fromString(e).popFirst(5))}static empty(){return new Cd(Id.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Id.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Id.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Cd(new Id(e.slice()))}}class xd{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Ad(e){return e.fields.find((e=>2===e.kind))}function Nd(e){return e.fields.filter((e=>2!==e.kind))}xd.UNKNOWN_ID=-1;class Od{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pd(0,Ld.min())}}function Rd(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Sd.fromTimestamp(1e9===r?new _d(n+1,0):new _d(n,r));return new Ld(i,Cd.empty(),t)}function Dd(e){return new Ld(e.readTime,e.key,-1)}class Ld{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ld(Sd.min(),Cd.empty(),-1)}static max(){return new Ld(Sd.max(),Cd.empty(),-1)}}function Md(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Cd.comparator(e.documentKey,t.documentKey),0!==n?n:vd(e.largestBatchId,t.largestBatchId))}const Fd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ud(e){if(e.code!==od.FAILED_PRECONDITION||e.message!==Fd)throw e;Xh("LocalStore","Unexpectedly lost primary lease")}class Vd{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Vd(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Vd?t:Vd.resolve(t)}catch(e){return Vd.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Vd.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Vd.reject(t)}static resolve(e){return new Vd(((t,n)=>{t(e)}))}static reject(e){return new Vd(((t,n)=>{n(e)}))}static waitFor(e){return new Vd(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Vd.resolve(!1);for(const n of e)t=t.next((e=>e?Vd.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Vd(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Vd(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class zd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new ad,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Wd(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Yd(t.target.error);this.V.reject(new Wd(e,n))}}static open(e,t,n,r){try{return new zd(t,e.transaction(r,n))}catch(e){throw new Wd(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Xh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Kd(t)}}class Bd{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Bd.S(It())&&Zh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xh("SimpleDb","Removing database:",e),Gd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Nt())return!1;if(Bd.C())return!0;const e=It(),t=Bd.S(e),n=0<t&&t<10,r=Bd.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Xh("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Wd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new sd(od.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new sd(od.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Wd(e,r))},r.onupgradeneeded=e=>{Xh("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Xh("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=zd.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Vd.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Xh("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class qd{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Gd(this.k.delete())}}class Wd extends sd{constructor(e,t){super(od.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Hd(e){return"IndexedDbTransactionError"===e.name}class Kd{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Xh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Xh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Gd(n)}add(e){return Xh("SimpleDb","ADD",this.store.name,e,e),Gd(this.store.add(e))}get(e){return Gd(this.store.get(e)).next((t=>(void 0===t&&(t=null),Xh("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Xh("SimpleDb","DELETE",this.store.name,e),Gd(this.store.delete(e))}count(){return Xh("SimpleDb","COUNT",this.store.name),Gd(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Vd(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Vd(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Xh("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Vd(((n,r)=>{t.onerror=e=>{const t=Yd(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Vd(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new qd(i),s=t(i.primaryKey,i.value,o);if(s instanceof Vd){const e=s.catch((e=>(o.done(),Vd.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>Vd.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Gd(e){return new Vd(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Yd(e.target.error);n(t)}}))}let Qd=!1;function Yd(e){const t=Bd.S(It());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new sd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Qd||(Qd=!0,setTimeout((()=>{throw e}),0)),e}}return e}class $d{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Xh("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Xh("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){Hd(e)?Xh("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Ud(e)}await this.ee(6e4)}))}}class Jd{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Vd.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Xh("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Xh("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Dd(t);Md(r,n)>0&&(n=r)})),new Ld(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Xd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Zd(e){return null==e}function ef(e){return 0===e&&1/e==-1/0}function tf(e){return"number"==typeof e&&Number.isInteger(e)&&!ef(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function nf(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=of(t)),t=rf(e.get(n),t);return of(t)}function rf(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function of(e){return e+"\x01\x01"}function sf(e){const t=e.length;if(rd(t>=2),2===t)return rd("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Id.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&nd(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:nd()}o=t+2}return new Id(r)}Xd._e=-1;const af=["userId","batchId"];function lf(e,t){return[e,nf(t)]}function cf(e,t,n){return[e,nf(t),n]}const uf={},hf=["prefixPath","collectionGroup","readTime","documentId"],df=["prefixPath","collectionGroup","documentId"],ff=["collectionGroup","readTime","prefixPath","documentId"],pf=["canonicalId","targetId"],mf=["targetId","path"],gf=["path","targetId"],yf=["collectionId","parent"],vf=["indexId","uid"],wf=["uid","sequenceNumber"],bf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_f=["indexId","uid","orderedDocumentKey"],Sf=["userId","collectionPath","documentId"],Ef=["userId","collectionPath","largestBatchId"],If=["userId","collectionGroup","largestBatchId"],kf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Tf=[...kf,"documentOverlays"],Cf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xf=Cf,Af=[...xf,"indexConfiguration","indexState","indexEntries"];class Nf extends jd{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Of(e,t){const n=id(e);return Bd.M(n.ae,t)}function Pf(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Rf(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Df(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Lf{constructor(e,t){this.comparator=e,this.root=t||Ff.EMPTY}insert(e,t){return new Lf(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ff.BLACK,null,null))}remove(e){return new Lf(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ff.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mf(this.root,e,this.comparator,!0)}}class Mf{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ff{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ff.RED,this.left=null!=r?r:Ff.EMPTY,this.right=null!=i?i:Ff.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ff(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ff.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ff.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ff.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ff.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw nd();if(this.right.isRed())throw nd();const e=this.left.check();if(e!==this.right.check())throw nd();return e+(this.isRed()?0:1)}}Ff.EMPTY=null,Ff.RED=!0,Ff.BLACK=!1,Ff.EMPTY=new class{constructor(){this.size=0}get key(){throw nd()}get value(){throw nd()}get color(){throw nd()}get left(){throw nd()}get right(){throw nd()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ff(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jf{constructor(e){this.comparator=e,this.data=new Lf(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Uf(this.data.getIterator())}getIteratorFrom(e){return new Uf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof jf))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new jf(this.comparator);return t.data=e,t}}class Uf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vf(e){return e.hasNext()?e.getNext():void 0}class zf{constructor(e){this.fields=e,e.sort(Td.comparator)}static empty(){return new zf([])}unionWith(e){let t=new jf(Td.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new zf(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wd(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Bf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qf{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Bf("Invalid base64 string: "+e):e}}(e);return new qf(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new qf(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vd(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qf.EMPTY_BYTE_STRING=new qf("");const Wf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hf(e){if(rd(!!e),"string"==typeof e){let t=0;const n=Wf.exec(e);if(rd(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Kf(e.seconds),nanos:Kf(e.nanos)}}function Kf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gf(e){return"string"==typeof e?qf.fromBase64String(e):qf.fromUint8Array(e)}function Qf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yf(e){const t=e.mapValue.fields.__previous_value__;return Qf(t)?Yf(t):t}function $f(e){const t=Hf(e.mapValue.fields.__local_write_time__.timestampValue);return new _d(t.seconds,t.nanos)}class Jf{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Xf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xf&&e.projectId===this.projectId&&e.database===this.database}}const Zf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ep={nullValue:"NULL_VALUE"};function tp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qf(e)?4:mp(e)?9007199254740991:10:nd()}function np(e,t){if(e===t)return!0;const n=tp(e);if(n!==tp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $f(e).isEqual($f(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Hf(e.timestampValue),r=Hf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Gf(e.bytesValue).isEqual(Gf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Kf(e.geoPointValue.latitude)===Kf(t.geoPointValue.latitude)&&Kf(e.geoPointValue.longitude)===Kf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Kf(e.integerValue)===Kf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Kf(e.doubleValue),r=Kf(t.doubleValue);return n===r?ef(n)===ef(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return wd(e.arrayValue.values||[],t.arrayValue.values||[],np);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pf(n)!==Pf(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!np(n[i],r[i])))return!1;return!0}(e,t);default:return nd()}}function rp(e,t){return void 0!==(e.values||[]).find((e=>np(e,t)))}function ip(e,t){if(e===t)return 0;const n=tp(e),r=tp(t);if(n!==r)return vd(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vd(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Kf(e.integerValue||e.doubleValue),r=Kf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return op(e.timestampValue,t.timestampValue);case 4:return op($f(e),$f(t));case 5:return vd(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Gf(e),r=Gf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=vd(n[i],r[i]);if(0!==e)return e}return vd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=vd(Kf(e.latitude),Kf(t.latitude));return 0!==n?n:vd(Kf(e.longitude),Kf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ip(n[i],r[i]);if(e)return e}return vd(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Zf.mapValue&&t===Zf.mapValue)return 0;if(e===Zf.mapValue)return 1;if(t===Zf.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=vd(r[s],o[s]);if(0!==e)return e;const t=ip(n[r[s]],i[o[s]]);if(0!==t)return t}return vd(r.length,o.length)}(e.mapValue,t.mapValue);default:throw nd()}}function op(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return vd(e,t);const n=Hf(e),r=Hf(t),i=vd(n.seconds,r.seconds);return 0!==i?i:vd(n.nanos,r.nanos)}function sp(e){return ap(e)}function ap(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Hf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Gf(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Cd.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ap(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(ap(e.fields[i]));return n+"}"}(e.mapValue):nd()}function lp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function cp(e){return!!e&&"integerValue"in e}function up(e){return!!e&&"arrayValue"in e}function hp(e){return!!e&&"nullValue"in e}function dp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fp(e){return!!e&&"mapValue"in e}function pp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Rf(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=pp(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=pp(e.arrayValue.values[n]);return t}return Object.assign({},e)}function mp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function gp(e){return"nullValue"in e?ep:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?lp(Xf.empty(),Cd.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:nd()}function yp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?lp(Xf.empty(),Cd.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Zf:nd()}function vp(e,t){const n=ip(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function wp(e,t){const n=ip(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class bp{constructor(e){this.value=e}static empty(){return new bp({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!fp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pp(t)}setAll(e){let t=Td.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=pp(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());fp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return np(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];fp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Rf(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new bp(pp(this.value))}}function _p(e){const t=[];return Rf(e.fields,((e,n)=>{const r=new Td([e]);if(fp(n)){const e=_p(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new zf(t)}class Sp{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Sp(e,0,Sd.min(),Sd.min(),Sd.min(),bp.empty(),0)}static newFoundDocument(e,t,n,r){return new Sp(e,1,t,Sd.min(),n,r,0)}static newNoDocument(e,t){return new Sp(e,2,t,Sd.min(),Sd.min(),bp.empty(),0)}static newUnknownDocument(e,t){return new Sp(e,3,t,Sd.min(),Sd.min(),bp.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Sd.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bp.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bp.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sd.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sp&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sp(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ep{constructor(e,t){this.position=e,this.inclusive=t}}function Ip(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Cd.comparator(Cd.fromName(s.referenceValue),n.key):ip(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function kp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!np(e.position[n],t.position[n]))return!1;return!0}class Tp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Cp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class xp{}class Ap extends xp{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Up(e,t,n):"array-contains"===t?new qp(e,n):"in"===t?new Wp(e,n):"not-in"===t?new Hp(e,n):"array-contains-any"===t?new Kp(e,n):new Ap(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Vp(e,n):new zp(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ip(t,this.value)):null!==t&&tp(this.value)===tp(t)&&this.matchesComparison(ip(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nd()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Np extends xp{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Np(e,t)}matches(e){return Op(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Op(e){return"and"===e.op}function Pp(e){return"or"===e.op}function Rp(e){return Dp(e)&&Op(e)}function Dp(e){for(const t of e.filters)if(t instanceof Np)return!1;return!0}function Lp(e){if(e instanceof Ap)return e.field.canonicalString()+e.op.toString()+sp(e.value);if(Rp(e))return e.filters.map((e=>Lp(e))).join(",");{const t=e.filters.map((e=>Lp(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Mp(e,t){return e instanceof Ap?function(e,t){return t instanceof Ap&&e.op===t.op&&e.field.isEqual(t.field)&&np(e.value,t.value)}(e,t):e instanceof Np?function(e,t){return t instanceof Np&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Mp(n,t.filters[r])),!0)}(e,t):void nd()}function Fp(e,t){const n=e.filters.concat(t);return Np.create(n,e.op)}function jp(e){return e instanceof Ap?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(sp(e.value))}(e):e instanceof Np?function(e){return e.op.toString()+" {"+e.getFilters().map(jp).join(" ,")+"}"}(e):"Filter"}class Up extends Ap{constructor(e,t,n){super(e,t,n),this.key=Cd.fromName(n.referenceValue)}matches(e){const t=Cd.comparator(e.key,this.key);return this.matchesComparison(t)}}class Vp extends Ap{constructor(e,t){super(e,"in",t),this.keys=Bp("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class zp extends Ap{constructor(e,t){super(e,"not-in",t),this.keys=Bp("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Bp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Cd.fromName(e.referenceValue)))}class qp extends Ap{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return up(t)&&rp(t.arrayValue,this.value)}}class Wp extends Ap{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rp(this.value.arrayValue,t)}}class Hp extends Ap{constructor(e,t){super(e,"not-in",t)}matches(e){if(rp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rp(this.value.arrayValue,t)}}class Kp extends Ap{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!up(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>rp(this.value.arrayValue,e)))}}class Gp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function Qp(e){return new Gp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Yp(e){const t=id(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Lp(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Zd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>sp(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>sp(e))).join(",")),t.ce=e}return t.ce}function $p(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Cp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Mp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!kp(e.startAt,t.startAt)&&kp(e.endAt,t.endAt)}function Jp(e){return Cd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Xp(e,t){return e.filters.filter((e=>e instanceof Ap&&e.field.isEqual(t)))}function Zp(e,t,n){let r=ep,i=!0;for(const o of Xp(e,t)){let e=ep,t=!0;switch(o.op){case"<":case"<=":e=gp(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=ep}vp({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];vp({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function em(e,t,n){let r=Zf,i=!0;for(const o of Xp(e,t)){let e=Zf,t=!0;switch(o.op){case">=":case">":e=yp(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Zf}wp({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];wp({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class tm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function nm(e,t,n,r,i,o,s,a){return new tm(e,t,n,r,i,o,s,a)}function rm(e){return new tm(e)}function im(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function om(e){return null!==e.collectionGroup}function sm(e){const t=id(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new jf(Td.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Tp(r,n))})),e.has(Td.keyField().canonicalString())||t.le.push(new Tp(Td.keyField(),n))}return t.le}function am(e){const t=id(e);return t.he||(t.he=lm(t,sm(e))),t.he}function lm(e,t){if("F"===e.limitType)return Qp(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Tp(e.field,t)}));const n=e.endAt?new Ep(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ep(e.startAt.position,e.startAt.inclusive):null;return Qp(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function cm(e,t){const n=e.filters.concat([t]);return new tm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function um(e,t,n){return new tm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hm(e,t){return $p(am(e),am(t))&&e.limitType===t.limitType}function dm(e){return"".concat(Yp(am(e)),"|lt:").concat(e.limitType)}function fm(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>jp(e))).join(", "),"]")),Zd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>sp(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>sp(e))).join(",")),"Target(".concat(t,")")}(am(e)),"; limitType=").concat(e.limitType,")")}function pm(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Cd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of sm(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ip(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,sm(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ip(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,sm(e),t))}(e,t)}function mm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gm(e){return(t,n)=>{let r=!1;for(const i of sm(e)){const e=ym(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ym(e,t,n){const r=e.field.isKeyField()?Cd.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ip(r,i):nd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return nd()}}class vm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Rf(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Df(this.inner)}size(){return this.innerSize}}const wm=new Lf(Cd.comparator);function bm(){return wm}const _m=new Lf(Cd.comparator);function Sm(){let e=_m;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Em(e){let t=_m;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Im(){return Tm()}function km(){return Tm()}function Tm(){return new vm((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Cm=new Lf(Cd.comparator),xm=new jf(Cd.comparator);function Am(){let e=xm;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Nm=new jf(vd);function Om(){return Nm}function Pm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(t)?"-0":t}}function Rm(e){return{integerValue:""+e}}function Dm(e,t){return tf(t)?Rm(t):Pm(e,t)}class Lm{constructor(){this._=void 0}}function Mm(e,t,n){return e instanceof Um?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Qf(t)&&(t=Yf(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Vm?zm(e,t):e instanceof Bm?qm(e,t):function(e,t){const n=jm(e,t),r=Hm(n)+Hm(e.Ie);return cp(n)&&cp(e.Ie)?Rm(r):Pm(e.serializer,r)}(e,t)}function Fm(e,t,n){return e instanceof Vm?zm(e,t):e instanceof Bm?qm(e,t):n}function jm(e,t){return e instanceof Wm?function(e){return cp(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Um extends Lm{}class Vm extends Lm{constructor(e){super(),this.elements=e}}function zm(e,t){const n=Km(t);for(const r of e.elements)n.some((e=>np(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Bm extends Lm{constructor(e){super(),this.elements=e}}function qm(e,t){let n=Km(t);for(const r of e.elements)n=n.filter((e=>!np(e,r)));return{arrayValue:{values:n}}}class Wm extends Lm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Hm(e){return Kf(e.integerValue||e.doubleValue)}function Km(e){return up(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Gm{constructor(e,t){this.field=e,this.transform=t}}class Qm{constructor(e,t){this.version=e,this.transformResults=t}}class Ym{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ym}static exists(e){return new Ym(void 0,e)}static updateTime(e){return new Ym(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $m(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Jm{}function Xm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new lg(e.key,Ym.none()):new rg(e.key,e.data,Ym.none());{const n=e.data,r=bp.empty();let i=new jf(Td.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ig(e.key,r,new zf(i.toArray()),Ym.none())}}function Zm(e,t,n){e instanceof rg?function(e,t,n){const r=e.value.clone(),i=sg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ig?function(e,t,n){if(!$m(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=sg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(og(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function eg(e,t,n,r){return e instanceof rg?function(e,t,n,r){if(!$m(e.precondition,t))return n;const i=e.value.clone(),o=ag(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ig?function(e,t,n,r){if(!$m(e.precondition,t))return n;const i=ag(e.fieldTransforms,r,t),o=t.data;return o.setAll(og(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return $m(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function tg(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=jm(r.transform,e||null);null!=i&&(null===n&&(n=bp.empty()),n.set(r.field,i))}return n||null}function ng(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&wd(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Vm&&t instanceof Vm||e instanceof Bm&&t instanceof Bm?wd(e.elements,t.elements,np):e instanceof Wm&&t instanceof Wm?np(e.Ie,t.Ie):e instanceof Um&&t instanceof Um}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rg extends Jm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ig extends Jm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function og(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function sg(e,t,n){const r=new Map;rd(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Fm(s,a,n[i]))}return r}function ag(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Mm(e,o,t))}return r}class lg extends Jm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cg extends Jm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ug{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Zm(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=eg(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=eg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=km();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Xm(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Sd.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Am())}isEqual(e){return this.batchId===e.batchId&&wd(this.mutations,e.mutations,((e,t)=>ng(e,t)))&&wd(this.baseMutations,e.baseMutations,((e,t)=>ng(e,t)))}}class hg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){rd(e.mutations.length===n.length);let r=Cm;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new hg(e,t,n,r)}}class dg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class fg{constructor(e,t){this.count=e,this.unchangedNames=t}}var pg,mg;function gg(e){switch(e){default:return nd();case od.CANCELLED:case od.UNKNOWN:case od.DEADLINE_EXCEEDED:case od.RESOURCE_EXHAUSTED:case od.INTERNAL:case od.UNAVAILABLE:case od.UNAUTHENTICATED:return!1;case od.INVALID_ARGUMENT:case od.NOT_FOUND:case od.ALREADY_EXISTS:case od.PERMISSION_DENIED:case od.FAILED_PRECONDITION:case od.ABORTED:case od.OUT_OF_RANGE:case od.UNIMPLEMENTED:case od.DATA_LOSS:return!0}}function yg(e){if(void 0===e)return Zh("GRPC error has no .code"),od.UNKNOWN;switch(e){case pg.OK:return od.OK;case pg.CANCELLED:return od.CANCELLED;case pg.UNKNOWN:return od.UNKNOWN;case pg.DEADLINE_EXCEEDED:return od.DEADLINE_EXCEEDED;case pg.RESOURCE_EXHAUSTED:return od.RESOURCE_EXHAUSTED;case pg.INTERNAL:return od.INTERNAL;case pg.UNAVAILABLE:return od.UNAVAILABLE;case pg.UNAUTHENTICATED:return od.UNAUTHENTICATED;case pg.INVALID_ARGUMENT:return od.INVALID_ARGUMENT;case pg.NOT_FOUND:return od.NOT_FOUND;case pg.ALREADY_EXISTS:return od.ALREADY_EXISTS;case pg.PERMISSION_DENIED:return od.PERMISSION_DENIED;case pg.FAILED_PRECONDITION:return od.FAILED_PRECONDITION;case pg.ABORTED:return od.ABORTED;case pg.OUT_OF_RANGE:return od.OUT_OF_RANGE;case pg.UNIMPLEMENTED:return od.UNIMPLEMENTED;case pg.DATA_LOSS:return od.DATA_LOSS;default:return nd()}}(mg=pg||(pg={}))[mg.OK=0]="OK",mg[mg.CANCELLED=1]="CANCELLED",mg[mg.UNKNOWN=2]="UNKNOWN",mg[mg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mg[mg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mg[mg.NOT_FOUND=5]="NOT_FOUND",mg[mg.ALREADY_EXISTS=6]="ALREADY_EXISTS",mg[mg.PERMISSION_DENIED=7]="PERMISSION_DENIED",mg[mg.UNAUTHENTICATED=16]="UNAUTHENTICATED",mg[mg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mg[mg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mg[mg.ABORTED=10]="ABORTED",mg[mg.OUT_OF_RANGE=11]="OUT_OF_RANGE",mg[mg.UNIMPLEMENTED=12]="UNIMPLEMENTED",mg[mg.INTERNAL=13]="INTERNAL",mg[mg.UNAVAILABLE=14]="UNAVAILABLE",mg[mg.DATA_LOSS=15]="DATA_LOSS";let vg=null;function wg(){return new TextEncoder}const bg=new Kh([4294967295,4294967295],0);function _g(e){const t=wg().encode(e),n=new Hh;return n.update(t),new Uint8Array(n.digest())}function Sg(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Kh([n,r],0),new Kh([i,o],0)]}class Eg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ig("Invalid padding: ".concat(t));if(n<0)throw new Ig("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Ig("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Ig("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Kh.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Kh.fromNumber(n)));return 1===r.compare(bg)&&(r=new Kh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=_g(e),[n,r]=Sg(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Eg(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=_g(e),[n,r]=Sg(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ig extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kg{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Tg.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new kg(Sd.min(),r,new Lf(vd),bm(),Am())}}class Tg{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Tg(n,t,Am(),Am(),Am())}}class Cg{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class xg{constructor(e,t){this.targetId=e,this.fe=t}}class Ag{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qf.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ng{constructor(){this.ge=0,this.pe=Rg(),this.ye=qf.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Am(),t=Am(),n=Am();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:nd()}})),new Tg(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Rg()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,rd(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Og{constructor(e){this.Le=e,this.ke=new Map,this.qe=bm(),this.Qe=Pg(),this.Ke=new Lf(vd)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:nd()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Jp(i))if(0===n){const e=new Cd(i.path);this.We(t,e,Sp.newNoDocument(e,Sd.min()))}else rd(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==vg||vg.tt(function(e,t,n,r,i){var o,s,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Gf(n).toUint8Array()}catch(e){if(e instanceof Bf)return ed("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Eg(o,r,i)}catch(e){return ed(e instanceof Ig?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Jp(i.target)){const t=new Cd(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Sp.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Am();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new kg(e,t,this.Ke,this.qe,n);return this.qe=bm(),this.Qe=Pg(),this.Ke=new Lf(vd),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Ng,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new jf(vd),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Xh("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ng),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Pg(){return new Lf(Cd.comparator)}function Rg(){return new Lf(Cd.comparator)}const Dg={asc:"ASCENDING",desc:"DESCENDING"},Lg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mg={and:"AND",or:"OR"};class Fg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jg(e,t){return e.useProto3Json||Zd(t)?t:{value:t}}function Ug(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function zg(e,t){return Ug(e,t.toTimestamp())}function Bg(e){return rd(!!e),Sd.fromTimestamp(function(e){const t=Hf(e);return new _d(t.seconds,t.nanos)}(e))}function qg(e,t){return Wg(e,t).canonicalString()}function Wg(e,t){const n=function(e){return new Id(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Hg(e){const t=Id.fromString(e);return rd(fy(t)),t}function Kg(e,t){return qg(e.databaseId,t.path)}function Gg(e,t){const n=Hg(t);if(n.get(1)!==e.databaseId.projectId)throw new sd(od.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new sd(od.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Cd(Jg(n))}function Qg(e,t){return qg(e.databaseId,t)}function Yg(e){const t=Hg(e);return 4===t.length?Id.emptyPath():Jg(t)}function $g(e){return new Id(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Jg(e){return rd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Xg(e,t,n){return{name:Kg(e,t),fields:n.value.mapValue.fields}}function Zg(e,t,n){const r=Gg(e,t.name),i=Bg(t.updateTime),o=t.createTime?Bg(t.createTime):Sd.min(),s=new bp({mapValue:{fields:t.fields}}),a=Sp.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ey(e,t){let n;if(t instanceof rg)n={update:Xg(e,t.key,t.value)};else if(t instanceof lg)n={delete:Kg(e,t.key)};else if(t instanceof ig)n={update:Xg(e,t.key,t.data),updateMask:dy(t.fieldMask)};else{if(!(t instanceof cg))return nd();n={verify:Kg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Um)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wm)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw nd()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:zg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:nd()}(e,t.precondition)),n}function ty(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ym.updateTime(Bg(e.updateTime)):void 0!==e.exists?Ym.exists(e.exists):Ym.none()}(t.currentDocument):Ym.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)rd("REQUEST_TIME"===t.setToServerValue),n=new Um;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Vm(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Bm(e)}else"increment"in t?n=new Wm(e,t.increment):nd();const r=Td.fromServerFormat(t.fieldPath);return new Gm(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Gg(e,t.update.name),o=new bp({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new zf(t.map((e=>Td.fromServerFormat(e))))}(t.updateMask);return new ig(i,o,e,n,r)}return new rg(i,o,n,r)}if(t.delete){const r=Gg(e,t.delete);return new lg(r,n)}if(t.verify){const r=Gg(e,t.verify);return new cg(r,n)}return nd()}function ny(e,t){return{documents:[Qg(e,t.path)]}}function ry(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Qg(e,i);const o=function(e){if(0!==e.length)return hy(Np.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:cy(e.field),direction:sy(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=jg(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function iy(e){let t=Yg(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rd(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=oy(e);return t instanceof Np&&Rp(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Tp(uy(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Zd(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ep(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ep(n,t)}(n.endAt)),nm(t,i,s,o,a,"F",l,c)}function oy(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=uy(e.unaryFilter.field);return Ap.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=uy(e.unaryFilter.field);return Ap.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=uy(e.unaryFilter.field);return Ap.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=uy(e.unaryFilter.field);return Ap.create(i,"!=",{nullValue:"NULL_VALUE"});default:return nd()}}(e):void 0!==e.fieldFilter?function(e){return Ap.create(uy(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nd()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Np.create(e.compositeFilter.filters.map((e=>oy(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return nd()}}(e.compositeFilter.op))}(e):nd()}function sy(e){return Dg[e]}function ay(e){return Lg[e]}function ly(e){return Mg[e]}function cy(e){return{fieldPath:e.canonicalString()}}function uy(e){return Td.fromServerFormat(e.fieldPath)}function hy(e){return e instanceof Ap?function(e){if("=="===e.op){if(dp(e.value))return{unaryFilter:{field:cy(e.field),op:"IS_NAN"}};if(hp(e.value))return{unaryFilter:{field:cy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dp(e.value))return{unaryFilter:{field:cy(e.field),op:"IS_NOT_NAN"}};if(hp(e.value))return{unaryFilter:{field:cy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cy(e.field),op:ay(e.op),value:e.value}}}(e):e instanceof Np?function(e){const t=e.getFilters().map((e=>hy(e)));return 1===t.length?t[0]:{compositeFilter:{op:ly(e.op),filters:t}}}(e):nd()}function dy(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function fy(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class py{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sd.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Sd.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:qf.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new py(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new py(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new py(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new py(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class my{constructor(e){this.ct=e}}function gy(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:yy(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Kg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ug(e,t.version.toTimestamp()),createTime:Ug(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:vy(t.version)};else{if(!t.isUnknownDocument())return nd();r.unknownDocument={path:n.path.toArray(),version:vy(t.version)}}return r}function yy(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function vy(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function wy(e){const t=new _d(e.seconds,e.nanoseconds);return Sd.fromTimestamp(t)}function by(e,t){const n=(t.baseMutations||[]).map((t=>ty(e.ct,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>ty(e.ct,t))),i=_d.fromMillis(t.localWriteTimeMs);return new ug(t.batchId,i,n,r)}function _y(e){const t=wy(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?wy(e.lastLimboFreeSnapshotVersion):Sd.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return rd(1===e.documents.length),am(rm(Yg(e.documents[0])))}(e.query):function(e){return am(iy(e))}(e.query),new py(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,qf.fromBase64String(e.resumeToken))}function Sy(e,t){const n=vy(t.snapshotVersion),r=vy(t.lastLimboFreeSnapshotVersion);let i;i=Jp(t.target)?ny(e.ct,t.target):ry(e.ct,t.target).ut;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Yp(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ey(e){const t=iy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?um(t,t.limit,"L"):t}function Iy(e,t){return new dg(t.largestBatchId,ty(e.ct,t.overlayMutation))}function ky(e,t){const n=t.path.lastSegment();return[e,nf(t.path.popLast()),n]}function Ty(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:vy(r.readTime),documentKey:nf(r.documentKey.path),largestBatchId:r.largestBatchId}}class Cy{getBundleMetadata(e,t){return xy(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:wy(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return xy(e).put(function(e){return{bundleId:e.id,createTime:vy(Bg(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Ay(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Ey(e.bundledQuery),readTime:wy(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Ay(e).put(function(e){return{name:e.name,readTime:vy(Bg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function xy(e){return Of(e,"bundles")}function Ay(e){return Of(e,"namedQueries")}class Ny{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new Ny(e,n)}getOverlay(e,t){return Oy(e).get(ky(this.userId,t)).next((e=>e?Iy(this.serializer,e):null))}getOverlays(e,t){const n=Im();return Vd.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new dg(t,i);r.push(this.ht(e,o))})),Vd.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(nf(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Oy(e).H("collectionPathOverlayIndex",r))})),Vd.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Im(),i=nf(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Oy(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=Iy(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Im();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Oy(e).Y({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=Iy(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return Oy(e).put(function(e,t,n){const[r,i,o]=ky(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ey(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function Oy(e){return Of(e,"documentOverlays")}class Py{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Kf(e.integerValue));else if("doubleValue"in e){const n=Kf(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),ef(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Gf(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?mp(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):nd()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Cd.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function Ry(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Dy(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Ry(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Py.bt=new Py;class Ly{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Bt(e){const t=this.Lt(e),n=Dy(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Lt(e),n=Dy(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class My{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class Fy{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class jy{constructor(){this.Gt=new Ly,this.zt=new My(this.Gt),this.jt=new Fy(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Uy{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Uy(this.indexId,this.documentKey,this.arrayValue,n)}}function Vy(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=zy(e.arrayValue,t.arrayValue),0!==n?n:(n=zy(e.directionalValue,t.directionalValue),0!==n?n:Cd.comparator(e.documentKey,t.documentKey)))}function zy(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class By{constructor(e){this.Yt=new jf(((e,t)=>Td.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(rd(e.collectionGroup===this.collectionId),this.en)return!1;const t=Ad(e);if(void 0!==t&&!this.nn(t))return!1;const n=Nd(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Zt.length||!this.sn(this.Zt[o++],e))return!1}return!0}on(){if(this.en)return null;let e=new jf(Td.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Od(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Od(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Od(n.field,"asc"===n.dir?0:1)));return new xd(xd.UNKNOWN_ID,this.collectionId,t,Pd.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function qy(e){var t,n;if(rd(e instanceof Ap||e instanceof Np),e instanceof Ap){if(e instanceof Wp){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Ap.create(e.field,"==",t))))||[];return Np.create(r,"or")}return e}const r=e.filters.map((e=>qy(e)));return Np.create(r,e.op)}function Wy(e){if(0===e.getFilters().length)return[];const t=Qy(qy(e));return rd(Gy(t)),Hy(t)||Ky(t)?[t]:t.getFilters()}function Hy(e){return e instanceof Ap}function Ky(e){return e instanceof Np&&Rp(e)}function Gy(e){return Hy(e)||Ky(e)||function(e){if(e instanceof Np&&Pp(e)){for(const t of e.getFilters())if(!Hy(t)&&!Ky(t))return!1;return!0}return!1}(e)}function Qy(e){if(rd(e instanceof Ap||e instanceof Np),e instanceof Ap)return e;if(1===e.filters.length)return Qy(e.filters[0]);const t=e.filters.map((e=>Qy(e)));let n=Np.create(t,e.op);return n=Jy(n),Gy(n)?n:(rd(n instanceof Np),rd(Op(n)),rd(n.filters.length>1),n.filters.reduce(((e,t)=>Yy(e,t))))}function Yy(e,t){let n;return rd(e instanceof Ap||e instanceof Np),rd(t instanceof Ap||t instanceof Np),n=e instanceof Ap?t instanceof Ap?function(e,t){return Np.create([e,t],"and")}(e,t):$y(e,t):t instanceof Ap?$y(t,e):function(e,t){if(rd(e.filters.length>0&&t.filters.length>0),Op(e)&&Op(t))return Fp(e,t.getFilters());const n=Pp(e)?e:t,r=Pp(e)?t:e,i=n.filters.map((e=>Yy(e,r)));return Np.create(i,"or")}(e,t),Jy(n)}function $y(e,t){if(Op(t))return Fp(t,e.getFilters());{const n=t.filters.map((t=>Yy(e,t)));return Np.create(n,"or")}}function Jy(e){if(rd(e instanceof Ap||e instanceof Np),e instanceof Ap)return e;const t=e.getFilters();if(1===t.length)return Jy(t[0]);if(Dp(e))return e;const n=t.map((e=>Jy(e))),r=[];return n.forEach((t=>{t instanceof Ap?r.push(t):t instanceof Np&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Np.create(r,e.op)}class Xy{constructor(){this._n=new Zy}addToCollectionParentIndex(e,t){return this._n.add(t),Vd.resolve()}getCollectionParents(e,t){return Vd.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Vd.resolve()}deleteFieldIndex(e,t){return Vd.resolve()}deleteAllFieldIndexes(e){return Vd.resolve()}createTargetIndexes(e,t){return Vd.resolve()}getDocumentsMatchingTarget(e,t){return Vd.resolve(null)}getIndexType(e,t){return Vd.resolve(0)}getFieldIndexes(e,t){return Vd.resolve([])}getNextCollectionGroupToUpdate(e){return Vd.resolve(null)}getMinOffset(e,t){return Vd.resolve(Ld.min())}getMinOffsetFromCollectionGroup(e,t){return Vd.resolve(Ld.min())}updateCollectionGroup(e,t,n){return Vd.resolve()}updateIndexEntries(e,t){return Vd.resolve()}}class Zy{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new jf(Id.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new jf(Id.comparator)).toArray()}}const ev=new Uint8Array(0);class tv{constructor(e,t){this.databaseId=t,this.an=new Zy,this.un=new vm((e=>Yp(e)),((e,t)=>$p(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:nf(r)};return nv(e).put(i)}return Vd.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[bd(t),""],!1,!0);return nv(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(sf(r.parent))}return n}))}addFieldIndex(e,t){const n=iv(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=ov(e);return i.next((e=>{n.put(Ty(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=iv(e),r=ov(e),i=rv(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=iv(e),n=rv(e),r=ov(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Vd.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new By(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=rv(e);let r=!0;const i=new Map;return Vd.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Am();const r=[];return Vd.forEach(i,((i,o)=>{Xh("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Yp(t)));const s=function(e,t){const n=Ad(t);if(void 0===n)return null;for(const r of Xp(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of Nd(t))for(const t of Xp(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Nd(t)){const t=0===i.kind?Zp(e,i.fieldPath,e.startAt):em(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Ep(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Nd(t)){const t=0===i.kind?em(e,i.fieldPath,e.endAt):Zp(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Ep(n,r)}(o,i),u=this.hn(i,o,l),h=this.hn(i,o,c),d=this.Pn(i,o,a),f=this.In(i.indexId,s,u,l.inclusive,h,c.inclusive,d);return Vd.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Cd.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Vd.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Wy(Np.create(e.filters,"and")).map((t=>Qp(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Tn(t[u/l]):ev,h=this.En(e,a,n[u%l],r),d=this.dn(e,a,i[u%l],o),f=s.map((t=>this.En(e,a,t,!0)));c.push(...this.createRange(h,d,f))}return c}En(e,t,n,r){const i=new Uy(e,Cd.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new Uy(e,Cd.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new By(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Vd.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new jf(Td.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new jy;for(const r of Nd(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);Py.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new jy;return Py.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new jy;return Py.bt.Pt(lp(this.databaseId,t),n.Ht(function(e){const t=Nd(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new jy);let i=0;for(const o of Nd(e)){const e=n[i++];for(const n of r)if(this.Vn(t,o.fieldPath)&&up(e))r=this.mn(r,o,e);else{const t=n.Ht(o.kind);Py.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new jy;n.seed(e.Wt()),Py.bt.Pt(o,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Ap&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=iv(e),r=ov(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Vd.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Pd(t.sequenceNumber,new Ld(wy(t.readTime),new Cd(sf(t.documentKey)),t.largestBatchId)):Pd.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Od(Td.fromServerFormat(t),n)}));return new xd(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:vd(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=iv(e),i=ov(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Vd.forEach(t,(t=>i.put(Ty(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Vd.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Vd.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Vd.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?Vd.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return rv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return rv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=rv(e);let i=new jf(Vy);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new Uy(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new jf(Vy);const r=this.An(t,e);if(null==r)return n;const i=Ad(t);if(null!=i){const o=e.data.field(i.fieldPath);if(up(o))for(const i of o.arrayValue.values||[])n=n.add(new Uy(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new Uy(t.indexId,e.key,ev,r));return n}wn(e,t,n,r,i){Xh("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Vf(o),l=Vf(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Vf(s)):t?(i(a),a=Vf(o)):(a=Vf(o),l=Vf(s))}}(r,i,Vy,(r=>{o.push(this.Sn(e,t,n,r))}),(r=>{o.push(this.bn(e,t,n,r))})),Vd.waitFor(o)}gn(e){let t=1;return ov(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Vy(e,t))).filter(((e,t,n)=>!t||0!==Vy(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Vy(o,e),i=Vy(o,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(o),r.push(o.Jt());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,ev,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,ev,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return Vy(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sv)}getMinOffset(e,t){return Vd.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||nd())))).next(sv)}}function nv(e){return Of(e,"collectionParents")}function rv(e){return Of(e,"indexEntries")}function iv(e){return Of(e,"indexConfiguration")}function ov(e){return Of(e,"indexState")}function sv(e){rd(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Md(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ld(t.readTime,t.documentKey,n)}const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lv{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new lv(e,lv.DEFAULT_COLLECTION_PERCENTILE,lv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cv(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{rd(1===a)})));const c=[];for(const u of n.mutations){const e=cf(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Vd.waitFor(o).next((()=>c))}function uv(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw nd();t=e.noDocument}return JSON.stringify(t).length}lv.DEFAULT_COLLECTION_PERCENTILE=10,lv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lv.DEFAULT=new lv(41943040,lv.DEFAULT_COLLECTION_PERCENTILE,lv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lv.DISABLED=new lv(-1,0,0);class hv{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){rd(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new hv(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fv(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=pv(e),o=fv(e);return o.add({}).next((s=>{rd("number"==typeof s);const a=new ug(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>ey(e.ct,t))),i=n.mutations.map((t=>ey(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new jf(((e,t)=>vd(e.canonicalString(),t.canonicalString())));for(const e of r){const t=cf(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,uf))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[s]=a.keys()})),Vd.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return fv(e).get(t).next((e=>e?(rd(e.userId===this.userId),by(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?Vd.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return fv(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(rd(t.batchId>=n),i=by(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return fv(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fv(e).W("userMutationsIndex",t).next((e=>e.map((e=>by(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=lf(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return pv(e).Y({range:r},((n,r,o)=>{const[s,a,l]=n,c=sf(a);if(s===this.userId&&t.path.isEqual(c))return fv(e).get(l).next((e=>{if(!e)throw nd();rd(e.userId===this.userId),i.push(by(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new jf(vd);const r=[];return t.forEach((t=>{const i=lf(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=pv(e).Y({range:o},((e,r,i)=>{const[o,s,a]=e,l=sf(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),Vd.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=lf(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new jf(vd);return pv(e).Y({range:o},((e,t,i)=>{const[o,a,l]=e,c=sf(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.Fn(e,s)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(fv(e).get(t).next((e=>{if(null===e)throw nd();rd(e.userId===this.userId),n.push(by(this.serializer,e))})))})),Vd.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return cv(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),Vd.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Vd.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return pv(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=sf(e[1]);r.push(t)}else n.done()})).next((()=>{rd(0===r.length)}))}))}containsKey(e,t){return dv(e,this.userId,t)}xn(e){return mv(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function dv(e,t,n){const r=lf(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return pv(e).Y({range:o,J:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function fv(e){return Of(e,"mutations")}function pv(e){return Of(e,"documentMutations")}function mv(e){return Of(e,"mutationQueues")}class gv{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new gv(0)}static Bn(){return new gv(-1)}}class yv{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new gv(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>Sd.fromTimestamp(new _d(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>vv(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(rd(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return vv(e).Y(((o,s)=>{const a=_y(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Vd.waitFor(i))).next((()=>r))}forEachTarget(e,t){return vv(e).Y(((e,n)=>{const r=_y(n);t(r)}))}Ln(e){return wv(e).get("targetGlobalKey").next((e=>(rd(null!==e),e)))}kn(e,t){return wv(e).put("targetGlobalKey",t)}qn(e,t){return vv(e).put(Sy(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Yp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return vv(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=_y(n);$p(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=bv(e);return t.forEach((t=>{const o=nf(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Vd.waitFor(r)}removeMatchingKeys(e,t,n){const r=bv(e);return Vd.forEach(t,(t=>{const i=nf(t.path);return Vd.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=bv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=bv(e);let i=Am();return r.Y({range:n,J:!0},((e,t,n)=>{const r=sf(e[1]),o=new Cd(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=nf(t.path),r=IDBKeyRange.bound([n],[bd(n)],!1,!0);let i=0;return bv(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return vv(e).get(t).next((e=>e?_y(e):null))}}function vv(e){return Of(e,"targets")}function wv(e){return Of(e,"targetGlobal")}function bv(e){return Of(e,"targetDocuments")}function _v(e,t){let[n,r]=e,[i,o]=t;const s=vd(n,i);return 0===s?vd(r,o):s}class Sv{constructor(e){this.Kn=e,this.buffer=new jf(_v),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();_v(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ev{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){Xh("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Hd(e)?Xh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Ud(e)}await this.zn(3e5)}))}}class Iv{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Vd.resolve(Xd._e);const n=new Sv(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xh("LruGarbageCollector","Garbage collection skipped; disabled"),Vd.resolve(av)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Xh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),av):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Xh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Jh()<=$t.DEBUG&&Xh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Vd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function kv(e,t){return new Iv(e,t)}class Tv{constructor(e,t){this.db=e,this.garbageCollector=kv(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Cv(e,n)}removeReference(e,t,n){return Cv(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Cv(e,t)}er(e,t){return function(e,t){let n=!1;return mv(e).Z((r=>dv(e,r,t).next((e=>(e&&(n=!0),Vd.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((o,s)=>{if(s<=t){const t=this.er(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Sd.min()),bv(e).delete(function(e){return[0,nf(e.path)]}(o)))))}));r.push(t)}})).next((()=>Vd.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Cv(e,t)}Xn(e,t){const n=bv(e);let r,i=Xd._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==Xd._e&&t(new Cd(sf(r)),i),i=l,r=a):i=Xd._e})).next((()=>{i!==Xd._e&&t(new Cd(sf(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Cv(e,t){return bv(e).put(function(e,t){return{targetId:0,path:nf(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class xv{constructor(){this.changes=new vm((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sp.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Vd.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Av{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Rv(e).put(n)}removeEntry(e,t,n){return Rv(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],yy(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=Sp.newInvalidDocument(t);return Rv(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Dv(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:Sp.newInvalidDocument(t)};return Rv(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Dv(t))},((e,r)=>{n={document:this.nr(t,r),size:uv(r)}})).next((()=>n))}getEntries(e,t){let n=bm();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=bm(),r=new Lf(Cd.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,uv(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return Vd.resolve();let r=new jf(Mv);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Dv(r.first()),Dv(r.last())),o=r.getIterator();let s=o.getNext();return Rv(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Cd.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Mv(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.U(Dv(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),yy(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rv(e).W(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=bm();for(const i of e){const e=this.nr(Cd.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(pm(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=bm();const o=Lv(t,n),s=Lv(t,Ld.max());return Rv(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.nr(Cd.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Ov(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Pv(e).get("remoteDocumentGlobalKey").next((e=>(rd(!!e),e)))}tr(e,t){return Pv(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Zg(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Cd.fromSegments(t.noDocument.path),r=wy(t.noDocument.readTime);n=Sp.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return nd();{const e=Cd.fromSegments(t.unknownDocument.path),r=wy(t.unknownDocument.version);n=Sp.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new _d(e[0],e[1]);return Sd.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Sd.min()))return e}return Sp.newInvalidDocument(e)}}function Nv(e){return new Av(e)}class Ov extends xv{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new vm((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new jf(((e,t)=>vd(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=gy(this.ar.serializer,o);r=r.add(i.path.popLast());const l=uv(a);n+=l-s.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=gy(this.ar.serializer,o.convertToNoDocument(Sd.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),Vd.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Pv(e){return Of(e,"remoteDocumentGlobal")}function Rv(e){return Of(e,"remoteDocumentsV14")}function Dv(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Lv(e,t){const n=t.documentKey.path.toArray();return[e,yy(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Mv(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=vd(n[o],r[o]),i)return i;return i=vd(n.length,r.length),i||(i=vd(n[n.length-2],r[r.length-2]),i||vd(n[n.length-1],r[r.length-1]))}class Fv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jv{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&eg(n.mutation,e,zf.empty(),_d.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Am()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Am();const r=Im();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Sm();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Im();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Am())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=bm();const o=Tm(),s=Tm();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof ig)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),eg(s.mutation,t,s.mutation.getFieldMask(),_d.now())):o.set(t.key,zf.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Fv(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Tm();let r=new Lf(((e,t)=>e-t)),i=Am();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||zf.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Am()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=km();l.forEach((e=>{if(!i.has(e)){const r=Xm(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Vd.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Cd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):om(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Vd.resolve(Im());let s=-1,a=i;return o.next((t=>Vd.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Vd.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Am()))).next((e=>({batchId:s,changes:Em(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Cd(t)).next((e=>{let t=Sm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Sm();return this.indexManager.getCollectionParents(e,i).next((s=>Vd.forEach(s,(s=>{const a=function(e,t){return new tm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Sp.newInvalidDocument(r)))}));let n=Sm();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&eg(o.mutation,r,zf.empty(),_d.now()),pm(t,r)&&(n=n.insert(e,r))})),n}))}}class Uv{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Vd.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Bg(e.createTime)}}(t)),Vd.resolve()}getNamedQuery(e,t){return Vd.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Ey(e.bundledQuery),readTime:Bg(e.readTime)}}(t)),Vd.resolve()}}class Vv{constructor(){this.overlays=new Lf(Cd.comparator),this.hr=new Map}getOverlay(e,t){return Vd.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Im();return Vd.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Vd.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Vd.resolve()}getOverlaysForCollection(e,t,n){const r=Im(),i=t.length+1,o=new Cd(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Vd.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Lf(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Im(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Im(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Vd.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new dg(t,n));let i=this.hr.get(t);void 0===i&&(i=Am(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class zv{constructor(){this.Pr=new jf(Bv.Ir),this.Tr=new jf(Bv.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Bv(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Bv(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Cd(new Id([])),n=new Bv(t,e),r=new Bv(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Cd(new Id([])),n=new Bv(t,e),r=new Bv(t,e+1);let i=Am();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Bv(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Bv{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Cd.comparator(e.key,t.key)||vd(e.pr,t.pr)}static Er(e,t){return vd(e.pr,t.pr)||Cd.comparator(e.key,t.key)}}class qv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new jf(Bv.Ir)}checkEmpty(e){return Vd.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ug(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new Bv(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Vd.resolve(o)}lookupMutationBatch(e,t){return Vd.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Vd.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Vd.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Vd.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Bv(t,0),r=new Bv(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Vd.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new jf(vd);return t.forEach((e=>{const t=new Bv(e,0),r=new Bv(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Vd.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Cd.isDocumentKey(i)||(i=i.child(""));const o=new Bv(new Cd(i),0);let s=new jf(vd);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),Vd.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){rd(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Vd.forEach(t.mutations,(r=>{const i=new Bv(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Bv(t,0),r=this.wr.firstAfterOrEqual(n);return Vd.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Vd.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Wv{constructor(e){this.vr=e,this.docs=new Lf(Cd.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Vd.resolve(n?n.document.mutableCopy():Sp.newInvalidDocument(t))}getEntries(e,t){let n=bm();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Sp.newInvalidDocument(e))})),Vd.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=bm();const o=t.path,s=new Cd(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Md(Dd(s),n)<=0||(r.has(s.key)||pm(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Vd.resolve(i)}getAllFromCollectionGroup(e,t,n,r){nd()}Fr(e,t){return Vd.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Hv(this)}getSize(e){return Vd.resolve(this.size)}}class Hv extends xv{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Vd.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Kv{constructor(e){this.persistence=e,this.Mr=new vm((e=>Yp(e)),$p),this.lastRemoteSnapshotVersion=Sd.min(),this.highestTargetId=0,this.Or=0,this.Nr=new zv,this.targetCount=0,this.Br=gv.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Vd.resolve()}getLastRemoteSnapshotVersion(e){return Vd.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Vd.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Vd.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Vd.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new gv(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Vd.resolve()}updateTargetData(e,t){return this.qn(t),Vd.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Vd.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Vd.waitFor(i).next((()=>r))}getTargetCount(e){return Vd.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Vd.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Vd.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Vd.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Vd.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Vd.resolve(n)}containsKey(e,t){return Vd.resolve(this.Nr.containsKey(t))}}class Gv{constructor(e,t){this.Lr={},this.overlays={},this.kr=new Xd(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Kv(this),this.indexManager=new Xy,this.remoteDocumentCache=function(e){return new Wv(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new my(t),this.$r=new Uv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new qv(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Xh("MemoryPersistence","Starting transaction:",e);const r=new Qv(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Vd.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class Qv extends jd{constructor(e){super(),this.currentSequenceNumber=e}}class Yv{constructor(e){this.persistence=e,this.zr=new zv,this.jr=null}static Hr(e){return new Yv(e)}get Jr(){if(this.jr)return this.jr;throw nd()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Vd.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Vd.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Vd.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vd.forEach(this.Jr,(n=>{const r=Cd.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Sd.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Vd.or([()=>Vd.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class $v{constructor(e){this.serializer=e}N(e,t,n,r){const i=new zd("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",af,{unique:!0}),e.createObjectStore("documentMutations")}(e),Jv(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Vd.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Jv(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Sd.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",af,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Vd.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Xr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(o=o.next((()=>this.ti(i)))),n<8&&r>=8&&(o=o.next((()=>this.ni(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ri(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Sf});t.createIndex("collectionPathOverlayIndex",Ef,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",If,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:hf});t.createIndex("documentKeyIndex",df),t.createIndex("collectionGroupIndex",ff)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:vf}).createIndex("sequenceNumberIndex",wf,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:bf}).createIndex("documentKeyIndex",_f,{unique:!1})}(e)))),o}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=uv(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Vd.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Vd.forEach(n,(n=>{rd(n.userId===t.userId);const r=by(this.serializer,n);return cv(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new Id(n),s=function(e){return[0,nf(e)]}(o);r.push(t.get(s).next((n=>n?Vd.resolve():(n=>t.put({targetId:0,path:nf(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Vd.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:yf});const n=t.store("collectionParents"),r=new Zy,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:nf(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Id(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,o]=e;const s=sf(r);return i(s.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=_y(n),i=Sy(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new Cd(Id.fromString(e.document.name).popFirst(5)):e.noDocument?Cd.fromSegments(e.noDocument.path):e.unknownDocument?Cd.fromSegments(e.unknownDocument.path):nd()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Vd.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=Nv(this.serializer),i=new Gv(Yv.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Am();by(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Vd.forEach(n,((e,n)=>{const o=new Qh(n),s=Ny.lt(this.serializer,o),a=i.getIndexManager(o),l=hv.lt(o,this.serializer,a,i.referenceDelegate);return new jv(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Nf(t,Xd._e),e).next()}))}))}}function Jv(e){e.createObjectStore("targetDocuments",{keyPath:mf}).createIndex("documentTargetsIndex",gf,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pf,{unique:!0}),e.createObjectStore("targetGlobal")}const Xv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Zv{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=o,this.document=s,this._i=l,this.ai=c,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!Zv.D())throw new sd(od.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tv(this,r),this.Ti=t+"main",this.serializer=new my(a),this.Ei=new Bd(this.Ti,this.ui,new $v(this.serializer)),this.Qr=new yv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Nv(this.serializer),this.$r=new Cy,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===c&&Zh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new sd(od.FAILED_PRECONDITION,Xv);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new Xd(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>tw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Hd(e))return Xh("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return ew(e).get("owner").next((e=>Vd.resolve(this.Si(e))))}bi(e){return tw(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Of(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Vd.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Vd.resolve(!0):ew(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new sd(od.FAILED_PRECONDITION,Xv);return!1}}return!(!this.networkEnabled||!this.inForeground)||tw(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Xh("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Nf(e,Xd._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Bi()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>tw(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return hv.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new tv(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Ny.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){Xh("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Af:14===e?xf:13===e?Cf:12===e?Tf:11===e?kf:void nd()}(this.ui);let o;return this.Ei.runTransaction(e,r,i,(r=>(o=new Nf(r,this.kr?this.kr.next():Xd._e),"readwrite-primary"===t?this.gi(o).next((e=>!!e||this.pi(o))).next((t=>{if(!t)throw Zh("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new sd(od.FAILED_PRECONDITION,Fd);return n(o)})).next((e=>this.wi(o).next((()=>e)))):this.ki(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}ki(e){return ew(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new sd(od.FAILED_PRECONDITION,Xv)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ew(e).put("owner",t)}static D(){return Bd.D()}yi(e){const t=ew(e);return t.get("owner").next((e=>this.Si(e)?(Xh("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Vd.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Zh("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;At()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Xh("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Zh("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(GP){Zh("Failed to set zombie client id.",GP)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(GP){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function ew(e){return Of(e,"owner")}function tw(e){return Of(e,"clientMetadata")}function nw(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class rw{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Am(),r=Am();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new rw(e,t.fromCache,n,r)}}class iw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ow{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=At()?8:Bd.v(It())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new iw;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Jh()<=$t.DEBUG&&Xh("QueryEngine","SDK will not create cache indexes for query:",fm(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Vd.resolve()):(Jh()<=$t.DEBUG&&Xh("QueryEngine","Query:",fm(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Jh()<=$t.DEBUG&&Xh("QueryEngine","The SDK decides to create cache indexes for query:",fm(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,am(t))):Vd.resolve())}ji(e,t){if(im(t))return Vd.resolve(null);let n=am(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=um(t,null,"F"),n=am(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Am(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,um(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return im(t)||r.isEqual(Sd.min())?Vd.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?Vd.resolve(null):(Jh()<=$t.DEBUG&&Xh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fm(t)),this.es(e,o,t,Rd(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new jf(gm(e));return t.forEach(((t,r)=>{pm(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Jh()<=$t.DEBUG&&Xh("QueryEngine","Using full collection scan to execute query:",fm(t)),this.zi.getDocumentsMatchingQuery(e,t,Ld.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class sw{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Lf(vd),this.rs=new vm((e=>Yp(e)),$p),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function aw(e,t,n,r){return new sw(e,t,n,r)}async function lw(e,t){const n=id(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Am();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function cw(e){const t=id(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function uw(e,t,n){let r=Am(),i=Am();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=bm();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Sd.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Xh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function hw(e,t){const n=id(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function dw(e,t){const n=id(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Vd.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new py(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function fw(e,t,n){const r=id(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Hd(e))throw e;Xh("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function pw(e,t,n){const r=id(e);let i=Sd.min(),o=Am();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=id(e),i=r.rs.get(n);return void 0!==i?Vd.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,am(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Sd.min(),n?o:Am()))).next((e=>(yw(r,mm(t),e),{documents:e,hs:o})))))}function mw(e,t){const n=id(e),r=id(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function gw(e,t){const n=id(e),r=n.ss.get(t)||Sd.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,Rd(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(yw(n,t,e),e)))}function yw(e,t,n){let r=e.ss.get(t)||Sd.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function vw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Am();const r=await dw(e,am(Ey(t.bundledQuery))),i=id(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Bg(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(e,t);const s=r.withResumeToken(qf.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(s.targetId,s),i.Qr.updateTargetData(e,s).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function ww(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function bw(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function _w(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Sw{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new sd(r.error.code,r.error.message))),o?new Sw(e,t,r.state,i):(Zh("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ew{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new sd(n.error.code,n.error.message))),i?new Ew(e,n.state,r):(Zh("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Iw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Om();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=tf(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Iw(e,i):(Zh("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class kw{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new kw(t.clientId,t.onlineState):(Zh("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Tw{constructor(){this.activeTargetIds=Om()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cw{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Lf(vd),this.started=!1,this.ys=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=ww(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Tw),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(ww(this.persistenceKey,n));if(e){const t=Iw.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,t,n){this.Bs(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(_w(this.persistenceKey,e));if(n){const r=Ew.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_w(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xh("SharedClientState","READ",e,t),t}setItem(e,t){Xh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(Xh("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void Zh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=Xd._e;if(null!=e)try{const n=JSON.parse(e);rd("number"==typeof n),t=n}catch(e){Zh("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Xd._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,t,n){const r=new Sw(this.currentUser,e,t,n),i=bw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Ls(e){const t=bw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=_w(this.persistenceKey,e),i=new Ew(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Iw.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Sw.Es(new Qh(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Ew.Es(r,t)}xs(e){return kw.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);Xh("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.eo(o,s).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Om();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class xw{constructor(){this.no=new Tw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Tw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Aw{io(e){}shutdown(){}}class Nw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Xh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Xh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ow=null;function Pw(){return null===Ow?Ow=268435456+Math.round(2147483648*Math.random()):Ow++,"0x"+Ow.toString(16)}const Rw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dw{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Lw="WebChannelConnection";class Mw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const o=Pw(),s=this.bo(e,t.toUriEncodedString());Xh("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,s,a,n).then((t=>(Xh("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw ed("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Rw[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Pw();return new Promise(((o,s)=>{const a=new Wh;a.setWithCredentials(!0),a.listenOnce(Vh.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Uh.NO_ERROR:const t=a.getResponseJson();Xh(Lw,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Uh.TIMEOUT:Xh(Lw,"RPC '".concat(e,"' ").concat(i," timed out")),s(new sd(od.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const n=a.getStatus();if(Xh(Lw,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(od).indexOf(t)>=0?t:od.UNKNOWN}(t.status);s(new sd(e,t.message))}else s(new sd(od.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new sd(od.UNAVAILABLE,"Connection failed."));break;default:nd()}}finally{Xh(Lw,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Xh(Lw,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Pw(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Fh(),s=jh(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Xh(Lw,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const f=new Dw({lo:t=>{d?Xh(Lw,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Xh(Lw,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Xh(Lw,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,qh.EventType.OPEN,(()=>{d||Xh(Lw,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,qh.EventType.CLOSE,(()=>{d||(d=!0,Xh(Lw,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,qh.EventType.ERROR,(t=>{d||(d=!0,ed(Lw,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new sd(od.UNAVAILABLE,"The operation could not be completed")))})),p(u,qh.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];rd(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Xh(Lw,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=pg[e];if(void 0!==t)return yg(t)}(t),i=s.message;void 0===n&&(n=od.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Vo(new sd(n,i)),u.close()}else Xh(Lw,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(s,zh.STAT_EVENT,(t=>{t.stat===Bh.PROXY?Xh(Lw,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Bh.NOPROXY&&Xh(Lw,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function Fw(){return"undefined"!=typeof window?window:null}function jw(){return"undefined"!=typeof document?document:null}function Uw(e){return new Fg(e,!0)}class Vw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&Xh("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class zw{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Vw(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===od.RESOURCE_EXHAUSTED?(Zh(t.toString()),Zh("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===od.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new sd(od.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Xh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Xh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Bw extends zw{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:nd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(rd(void 0===t||"string"==typeof t),qf.fromBase64String(t||"")):(rd(void 0===t||t instanceof Uint8Array),qf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?od.UNKNOWN:yg(e.code);return new sd(t,e.message||"")}(s);n=new Ag(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gg(e,r.document.name),o=Bg(r.document.updateTime),s=r.document.createTime?Bg(r.document.createTime):Sd.min(),a=new bp({mapValue:{fields:r.document.fields}}),l=Sp.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Cg(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gg(e,r.document),o=r.readTime?Bg(r.readTime):Sd.min(),s=Sp.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Cg([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gg(e,r.document),o=r.removedTargetIds||[];n=new Cg([],o,i,null)}else{if(!("filter"in t))return nd();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new fg(r,i),s=e.targetId;n=new xg(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Sd.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Sd.min():t.readTime?Bg(t.readTime):Sd.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=$g(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Jp(r)?{documents:ny(e,r)}:{query:ry(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Vg(e,t.resumeToken);const r=jg(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Sd.min())>0){n.readTime=Ug(e,t.snapshotVersion.toTimestamp());const r=jg(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nd()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=$g(this.serializer),t.removeTarget=e,this.t_(t)}}class qw extends zw{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(rd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(rd(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Bg(e.updateTime):Bg(t);return n.isEqual(Sd.min())&&(n=Bg(t)),new Qm(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Bg(e.commitTime);return this.listener.T_(n,t)}return rd(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=$g(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>ey(this.serializer,e)))};this.t_(t)}}class Ww extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new sd(od.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.So(e,Wg(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===od.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sd(od.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.vo(e,Wg(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===od.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sd(od.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Hw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Zh(t),this.g_=!1):Xh("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Kw{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{tb(this)&&(Xh("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=id(e);t.v_.add(4),await Qw(t),t.x_.set("Unknown"),t.v_.delete(4),await Gw(t)}(this))}))})),this.x_=new Hw(n,r)}}async function Gw(e){if(tb(e))for(const t of e.F_)await t(!0)}async function Qw(e){for(const t of e.F_)await t(!1)}function Yw(e,t){const n=id(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),eb(n)?Zw(n):wb(n).Jo()&&Jw(n,t))}function $w(e,t){const n=id(e),r=wb(n);n.C_.delete(t),r.Jo()&&Xw(n,t),0===n.C_.size&&(r.Jo()?r.Xo():tb(n)&&n.x_.set("Unknown"))}function Jw(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Sd.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wb(e).c_(t)}function Xw(e,t){e.O_.Oe(t),wb(e).l_(t)}function Zw(e){e.O_=new Og({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),wb(e).start(),e.x_.p_()}function eb(e){return tb(e)&&!wb(e).Ho()&&e.C_.size>0}function tb(e){return 0===id(e).v_.size}function nb(e){e.O_=void 0}async function rb(e){e.C_.forEach(((t,n)=>{Jw(e,t)}))}async function ib(e,t){nb(e),eb(e)?(e.x_.S_(t),Zw(e)):e.x_.set("Unknown")}async function ob(e,t,n){if(e.x_.set("Online"),t instanceof Ag&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Xh("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sb(e,n)}else if(t instanceof Cg?e.O_.$e(t):t instanceof xg?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Sd.min()))try{const t=await cw(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(qf.EMPTY_BYTE_STRING,r.snapshotVersion)),Xw(e,t);const i=new py(r.target,t,n,r.sequenceNumber);Jw(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Xh("RemoteStore","Failed to raise snapshot:",t),await sb(e,t)}}async function sb(e,t,n){if(!Hd(t))throw t;e.v_.add(1),await Qw(e),e.x_.set("Offline"),n||(n=()=>cw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Xh("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Gw(e)}))}function ab(e,t){return t().catch((n=>sb(e,n,t)))}async function lb(e){const t=id(e),n=bb(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;cb(t);)try{const e=await hw(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,ub(t,e)}catch(e){await sb(t,e)}hb(t)&&db(t)}function cb(e){return tb(e)&&e.D_.length<10}function ub(e,t){e.D_.push(t);const n=bb(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function hb(e){return tb(e)&&!bb(e).Ho()&&e.D_.length>0}function db(e){bb(e).start()}async function fb(e){bb(e).d_()}async function pb(e){const t=bb(e);for(const n of e.D_)t.I_(n.mutations)}async function mb(e,t,n){const r=e.D_.shift(),i=hg.from(r,t,n);await ab(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await lb(e)}async function gb(e,t){t&&bb(e).P_&&await async function(e,t){if(function(e){return gg(e)&&e!==od.ABORTED}(t.code)){const n=e.D_.shift();bb(e).Zo(),await ab(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await lb(e)}}(e,t),hb(e)&&db(e)}async function yb(e,t){const n=id(e);n.asyncQueue.verifyOperationInProgress(),Xh("RemoteStore","RemoteStore received new credentials");const r=tb(n);n.v_.add(3),await Qw(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Gw(n)}async function vb(e,t){const n=id(e);t?(n.v_.delete(2),await Gw(n)):t||(n.v_.add(2),await Qw(n),n.x_.set("Unknown"))}function wb(e){return e.N_||(e.N_=function(e,t,n){const r=id(e);return r.R_(),new Bw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:rb.bind(null,e),To:ib.bind(null,e),u_:ob.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),eb(e)?Zw(e):e.x_.set("Unknown")):(await e.N_.stop(),nb(e))}))),e.N_}function bb(e){return e.B_||(e.B_=function(e,t,n){const r=id(e);return r.R_(),new qw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:fb.bind(null,e),To:gb.bind(null,e),E_:pb.bind(null,e),T_:mb.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await lb(e)):(await e.B_.stop(),e.D_.length>0&&(Xh("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class _b{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ad,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new _b(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sd(od.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sb(e,t){if(Zh("AsyncQueue","".concat(t,": ").concat(e)),Hd(e))return new sd(od.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Eb{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Cd.comparator(t.key,n.key):(e,t)=>Cd.comparator(e.key,t.key),this.keyedMap=Sm(),this.sortedSet=new Lf(this.comparator)}static emptySet(e){return new Eb(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eb))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Eb;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ib{constructor(){this.L_=new Lf(Cd.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):nd():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class kb{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new kb(e,t,Eb.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Tb{constructor(){this.q_=void 0,this.Q_=[]}}class Cb{constructor(){this.queries=new vm((e=>dm(e)),hm),this.onlineState="Unknown",this.K_=new Set}}async function xb(e,t){const n=id(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Tb),i)try{o.q_=await n.onListen(r)}catch(e){const n=Sb(e,"Initialization of query '".concat(fm(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.Q_.push(t),t.U_(n.onlineState),o.q_&&t.W_(o.q_)&&Pb(n)}async function Ab(e,t){const n=id(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.Q_.indexOf(t);e>=0&&(o.Q_.splice(e,1),i=0===o.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Nb(e,t){const n=id(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&Pb(n)}function Ob(e,t,n){const r=id(e),i=r.queries.get(t);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(t)}function Pb(e){e.K_.forEach((e=>{e.next()}))}class Rb{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new kb(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=kb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Db{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}class Lb{constructor(e){this.serializer=e}Ps(e){return Gg(this.serializer,e)}Is(e){return e.metadata.exists?Zg(this.serializer,e.document,!1):Sp.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Bg(e)}}class Mb{constructor(e,t,n){this.ta=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Fb(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const n=Id.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,n=new Lb(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Am()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=id(e);let o=Am(),s=bm();for(const c of n){const e=t.Ps(c.metadata.name);c.document&&(o=o.add(e));const n=t.Is(c);n.setReadTime(t.Ts(c.metadata.readTime)),s=s.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await dw(i,function(e){return am(rm(Id.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>uw(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new Lb(this.serializer),this.documents,this.ta.id),t=this.ra(this.documents);for(const n of this.queries)await vw(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function Fb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class jb{constructor(e){this.key=e}}class Ub{constructor(e){this.key=e}}class Vb{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Am(),this.mutatedKeys=Am(),this.ua=gm(e),this.ca=new Eb(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new Ib,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=pm(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ia(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ua(u,a)>0||l&&this.ua(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:o,Pa:n,Xi:s,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nd()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const s=t&&!r?this.Ea():[],a=0===this.aa.size&&this.current&&!r?1:0,l=a!==this._a;return this._a=a,0!==o.length||l?{snapshot:new kb(this.query,e.ca,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:s}:{da:s}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Ib,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Am(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new Ub(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new jb(n))})),t}Ra(e){this.oa=e.hs,this.aa=Am();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return kb.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class zb{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Bb{constructor(e){this.key=e,this.ma=!1}}class qb{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new vm((e=>dm(e)),hm),this.pa=new Map,this.ya=new Set,this.wa=new Lf(Cd.comparator),this.Sa=new Map,this.ba=new zv,this.Da={},this.Ca=new Map,this.va=gv.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function Wb(e,t){const n=g_(e);let r,i;const o=n.ga.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const e=await dw(n.localStore,am(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Hb(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Yw(n.remoteStore,e)}return i}async function Hb(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await pw(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return n_(e,t.targetId,a.da),a.snapshot}(e,t,n,r);const o=await pw(e.localStore,t,!0),s=new Vb(t,o.hs),a=s.ha(o.documents),l=Tg.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);n_(e,n,c.da);const u=new zb(t,n,s);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}async function Kb(e,t){const n=id(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!hm(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await fw(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),$w(n.remoteStore,r.targetId),e_(n,r.targetId)})).catch(Ud)):(e_(n,r.targetId),await fw(n.localStore,r.targetId,!0))}async function Gb(e,t){const n=id(e);try{const e=await function(e,t){const n=id(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(qf.EMPTY_BYTE_STRING,Sd.min()).withLastLimboFreeSnapshotVersion(Sd.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Qr.updateTargetData(e,c))}));let a=bm(),l=Am();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(uw(e,o,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(Sd.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Vd.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(rd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?rd(r.ma):e.removedDocuments.size>0&&(rd(r.ma),r.ma=!1))})),await o_(n,e,t)}catch(e){await Ud(e)}}function Qb(e,t,n){const r=id(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=id(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&Pb(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Yb(e,t,n){const r=id(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),o=i&&i.key;if(o){let e=new Lf(Cd.comparator);e=e.insert(o,Sp.newNoDocument(o,Sd.min()));const n=Am().add(o),i=new kg(Sd.min(),new Map,new Lf(vd),e,n);await Gb(r,i),r.wa=r.wa.remove(o),r.Sa.delete(t),i_(r)}else await fw(r.localStore,t,!1).then((()=>e_(r,t,n))).catch(Ud)}async function $b(e,t){const n=id(e),r=t.batch.batchId;try{const e=await function(e,t){const n=id(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Vd.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);rd(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Am();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Zb(n,r,null),Xb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await o_(n,e)}catch(e){await Ud(e)}}async function Jb(e,t,n){const r=id(e);try{const e=await function(e,t){const n=id(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(rd(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Zb(r,t,n),Xb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await o_(r,e)}catch(n){await Ud(n)}}function Xb(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function Zb(e,t,n){const r=id(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function e_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||t_(e,t)}))}function t_(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&($w(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),i_(e))}function n_(e,t,n){for(const r of n)r instanceof jb?(e.ba.addReference(r.key,t),r_(e,r)):r instanceof Ub?(Xh("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||t_(e,r.key)):nd()}function r_(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Xh("SyncEngine","New document in limbo: "+n),e.ya.add(r),i_(e))}function i_(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new Cd(Id.fromString(t)),r=e.va.next();e.Sa.set(r,new Bb(n)),e.wa=e.wa.insert(n,r),Yw(e.remoteStore,new py(am(rm(n.path)),r,"TargetPurposeLimboResolution",Xd._e))}}async function o_(e,t,n){const r=id(e),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach(((e,a)=>{s.push(r.Ma(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=rw.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.fa.u_(i),await async function(e,t){const n=id(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Vd.forEach(t,(t=>Vd.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Vd.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Hd(e))throw e;Xh("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function s_(e,t){const n=id(e);if(!n.currentUser.isEqual(t)){Xh("SyncEngine","User change. New user:",t.toKey());const e=await lw(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new sd(od.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await o_(n,e.us)}}function a_(e,t){const n=id(e),r=n.Sa.get(t);if(r&&r.ma)return Am().add(r.key);{let e=Am();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}async function l_(e,t){const n=id(e),r=await pw(n.localStore,t.query,!0),i=t.view.Ra(r);return n.isPrimaryClient&&n_(n,t.targetId,i.da),i}async function c_(e,t){const n=id(e);return gw(n.localStore,t).then((e=>o_(n,e)))}async function u_(e,t,n,r){const i=id(e),o=await function(e,t){const n=id(e),r=id(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Vd.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await lb(i.remoteStore):"acknowledged"===n||"rejected"===n?(Zb(i,t,r||null),Xb(i,t),function(e,t){id(id(e).mutationQueue).Mn(t)}(i.localStore,t)):nd(),await o_(i,o)):Xh("SyncEngine","Cannot apply mutation batch with id: "+t)}async function h_(e,t,n){const r=id(e),i=[],o=[];for(const s of t){let e;const t=r.pa.get(s);if(t&&0!==t.length){e=await dw(r.localStore,am(t[0]));for(const e of t){const t=r.ga.get(e),n=await l_(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await mw(r.localStore,s);e=await dw(r.localStore,t),await Hb(r,d_(t),s,!1,e.resumeToken)}i.push(e)}return r.fa.u_(o),i}function d_(e){return nm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function f_(e){return function(e){return id(id(e).persistence).Li()}(id(e).localStore)}async function p_(e,t,n,r){const i=id(e);if(i.Fa)return void Xh("SyncEngine","Ignoring unexpected query state notification.");const o=i.pa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await gw(i.localStore,mm(o[0])),r=kg.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,qf.EMPTY_BYTE_STRING);await o_(i,e,r);break}case"rejected":await fw(i.localStore,t,!0),e_(i,t,r);break;default:nd()}}async function m_(e,t,n){const r=g_(e);if(r.Fa){for(const e of t){if(r.pa.has(e)){Xh("SyncEngine","Adding an already active target "+e);continue}const t=await mw(r.localStore,e),n=await dw(r.localStore,t);await Hb(r,d_(t),n.targetId,!1,n.resumeToken),Yw(r.remoteStore,n)}for(const e of n)r.pa.has(e)&&await fw(r.localStore,e,!1).then((()=>{$w(r.remoteStore,e),e_(r,e)})).catch(Ud)}}function g_(e){const t=id(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=a_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yb.bind(null,t),t.fa.u_=Nb.bind(null,t.eventManager),t.fa.xa=Ob.bind(null,t.eventManager),t}function y_(e){const t=id(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$b.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jb.bind(null,t),t}class v_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Uw(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return aw(this.persistence,new ow,e.initialUser,this.serializer)}createPersistence(e){return new Gv(Yv.Hr,this.serializer)}createSharedClientState(e){return new xw}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class w_ extends v_{constructor(e,t,n){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await y_(this.Na.syncEngine),await lb(this.Na.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return aw(this.persistence,new ow,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Ev(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Jd(t,this.persistence);return new $d(e.asyncQueue,n)}createPersistence(e){const t=nw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?lv.withCacheSize(this.cacheSizeBytes):lv.DEFAULT;return new Zv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Fw(),jw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new xw}}class b_ extends w_{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Na.syncEngine;this.sharedClientState instanceof Cw&&(this.sharedClientState.syncEngine={Zs:u_.bind(null,t),Xs:p_.bind(null,t),eo:m_.bind(null,t),Li:f_.bind(null,t),Ys:c_.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=id(e);if(g_(n),y_(n),!0===t&&!0!==n.Fa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await h_(n,e.toArray());n.Fa=!0,await vb(n.remoteStore,!0);for(const r of t)Yw(n.remoteStore,r)}else if(!1===t&&!1!==n.Fa){const e=[];let t=Promise.resolve();n.pa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(e_(n,i),fw(n.localStore,i,!0)))),$w(n.remoteStore,i)})),await t,await h_(n,e),function(e){const t=id(e);t.Sa.forEach(((e,n)=>{$w(t.remoteStore,n)})),t.ba.mr(),t.Sa=new Map,t.wa=new Lf(Cd.comparator)}(n),n.Fa=!1,await vb(n.remoteStore,!1)}}(this.Na.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Fw();if(!Cw.D(t))throw new sd(od.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=nw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Cw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class __{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Qb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=s_.bind(null,this.syncEngine),await vb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Cb}createDatastore(e){const t=Uw(e.databaseInfo.databaseId),n=function(e){return new Mw(e)}(e.databaseInfo);return function(e,t,n,r){return new Ww(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Kw(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Qb(this.syncEngine,e,0)),Nw.D()?new Nw:new Aw)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new qb(e,t,n,r,i,o);return s&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=id(e);Xh("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await Qw(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function S_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class E_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Zh("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class I_{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new ad,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((e=>{e&&e.ea()?this.metadata.resolve(e.X_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(e=>this.metadata.reject(e)))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(null===e)return null;const t=this.qa.decode(e),n=Number(t);isNaN(n)&&this.$a("length string (".concat(t,") is not valid number"));const r=await this.Ua(n);return new Db(JSON.parse(r),e.length+n)}Wa(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(0===this.buffer.length)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const t=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}$a(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ga(){const e=await this.ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class k_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new sd(od.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=id(e),r={documents:t.map((e=>Kg(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,Id.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){rd(!!t.found),t.found.name,t.found.updateTime;const n=Gg(e,t.found.name),r=Bg(t.found.updateTime),i=t.found.createTime?Bg(t.found.createTime):Sd.min(),o=new bp({mapValue:{fields:t.found.fields}});return Sp.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){rd(!!t.missing),rd(!!t.readTime);const n=Gg(e,t.missing),r=Bg(t.readTime);return Sp.newNoDocument(n,r)}(e,t):nd()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());rd(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new lg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Cd.fromPath(t);this.mutations.push(new cg(n,this.precondition(n)))})),await async function(e,t){const n=id(e),r={writes:t.map((e=>ey(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,Id.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nd();t=Sd.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new sd(od.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Sd.min())?Ym.exists(!1):Ym.updateTime(t):Ym.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Sd.min()))throw new sd(od.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ym.updateTime(t)}return Ym.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class T_{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.za=n.maxAttempts,this.jo=new Vw(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo((async()=>{const e=new k_(this.datastore),t=this.Ja(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Ya(e)}))))})).catch((e=>{this.Ya(e)}))}))}Ja(e){try{const t=this.updateFunction(e);return!Zd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ha(),Promise.resolve())))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!gg(t)}return!1}}class C_{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Qh.UNAUTHENTICATED,this.clientId=yd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Xh("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Xh("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sd(od.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ad;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Sb(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function x_(e,t){e.asyncQueue.verifyOperationInProgress(),Xh("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await lw(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function A_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await O_(e);Xh("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>yb(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>yb(t.remoteStore,n))),e._onlineComponents=t}function N_(e){return"FirebaseError"===e.name?e.code===od.FAILED_PRECONDITION||e.code===od.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function O_(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Xh("FirestoreClient","Using user provided OfflineComponentProvider");try{await x_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!N_(n))throw n;ed("Error using user provided cache. Falling back to memory cache: "+n),await x_(e,new v_)}}else Xh("FirestoreClient","Using default OfflineComponentProvider"),await x_(e,new v_);return e._offlineComponents}async function P_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Xh("FirestoreClient","Using user provided OnlineComponentProvider"),await A_(e,e._uninitializedComponentsProvider._online)):(Xh("FirestoreClient","Using default OnlineComponentProvider"),await A_(e,new __))),e._onlineComponents}function R_(e){return O_(e).then((e=>e.persistence))}function D_(e){return O_(e).then((e=>e.localStore))}function L_(e){return P_(e).then((e=>e.remoteStore))}function M_(e){return P_(e).then((e=>e.syncEngine))}function F_(e){return P_(e).then((e=>e.datastore))}async function j_(e){const t=await P_(e),n=t.eventManager;return n.onListen=Wb.bind(null,t.syncEngine),n.onUnlisten=Kb.bind(null,t.syncEngine),n}function U_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ad;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new E_({next:o=>{t.enqueueAndForget((()=>Ab(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new sd(od.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new sd(od.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Rb(rm(n.path),o,{includeMetadataChanges:!0,Z_:!0});return xb(e,s)}(await j_(e),e.asyncQueue,t,n,r))),r.promise}function V_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ad;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new E_({next:n=>{t.enqueueAndForget((()=>Ab(e,s))),n.fromCache&&"server"===r.source?i.reject(new sd(od.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Rb(n,o,{includeMetadataChanges:!0,Z_:!0});return xb(e,s)}(await j_(e),e.asyncQueue,t,n,r))),r.promise}function z_(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?wg().encode(e):e,function(e,t){return new I_(e,t)}(function(e,t){if(e instanceof Uint8Array)return S_(e,t);if(e instanceof ArrayBuffer)return S_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Uw(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=id(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=id(e),r=Bg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Fb(r));const i=new Mb(r,e.localStore,t.serializer);let o=await t.Oa();for(;o;){const e=await i.na(o);e&&n._updateProgress(e),o=await t.Oa()}const s=await i.complete();return await o_(e,s.sa,void 0),await function(e,t){const n=id(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.ia)}catch(e){return ed("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await M_(e),i,r)}))}function B_(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const q_=new Map;function W_(e,t,n){if(!n)throw new sd(od.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function H_(e,t,n,r){if(!0===t&&!0===r)throw new sd(od.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function K_(e){if(!Cd.isDocumentKey(e))throw new sd(od.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function G_(e){if(Cd.isDocumentKey(e))throw new sd(od.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Q_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":nd()}function Y_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sd(od.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Q_(e);throw new sd(od.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function $_(e,t){if(t<=0)throw new sd(od.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class J_{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new sd(od.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sd(od.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B_(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new sd(od.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new sd(od.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new sd(od.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class X_{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new sd(od.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sd(od.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new cd;switch(e.type){case"firstParty":return new fd(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sd(od.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=q_.get(e);t&&(Xh("ComponentProvider","Removing Datastore"),q_.delete(e),t.terminate())}(this),Promise.resolve()}}function Z_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Y_(e,X_))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&ed("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Qh.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[mt(JSON.stringify({alg:"none",type:"JWT"})),mt(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new sd(od.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Qh(o)}e._authCredentials=new ud(new ld(t,n))}}class eS{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new eS(this.firestore,e,this._query)}}class tS{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nS(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tS(this.firestore,e,this._key)}}class nS extends eS{constructor(e,t,n){super(e,t,rm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tS(this.firestore,null,new Cd(e))}withConverter(e){return new nS(this.firestore,e,this._path)}}function rS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qt(e),W_("collection","path",t),e instanceof X_){const n=Id.fromString(t,...r);return G_(n),new nS(e,null,n)}{if(!(e instanceof tS||e instanceof nS))throw new sd(od.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Id.fromString(t,...r));return G_(n),new nS(e.firestore,null,n)}}function iS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qt(e),1===arguments.length&&(t=yd.newId()),W_("doc","path",t),e instanceof X_){const n=Id.fromString(t,...r);return K_(n),new tS(e,null,new Cd(n))}{if(!(e instanceof tS||e instanceof nS))throw new sd(od.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Id.fromString(t,...r));return K_(n),new tS(e.firestore,e instanceof nS?e.converter:null,new Cd(n))}}function oS(e,t){return e=qt(e),t=qt(t),(e instanceof tS||e instanceof nS)&&(t instanceof tS||t instanceof nS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function sS(e,t){return e=qt(e),t=qt(t),e instanceof eS&&t instanceof eS&&e.firestore===t.firestore&&hm(e._query,t._query)&&e.converter===t.converter}class aS{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Vw(this,"async_queue_retry"),this._u=()=>{const e=jw();e&&Xh("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=jw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=jw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new ad;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(GP){if(!Hd(GP))throw GP;Xh("AsyncQueue","Operation failed with retryable error: "+GP)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Zh("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=_b.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&nd()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function lS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class cS{constructor(){this._progressObserver={},this._taskCompletionResolver=new ad,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class uS extends X_{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new aS,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||dS(this),this._firestoreClient.terminate()}}function hS(e){return e._firestoreClient||dS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function dS(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Jf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,B_(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new C_(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function fS(e,t,n){const r=new ad;return e.asyncQueue.enqueue((async()=>{try{await x_(e,n),await A_(e,t),r.resolve()}catch(e){const n=e;if(!N_(n))throw n;ed("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function pS(e){return function(e){const t=new ad;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=id(e);tb(n.remoteStore)||Xh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=id(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ca.get(e)||[];r.push(t),n.Ca.set(e,r)}catch(e){const n=Sb(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await M_(e),t))),t.promise}(hS(e=Y_(e,uS)))}function mS(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await R_(e),n=await L_(e);return t.setNetworkEnabled(!0),function(e){const t=id(e);return t.v_.delete(0),Gw(t)}(n)}))}(hS(e=Y_(e,uS)))}function gS(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await R_(e),n=await L_(e);return t.setNetworkEnabled(!1),async function(e){const t=id(e);t.v_.add(0),await Qw(t),t.x_.set("Offline")}(n)}))}(hS(e=Y_(e,uS)))}function yS(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=id(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await D_(e),t)))}(hS(e=Y_(e,uS)),t).then((t=>t?new eS(e,null,t.query):null))}function vS(e){if(e._initialized||e._terminated)throw new sd(od.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wS{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wS(qf.fromBase64String(e))}catch(e){throw new sd(od.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new wS(qf.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bS{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new sd(od.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Td(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _S{constructor(e){this._methodName=e}}class SS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new sd(od.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sd(od.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vd(this._lat,e._lat)||vd(this._long,e._long)}}const ES=/^__.*__$/;class IS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ig(e,this.data,this.fieldMask,t,this.fieldTransforms):new rg(e,this.data,t,this.fieldTransforms)}}class kS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ig(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nd()}}class CS{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new CS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return GS(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(TS(this.du)&&ES.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class xS{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Uw(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new CS({du:e,methodName:t,wu:n,path:Td.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AS(e){const t=e._freezeSettings(),n=Uw(e._databaseId);return new xS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function NS(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Su(o.merge||o.mergeFields?2:0,t,n,i);qS("Data must be an object, but it was:",s,r);const a=zS(r,s);let l,c;if(o.merge)l=new zf(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=WS(t,r,n);if(!s.contains(i))throw new sd(od.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));QS(e,i)||e.push(i)}l=new zf(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new IS(new bp(a),l,c)}class OS extends _S{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof OS}}function PS(e,t,n){return new CS({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class RS extends _S{_toFieldTransform(e){return new Gm(e.path,new Um)}isEqual(e){return e instanceof RS}}class DS extends _S{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=PS(this,e,!0),n=this.bu.map((e=>VS(e,t))),r=new Vm(n);return new Gm(e.path,r)}isEqual(e){return e instanceof DS&&Lt(this.bu,e.bu)}}class LS extends _S{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=PS(this,e,!0),n=this.bu.map((e=>VS(e,t))),r=new Bm(n);return new Gm(e.path,r)}isEqual(e){return e instanceof LS&&Lt(this.bu,e.bu)}}class MS extends _S{constructor(e,t){super(e),this.Du=t}_toFieldTransform(e){const t=new Wm(e.serializer,Dm(e.serializer,this.Du));return new Gm(e.path,t)}isEqual(e){return e instanceof MS&&this.Du===e.Du}}function FS(e,t,n,r){const i=e.Su(1,t,n);qS("Data must be an object, but it was:",i,r);const o=[],s=bp.empty();Rf(r,((e,r)=>{const a=KS(t,e,n);r=qt(r);const l=i.fu(a);if(r instanceof OS)o.push(a);else{const e=VS(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new zf(o);return new kS(s,a,i.fieldTransforms)}function jS(e,t,n,r,i,o){const s=e.Su(1,t,n),a=[WS(t,r,n)],l=[i];if(o.length%2!=0)throw new sd(od.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(WS(t,o[d])),l.push(o[d+1]);const c=[],u=bp.empty();for(let d=a.length-1;d>=0;--d)if(!QS(c,a[d])){const e=a[d];let t=l[d];t=qt(t);const n=s.fu(e);if(t instanceof OS)c.push(e);else{const r=VS(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new zf(c);return new kS(u,h,s.fieldTransforms)}function US(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return VS(n,e.Su(r?4:3,t))}function VS(e,t){if(BS(e=qt(e)))return qS("Unsupported field value:",t,e),zS(e,t);if(e instanceof _S)return function(e,t){if(!TS(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=VS(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=qt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Dm(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=_d.fromDate(e);return{timestampValue:Ug(t.serializer,n)}}if(e instanceof _d){const n=new _d(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ug(t.serializer,n)}}if(e instanceof SS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wS)return{bytesValue:Vg(t.serializer,e._byteString)};if(e instanceof tS){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:qg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(Q_(e)))}(e,t)}function zS(e,t){const n={};return Df(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rf(e,((e,r)=>{const i=VS(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function BS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _d||e instanceof SS||e instanceof wS||e instanceof tS||e instanceof _S)}function qS(e,t,n){if(!BS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Q_(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function WS(e,t,n){if((t=qt(t))instanceof bS)return t._internalPath;if("string"==typeof t)return KS(e,t);throw GS("Field path arguments must be of type string or ",e,!1,void 0,n)}const HS=new RegExp("[~\\*/\\[\\]]");function KS(e,t,n){if(t.search(HS)>=0)throw GS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new bS(...t.split("."))._internalPath}catch(za){throw GS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function GS(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new sd(od.INVALID_ARGUMENT,a+e+l)}function QS(e,t){return e.some((e=>e.isEqual(t)))}class YS{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tS(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $S(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(JS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $S extends YS{data(){return super.data()}}function JS(e,t){return"string"==typeof t?KS(e,t):t instanceof bS?t._internalPath:t._delegate._internalPath}function XS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new sd(od.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZS{}class eE extends ZS{}function tE(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof ZS&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof rE)).length,n=e.filter((e=>e instanceof nE)).length;if(t>1||t>0&&n>0)throw new sd(od.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class nE extends eE{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new nE(e,t,n)}_apply(e){const t=this._parse(e);return hE(e._query,t),new eS(e.firestore,e.converter,cm(e._query,t))}_parse(e){const t=AS(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new sd(od.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){uE(s,o);const t=[];for(const n of s)t.push(cE(r,e,n));a={arrayValue:{values:t}}}else a=cE(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||uE(s,o),a=US(n,t,s,"in"===o||"not-in"===o);return Ap.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class rE extends ZS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rE(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Np.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)hE(n,i),n=cm(n,i)}(e._query,t),new eS(e.firestore,e.converter,cm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class iE extends eE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new iE(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new sd(od.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new sd(od.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tp(t,n)}(e._query,this._field,this._direction);return new eS(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new tm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class oE extends eE{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new oE(e,t,n)}_apply(e){return new eS(e.firestore,e.converter,um(e._query,this._limit,this._limitType))}}class sE extends eE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new sE(e,t,n)}_apply(e){const t=lE(e,this.type,this._docOrFields,this._inclusive);return new eS(e.firestore,e.converter,function(e,t){return new tm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class aE extends eE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new aE(e,t,n)}_apply(e){const t=lE(e,this.type,this._docOrFields,this._inclusive);return new eS(e.firestore,e.converter,function(e,t){return new tm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function lE(e,t,n,r){if(n[0]=qt(n[0]),n[0]instanceof YS)return function(e,t,n,r,i){if(!r)throw new sd(od.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of sm(e))if(s.field.isKeyField())o.push(lp(t,r.key));else{const e=r.data.field(s.field);if(Qf(e))throw new sd(od.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new sd(od.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Ep(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=AS(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new sd(od.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new sd(od.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!om(e)&&-1!==o.indexOf("/"))throw new sd(od.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(Id.fromString(o));if(!Cd.isDocumentKey(n))throw new sd(od.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Cd(n);a.push(lp(t,i))}else{const e=US(n,r,o);a.push(e)}}return new Ep(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function cE(e,t,n){if("string"==typeof(n=qt(n))){if(""===n)throw new sd(od.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!om(t)&&-1!==n.indexOf("/"))throw new sd(od.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Id.fromString(n));if(!Cd.isDocumentKey(r))throw new sd(od.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return lp(e,new Cd(r))}if(n instanceof tS)return lp(e,n._key);throw new sd(od.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Q_(n),"."))}function uE(e,t){if(!Array.isArray(e)||0===e.length)throw new sd(od.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function hE(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new sd(od.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new sd(od.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class dE{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(tp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nd()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Rf(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new SS(Kf(e.latitude),Kf(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Yf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp($f(e));default:return null}}convertTimestamp(e){const t=Hf(e);return new _d(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Id.fromString(e);rd(fy(n));const r=new Xf(n.get(1),n.get(3)),i=new Cd(n.popFirst(5));return r.isEqual(t)||Zh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function fE(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class pE extends dE{constructor(e){super(),this.firestore=e}convertBytes(e){return new wS(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tS(this.firestore,null,t)}}class mE{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gE extends YS{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new yE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(JS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class yE extends gE{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class vE{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new mE(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new yE(this._firestore,this._userDataWriter,n.key,n,new mE(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new sd(od.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new yE(e._firestore,e._userDataWriter,n.doc.key,n.doc,new mE(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new yE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:wE(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function wE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nd()}}function bE(e,t){return e instanceof gE&&t instanceof gE?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof vE&&t instanceof vE&&e._firestore===t._firestore&&sS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class _E extends dE{constructor(e){super(),this.firestore=e}convertBytes(e){return new wS(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tS(this.firestore,null,t)}}function SE(e){e=Y_(e,tS);const t=Y_(e.firestore,uS),n=hS(t),r=new _E(t);return function(e,t){const n=new ad;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=id(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new sd(od.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Sb(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await D_(e),t,n))),n.promise}(n,e._key).then((n=>new gE(t,r,e._key,n,new mE(null!==n&&n.hasLocalMutations,!0),e.converter)))}function EE(e){e=Y_(e,eS);const t=Y_(e.firestore,uS),n=hS(t),r=new _E(t);return function(e,t){const n=new ad;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await pw(e,t,!0),i=new Vb(t,r.hs),o=i.ha(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=Sb(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await D_(e),t,n))),n.promise}(n,e._query).then((n=>new vE(t,r,e,n)))}function IE(e,t,n){e=Y_(e,tS);const r=Y_(e.firestore,uS),i=fE(e.converter,t,n);return xE(r,[NS(AS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ym.none())])}function kE(e,t,n){e=Y_(e,tS);const r=Y_(e.firestore,uS),i=AS(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=qt(t))||t instanceof bS?jS(i,"updateDoc",e._key,t,n,a):FS(i,"updateDoc",e._key,t),xE(r,[o.toMutation(e._key,Ym.exists(!0))])}function TE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=qt(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||lS(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(lS(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,h,d;if(e instanceof tS)h=Y_(e.firestore,uS),d=rm(e._key.path),u={next:t=>{n[l]&&n[l](AE(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Y_(e,eS);h=Y_(t.firestore,uS),d=t._query;const r=new _E(h);u={next:e=>{n[l]&&n[l](new vE(h,r,t,e))},error:n[l+1],complete:n[l+2]},XS(e._query)}return function(e,t,n,r){const i=new E_(r),o=new Rb(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>xb(await j_(e),o))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>Ab(await j_(e),o)))}}(hS(h),d,c,u)}function CE(e,t){return function(e,t){const n=new E_(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){id(e).K_.add(t),t.next()}(await j_(e),n))),()=>{n.La(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){id(e).K_.delete(t)}(await j_(e),n)))}}(hS(e=Y_(e,uS)),lS(t)?t:{next:t})}function xE(e,t){return function(e,t){const n=new ad;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=y_(e);try{const e=await function(e,t){const n=id(e),r=_d.now(),i=t.reduce(((e,t)=>e.add(t.key)),Am());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=bm(),l=Am();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=tg(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new ig(e.key,t,_p(t.value.mapValue),Ym.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Em(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new Lf(vd)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await o_(r,e.changes),await lb(r.remoteStore)}catch(e){const t=Sb(e,"Failed to persist write");n.reject(t)}}(await M_(e),t,n))),n.promise}(hS(e),t)}function AE(e,t,n){const r=n.docs.get(t._key),i=new _E(e);return new gE(e,i,t._key,r,new mE(n.hasPendingWrites,n.fromCache),t.converter)}const NE={maxAttempts:5};class OE{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=AS(e)}set(e,t,n){this._verifyNotCommitted();const r=PE(e,this._firestore),i=fE(r.converter,t,n),o=NS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ym.none())),this}update(e,t,n){this._verifyNotCommitted();const r=PE(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=qt(t))||t instanceof bS?jS(this._dataReader,"WriteBatch.update",r._key,t,n,s):FS(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Ym.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=PE(e,this._firestore);return this._mutations=this._mutations.concat(new lg(t._key,Ym.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new sd(od.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function PE(e,t){if((e=qt(e)).firestore!==t)throw new sd(od.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class RE extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=AS(e)}get(e){const t=PE(e,this._firestore),n=new pE(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return nd();const r=e[0];if(r.isFoundDocument())return new YS(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new YS(this._firestore,n,t._key,null,t.converter);throw nd()}))}set(e,t,n){const r=PE(e,this._firestore),i=fE(r.converter,t,n),o=NS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=PE(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=qt(t))||t instanceof bS?jS(this._dataReader,"Transaction.update",r._key,t,n,s):FS(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=PE(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=PE(e,this._firestore),n=new _E(this._firestore);return super.get(e).then((e=>new gE(this._firestore,n,t._key,e._document,new mE(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Yh=e}(Mn),Nn(new Wt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new uS(new hd(e.getProvider("auth-internal")),new md(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sd(od.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xf(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),zn(Gh,"4.4.2",e),zn(Gh,"4.4.2","esm2017")}();function DE(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new sd("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function LE(){if("undefined"===typeof Uint8Array)throw new sd("unimplemented","Uint8Arrays are not available in this environment.")}function ME(){if("undefined"==typeof atob)throw new sd("unimplemented","Blobs are unavailable in Firestore in this environment.")}class FE{constructor(e){this._delegate=e}static fromBase64String(e){return ME(),new FE(wS.fromBase64String(e))}static fromUint8Array(e){return LE(),new FE(wS.fromUint8Array(e))}toBase64(){return ME(),this._delegate.toBase64()}toUint8Array(){return LE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jE(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class UE{enableIndexedDbPersistence(e,t){return function(e,t){vS(e=Y_(e,uS));const n=hS(e);if(n._uninitializedComponentsProvider)throw new sd(od.FAILED_PRECONDITION,"SDK cache is already specified.");ed("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new __;return fS(n,i,new w_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){vS(e=Y_(e,uS));const t=hS(e);if(t._uninitializedComponentsProvider)throw new sd(od.FAILED_PRECONDITION,"SDK cache is already specified.");ed("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new __;return fS(t,r,new b_(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new sd(od.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ad;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Bd.D())return Promise.resolve();const t=e+"main";await Bd.delete(t)}(nw(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class VE{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Xf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||ed("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Z_(this._delegate,e,t,n)}enableNetwork(){return mS(this._delegate)}disableNetwork(){return gS(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,H_("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return pS(this._delegate)}onSnapshotsInSync(e){return CE(this._delegate,e)}get app(){if(!this._appCompat)throw new sd("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new eI(this,rS(this._delegate,e))}catch(GP){throw KE(GP,"collection()","Firestore.collection()")}}doc(e){try{return new HE(this,iS(this._delegate,e))}catch(GP){throw KE(GP,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new JE(this,function(e,t){if(e=Y_(e,X_),W_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new sd(od.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new eS(e,null,function(e){return new tm(Id.emptyPath(),e)}(t))}(this._delegate,e))}catch(GP){throw KE(GP,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Y_(e,uS);const r=Object.assign(Object.assign({},NE),n);return function(e){if(e.maxAttempts<1)throw new sd(od.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new ad;return e.asyncQueue.enqueueAndForget((async()=>{const i=await F_(e);new T_(e.asyncQueue,i,n,t,r).ja()})),r.promise}(hS(e),(n=>t(new RE(e,n))),r)}(this._delegate,(t=>e(new BE(this,t))))}batch(){return hS(this._delegate),new qE(new OE(this._delegate,(e=>xE(this._delegate,e))))}loadBundle(e){return function(e,t){const n=hS(e=Y_(e,uS)),r=new cS;return z_(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return yS(this._delegate,e).then((e=>e?new JE(this,e):null))}}class zE extends dE{constructor(e){super(),this.firestore=e}convertBytes(e){return new FE(new wS(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return HE.forKey(t,this.firestore,null)}}class BE{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new zE(e)}get(e){const t=tI(e);return this._delegate.get(t).then((e=>new YE(this._firestore,new gE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=tI(e);return n?(DE("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=tI(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=tI(e);return this._delegate.delete(t),this}}class qE{constructor(e){this._delegate=e}set(e,t,n){const r=tI(e);return n?(DE("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=tI(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=tI(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class WE{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new yE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $E(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=WE.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new WE(e,new zE(e),t),r.set(t,i)),i}}WE.INSTANCES=new WeakMap;class HE{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zE(e)}static forPath(e,t,n){if(e.length%2!==0)throw new sd("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new HE(t,new tS(t._delegate,n,new Cd(e)))}static forKey(e,t,n){return new HE(t,new tS(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new eI(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new eI(this.firestore,rS(this._delegate,e))}catch(GP){throw KE(GP,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=qt(e))instanceof tS&&oS(this._delegate,e)}set(e,t){t=DE("DocumentReference.set",t);try{return t?IE(this._delegate,e,t):IE(this._delegate,e)}catch(GP){throw KE(GP,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?kE(this._delegate,e):kE(this._delegate,e,t,...r)}catch(GP){throw KE(GP,"updateDoc()","DocumentReference.update()")}}delete(){return xE(Y_((e=this._delegate).firestore,uS),[new lg(e._key,Ym.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=GE(t),i=QE(t,(e=>new YE(this.firestore,new gE(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return TE(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?SE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Y_(e,tS);const t=Y_(e.firestore,uS);return U_(hS(t),e._key,{source:"server"}).then((n=>AE(t,e,n)))}(this._delegate):function(e){e=Y_(e,tS);const t=Y_(e.firestore,uS);return U_(hS(t),e._key).then((n=>AE(t,e,n)))}(this._delegate),t.then((e=>new YE(this.firestore,new gE(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new HE(this.firestore,e?this._delegate.withConverter(WE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function KE(e,t,n){return e.message=e.message.replace(t,n),e}function GE(e){for(const t of e)if("object"===typeof t&&!jE(t))return t;return{}}function QE(e,t){var n,r;let i;return i=jE(e[0])?e[0]:jE(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class YE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new HE(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return bE(this._delegate,e._delegate)}}class $E extends YE{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||nd(),t}}class JE{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zE(e)}where(e,t,n){try{return new JE(this.firestore,tE(this._delegate,function(e,t,n){const r=t,i=JS("where",e);return nE._create(i,r,n)}(e,t,n)))}catch(GP){throw KE(GP,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new JE(this.firestore,tE(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=JS("orderBy",e);return iE._create(n,t)}(e,t)))}catch(GP){throw KE(GP,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new JE(this.firestore,tE(this._delegate,($_("limit",t=e),oE._create("limit",t,"F"))))}catch(t){throw KE(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new JE(this.firestore,tE(this._delegate,($_("limitToLast",t=e),oE._create("limitToLast",t,"L"))))}catch(t){throw KE(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new JE(this.firestore,tE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sE._create("startAt",t,!0)}(...arguments)))}catch(GP){throw KE(GP,"startAt()","Query.startAt()")}}startAfter(){try{return new JE(this.firestore,tE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sE._create("startAfter",t,!1)}(...arguments)))}catch(GP){throw KE(GP,"startAfter()","Query.startAfter()")}}endBefore(){try{return new JE(this.firestore,tE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aE._create("endBefore",t,!1)}(...arguments)))}catch(GP){throw KE(GP,"endBefore()","Query.endBefore()")}}endAt(){try{return new JE(this.firestore,tE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aE._create("endAt",t,!0)}(...arguments)))}catch(GP){throw KE(GP,"endAt()","Query.endAt()")}}isEqual(e){return sS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?EE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Y_(e,eS);const t=Y_(e.firestore,uS),n=hS(t),r=new _E(t);return V_(n,e._query,{source:"server"}).then((n=>new vE(t,r,e,n)))}(this._delegate):function(e){e=Y_(e,eS);const t=Y_(e.firestore,uS),n=hS(t),r=new _E(t);return XS(e._query),V_(n,e._query).then((n=>new vE(t,r,e,n)))}(this._delegate),t.then((e=>new ZE(this.firestore,new vE(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=GE(t),i=QE(t,(e=>new ZE(this.firestore,new vE(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return TE(this._delegate,r,i)}withConverter(e){return new JE(this.firestore,e?this._delegate.withConverter(WE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class XE{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new $E(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ZE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new JE(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new $E(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new XE(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new $E(this._firestore,n))}))}isEqual(e){return bE(this._delegate,e._delegate)}}class eI extends JE{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new HE(this.firestore,e):null}doc(e){try{return new HE(this.firestore,void 0===e?iS(this._delegate):iS(this._delegate,e))}catch(GP){throw KE(GP,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Y_(e.firestore,uS),r=iS(e),i=fE(e.converter,t);return xE(n,[NS(AS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ym.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new HE(this.firestore,e)))}isEqual(e){return oS(this._delegate,e._delegate)}withConverter(e){return new eI(this.firestore,e?this._delegate.withConverter(WE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function tI(e){return Y_(e,tS)}class nI{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new bS(...t)}static documentId(){return new nI(Td.keyField().canonicalString())}isEqual(e){return(e=qt(e))instanceof bS&&this._delegate._internalPath.isEqual(e._internalPath)}}class rI{constructor(e){this._delegate=e}static serverTimestamp(){const e=new RS("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new rI(e)}static delete(){const e=new OS("deleteField");return e._methodName="FieldValue.delete",new rI(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new DS("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new rI(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LS("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new rI(e)}static increment(e){const t=new MS("increment",e);return t._methodName="FieldValue.increment",new rI(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const iI={Firestore:VE,GeoPoint:SS,Timestamp:_d,Blob:FE,Transaction:BE,WriteBatch:qE,DocumentReference:HE,DocumentSnapshot:YE,Query:JE,QueryDocumentSnapshot:$E,QuerySnapshot:ZE,CollectionReference:eI,FieldPath:nI,FieldValue:rI,setLogLevel:function(e){var t;t=e,$h.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var oI;function sI(){return window}(function(e,t){e.INTERNAL.registerComponent(new Wt("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},iI)))})(oI=sr,((e,t)=>new VE(e,t,new UE))),oI.registerVersion("@firebase/firestore-compat","0.3.25");async function aI(e,t,n){var r;const{BuildInfo:i}=sI();xr(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(xr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return wi()?s.ibi=i.packageName:gi()?s.apn=i.packageName:_r(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,ga(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function lI(e){const{cordova:t}=sI();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const cI=20;class uI extends Ks{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function hI(e){const t=await pI()._get(mI(e));return t&&await pI()._remove(mI(e)),t}function dI(e,t){var n,r;const i=function(e){const t=gI(e),n=t.link?decodeURIComponent(t.link):void 0,r=gI(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return gI(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=gI(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(GP){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?Sr(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function fI(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<cI;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function pI(){return si(Yo)}function mI(e){return ci("authEvent",e.config.apiKey,e.name)}function gI(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return jt(n.join("?"))}const yI=class{constructor(){this._redirectPersistence=Jo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ws,this._overrideRedirectResult=js}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new uI(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){_r(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,l,c,u;const h=sI();Tr("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Tr("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Tr("function"===typeof(null===(o=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Tr("function"===typeof(null===(l=null===(a=null===(s=null===h||void 0===h?void 0:h.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Tr("function"===typeof(null===(u=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Ls.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:fI(),postBody:null,tenantId:e.tenantId,error:Sr(e,"no-auth-event")}}(e,n,r);await function(e,t){return pI()._set(mI(e),t)}(e,o);const s=await aI(e,o,t);return async function(e,t,n){const{cordova:r}=sI();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(Sr(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),gi()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await lI(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=sI(),n={};wi()?n.iosBundleId=t.packageName:gi()?n.androidPackageName=t.packageName:_r(e,"operation-not-supported-in-this-environment"),await Ys(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=sI(),o=setTimeout((async()=>{await hI(e),t.onEvent(vI())}),500),s=async n=>{clearTimeout(o);const r=await hI(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=dI(r,n.url)),t.onEvent(i||vI())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l="".concat(i.packageName.toLowerCase(),"://");sI().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(GP){console.error(GP)}}}};function vI(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Sr("no-auth-event")}}function wI(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function bI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return!("file:"!==wI()&&"ionic:"!==wI()&&"capacitor:"!==wI()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _I(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return xt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/Edge\/\d+/.test(e)}(e)}function SI(){try{const e=self.localStorage,t=Zo();if(e)return e.setItem(t,"1"),e.removeItem(t),!_I()||Nt()}catch(GP){return EI()&&Nt()}return!1}function EI(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function II(){return("http:"===wI()||"https:"===wI()||Tt()||bI())&&!(Ct()||kt())&&SI()&&!EI()}function kI(){return bI()&&"undefined"!==typeof document}const TI={LOCAL:"local",NONE:"none",SESSION:"session"},CI=Tr,xI="persistence";async function AI(e){await e._initializationPromise;const t=NI(),n=ci(xI,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function NI(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(GP){return null}}const OI=Tr;class PI{constructor(){this.browserResolver=si(va),this.cordovaResolver=si(yI),this.underlyingResolver=null,this._redirectPersistence=Jo,this._completeRedirectFn=Ws,this._overrideRedirectResult=js}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return kI()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return OI(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!kI()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function RI(e){return e.unwrap()}function DI(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new jI(e,function(e,t){var n;const r=qt(e),i=t;return Tr(t.customData.operationType,r,"argument-error"),Tr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),qo._fromError(r,i)}(e,t))}else if(r){const e=LI(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function LI(e){const{_tokenResponse:t}=e instanceof Ot?e.customData:e;if(!t)return null;if(!(e instanceof Ot)&&"temporaryProof"in t&&"phoneNumber"in t)return ks.credentialFromResult(e);const n=t.providerId;if(!n||n===lr.PASSWORD)return null;let r;switch(n){case lr.GOOGLE:r=eo;break;case lr.FACEBOOK:r=Zi;break;case lr.GITHUB:r=to;break;case lr.TWITTER:r=io;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?no._create(n,s):Hi._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new Xi(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof Ot?r.credentialFromError(e):r.credentialFromResult(e)}function MI(e,t){return t.catch((t=>{throw t instanceof Ot&&DI(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,LI(r)),additionalUserInfo:zo(e),user:UI.getOrCreate(n)};var r}))}async function FI(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>MI(e,n.confirm(t))}}class jI{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return MI(RI(this.auth),this.resolver.resolveSignIn(e))}}class UI{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=qt(e);return Ho.has(t)||Ho.set(t,Wo._fromUser(t)),Ho.get(t)}(e)}static getOrCreate(e){return UI.USER_MAP.has(e)||UI.USER_MAP.set(e,new UI(e)),UI.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return MI(this.auth,vo(this._delegate,e))}async linkWithPhoneNumber(e,t){return FI(this.auth,async function(e,t,n){const r=qt(e);await po(!1,r,"phone");const i=await Is(r.auth,t,qt(n));return new Es(i,(e=>vo(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return MI(this.auth,async function(e,t,n){const r=qt(e);Ir(r.auth,t,$i);const i=Ts(r.auth,n);return new Rs(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,PI))}async linkWithRedirect(e){return await AI(ki(this.auth)),qs(this._delegate,e,PI)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return MI(this.auth,wo(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return FI(this.auth,async function(e,t,n){const r=qt(e),i=await Is(r.auth,t,qt(n));return new Es(i,(e=>wo(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return MI(this.auth,async function(e,t,n){const r=qt(e);Ir(r.auth,t,$i);const i=Ts(r.auth,n);return new Rs(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,PI))}async reauthenticateWithRedirect(e){return await AI(ki(this.auth)),Bs(this._delegate,e,PI)}sendEmailVerification(e){return Oo(this._delegate,e)}async unlink(e){return await ho(this._delegate,e),this}updateEmail(e){return function(e,t){return Do(qt(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Do(qt(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await fo(qt(e),t)}(this._delegate,e)}updateProfile(e){return Ro(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Po(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}UI.USER_MAP=new WeakMap;const VI=Tr;class zI{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;VI(n,"invalid-api-key",{appName:e.name}),VI(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?PI:void 0;this._delegate=t.initialize({options:{persistence:qI(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(gr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?UI.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Ri(this._delegate,e,t)}applyActionCode(e){return To(this._delegate,e)}checkActionCode(e){return Co(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Fi(qt(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ko(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return MI(this._delegate,xo(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return No(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Qi.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){VI(II(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await ki(e)._initializationPromise,Ws(e,t,!1)}(this._delegate,PI);return e?MI(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){ki(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=BI(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=BI(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=ki(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Tr(t.handleCodeInApp,r,"argument-error"),t&&Io(r,e,t)}(i,n),await Pi(r,i,"getOobCode",Bi)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=ki(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Io(r,i,n),await Pi(r,i,"getOobCode",zi)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){CI(Object.values(TI).includes(t),e,"invalid-persistence-type"),Ct()?CI(t!==TI.SESSION,e,"unsupported-persistence-type"):kt()?CI(t===TI.NONE,e,"unsupported-persistence-type"):EI()?CI(t===TI.NONE||t===TI.LOCAL&&Nt(),e,"unsupported-persistence-type"):CI(t===TI.NONE||SI(),e,"unsupported-persistence-type")}(this._delegate,e),e){case TI.SESSION:t=Jo;break;case TI.LOCAL:t=await si(ds)._isAvailable()?ds:Yo;break;case TI.NONE:t=li;break;default:return _r("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return MI(this._delegate,async function(e){var t;const n=ki(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new so({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await oo(n,{returnSecureToken:!0}),i=await so._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return MI(this._delegate,yo(this._delegate,e))}signInWithCustomToken(e){return MI(this._delegate,bo(this._delegate,e))}signInWithEmailAndPassword(e,t){return MI(this._delegate,Ao(this._delegate,e,t))}signInWithEmailLink(e,t){return MI(this._delegate,async function(e,t,n){const r=qt(e),i=Yi.credentialWithLink(t,n||Ar());return Tr(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),yo(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return FI(this._delegate,async function(e,t,n){const r=ki(e),i=await Is(r,t,qt(n));return new Es(i,(e=>yo(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return VI(II(),this._delegate,"operation-not-supported-in-this-environment"),MI(this._delegate,async function(e,t,n){const r=ki(e);Ir(e,t,$i);const i=Ts(r,n);return new Rs(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,PI))}async signInWithRedirect(e){return VI(II(),this._delegate,"operation-not-supported-in-this-environment"),await AI(this._delegate),zs(this._delegate,e,PI)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Co(qt(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function BI(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&UI.getOrCreate(e)),error:t,complete:n}}function qI(e,t){const n=function(e,t){const n=NI();if(!n)return[];const r=ci(xI,e,t);switch(n.getItem(r)){case TI.NONE:return[li];case TI.LOCAL:return[ds,Jo];case TI.SESSION:return[Jo];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ds)||n.push(ds),"undefined"!==typeof window)for(const r of[Yo,Jo])n.includes(r)||n.push(r);return n.includes(li)||n.push(li),n}zI.Persistence=TI;class WI{constructor(){this.providerId="phone",this._delegate=new ks(RI(sr.auth()))}static credential(e,t){return ks.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}WI.PHONE_SIGN_IN_METHOD=ks.PHONE_SIGN_IN_METHOD,WI.PROVIDER_ID=ks.PROVIDER_ID;const HI=Tr;class KI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sr.app();var r;HI(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Ss(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new Wt("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new zI(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cr,PASSWORD_RESET:ur,RECOVER_EMAIL:hr,REVERT_SECOND_FACTOR_ADDITION:dr,VERIFY_AND_CHANGE_EMAIL:fr,VERIFY_EMAIL:pr}},EmailAuthProvider:Yi,FacebookAuthProvider:Zi,GithubAuthProvider:to,GoogleAuthProvider:eo,OAuthProvider:Xi,SAMLAuthProvider:ro,PhoneAuthProvider:WI,PhoneMultiFactorGenerator:_a,RecaptchaVerifier:KI,TwitterAuthProvider:io,Auth:zI,AuthCredential:Mi,Error:Ot}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.2")}(sr);const GI=sr.initializeApp({apiKey:"AIzaSyCU_mYN85g5Z1Cq4ncBUiuGUrUvWzXeRmE",authDomain:"clone-3245d.firebaseapp.com",projectId:"clone-3245d",storageBucket:"clone-3245d.appspot.com",messagingSenderId:"348256133384",appId:"1:348256133384:web:20af7234ae286250414cbd"}),QI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn();const t=On(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=On(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Lt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;_r(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:va,persistence:[ds,Yo,Jo]}),r=St("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ka)return;const r=null===t||void 0===t?void 0:t.token;Ta!==r&&(Ta=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){qt(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){qt(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const o=bt("auth");return o&&Ri(n,"http://".concat(o)),n}(GI);GI.firestore();var YI={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function $I(e){if("number"===typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return YI[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function JI(e){var t=$I(e);return"".concat(t.value).concat(t.unit)}var XI=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,s="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(s,0),r},ZI=function(){return ZI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ZI.apply(this,arguments)},ek=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},tk=XI("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");const nk=function(e){var t=e.loading,n=void 0===t||t,i=e.color,o=void 0===i?"#000000":i,s=e.speedMultiplier,a=void 0===s?1:s,l=e.cssOverride,c=void 0===l?{}:l,u=e.size,h=void 0===u?35:u,d=ek(e,["loading","color","speedMultiplier","cssOverride","size"]),f=ZI({background:"transparent !important",width:JI(h),height:JI(h),borderRadius:"100%",border:"2px solid",borderTopColor:o,borderBottomColor:"transparent",borderLeftColor:o,borderRightColor:o,display:"inline-block",animation:"".concat(tk," ").concat(.75/a,"s 0s infinite linear"),animationFillMode:"both"},c);return n?r.createElement("span",ZI({style:f},d)):null};const rk=function(){var e,t;const[n,i]=(0,r.useState)(""),[o,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)({signIn:!1,signUp:!1}),[{user:h},d]=(0,r.useContext)(ot),f=Ce(),p=ke(),m=async e=>{e.preventDefault(),console.log(e.target.name),"sign_in"==e.target.name?(u({...c,signIn:!0}),Ao(QI,n,o).then((e=>{var t;d({type:rt,user:e.user}),u({...c,signIn:!1}),console.log(e),f((null===p||void 0===p||null===(t=p.state)||void 0===t?void 0:t.redirect)||"/")})).catch((e=>{console.log(e.message),l(e.message),u({...c,signIn:!1})}))):(u({...c,signUp:!0}),xo(QI,n,o).then((e=>{var t;console.log(e),d({type:rt,user:e.user}),u({...c,signUp:!1}),f((null===p||void 0===p||null===(t=p.state)||void 0===t?void 0:t.redirect)||"/")})).catch((e=>{console.log(e),l(e.message),u({...c,signup:!1})})))};return(0,N.jsxs)("section",{className:at,children:[(0,N.jsx)(Xe,{to:"/",children:(0,N.jsx)("img",{src:"https://imagenes.heraldo.es/files/image_990_v3/uploads/imagenes/2016/09/14/_amazonlogo_cb6ff359.jpg",alt:"amazon logo"})}),(0,N.jsxs)("div",{className:lt,children:[(0,N.jsx)("h1",{children:"Sign In"}),(null===p||void 0===p||null===(e=p.state)||void 0===e?void 0:e.msg)&&(0,N.jsx)("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:null===p||void 0===p||null===(t=p.state)||void 0===t?void 0:t.msg}),(0,N.jsxs)("form",{action:"",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{htmlFor:"Email",children:"Email"}),(0,N.jsx)("input",{value:n,onChange:e=>i(e.target.value),type:"Email",id:"Email"})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{htmlFor:"Password",children:"Password"}),(0,N.jsx)("input",{value:o,onChange:e=>s(e.target.value),type:"Password",id:"Password"})]}),(0,N.jsx)("button",{type:"submit",name:"sign_in",onClick:m,className:ct,children:c.signIn?(0,N.jsx)(nk,{color:"#000",size:15}):"Sign In"})]}),(0,N.jsx)("p",{children:"By continuing, you agree to Amazon's fake clone Conditions of Use and Privacy Notice."}),(0,N.jsx)("button",{type:"submit",name:"sign_up",onClick:m,className:ut,children:c.signUp?(0,N.jsx)(nk,{color:"#000",size:15}):"Create Your Amazon Account"}),a&&(0,N.jsx)("small",{style:{paddingTop:"5px",color:"red"},children:a})]})]})};const ik=function(){var e;const[{basket:t,user:n},i]=(0,r.useContext)(ot);console.log(t.length);const o=null===t||void 0===t?void 0:t.reduce(((e,t)=>t.amount+e),0);return console.log(o),(0,N.jsxs)("section",{className:b,children:[(0,N.jsxs)("div",{className:_,children:[(0,N.jsxs)("div",{className:S,children:[(0,N.jsx)(Xe,{to:"/",children:(0,N.jsx)("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon log"})}),(0,N.jsxs)("div",{className:E,children:[(0,N.jsx)("span",{children:(0,N.jsx)(y,{})}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:"Deliverd to"}),(0,N.jsx)("span",{children:"Ethiopia"})]})]})]}),(0,N.jsxs)("div",{className:I,children:[(0,N.jsx)("select",{name:"",id:"",children:(0,N.jsx)("option",{value:"",children:"All"})}),(0,N.jsx)("input",{type:"text"}),(0,N.jsx)("div",{children:(0,N.jsx)(v,{size:14})})]}),(0,N.jsxs)("div",{className:k,children:[(0,N.jsxs)(Xe,{to:"",className:T,children:[(0,N.jsx)("img",{src:"https://cdn.britannica.com/33/4833-004-828A9A84/Flag-United-States-of-America.jpg",alt:""}),(0,N.jsx)("select",{name:"",id:"",children:(0,N.jsx)("option",{value:"",children:"EN"})})]}),(0,N.jsx)(Xe,{to:!n&&"/Auth",children:(0,N.jsx)("div",{children:n?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("p",{children:["Hello ",null===n||void 0===n||null===(e=n.email)||void 0===e?void 0:e.split("@")[0]]}),(0,N.jsx)("span",{onClick:()=>QI.signOut(),children:"Sign Out"})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{children:"Hello, Sign In"}),(0,N.jsx)("span",{children:"Account & Lists"})]})})}),(0,N.jsxs)(Xe,{to:"/orders",children:[(0,N.jsx)("p",{children:"Returns"}),(0,N.jsx)("span",{children:"& orders"})]}),(0,N.jsxs)(Xe,{to:"/cart",className:C,children:[(0,N.jsx)(w,{size:50}),(0,N.jsx)("span",{children:o})]})]})]}),(0,N.jsx)(O,{})]})};var ok=n(197);const sk=[n.p+"static/media/img1.912e94967552b0311429.jpeg",n.p+"static/media/img2.861e4853b591616ce876.jpeg",n.p+"static/media/img3.781ba92c61c2f717cd16.jpeg",n.p+"static/media/img4.a903bc7e0b1464b408ce.jpeg",n.p+"static/media/img5.55ec5011762a7a37965b.jpeg",n.p+"static/media/img6.912e94967552b0311429.jpeg"];const ak=function(){return(0,N.jsxs)("div",{children:[(0,N.jsx)(ok.lr,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:sk.map((e=>(0,N.jsx)("img",{src:e})))}),(0,N.jsx)("div",{style:{position:"relative"},children:(0,N.jsx)("div",{style:{content:'""',position:"absolute",bottom:"0px",top:"50px",width:"100%",height:"300px",backgroundImage:"linear-gradient(to bottom, rgba(225,225,225,0), rgba(255,255,255))"}})})]})},lk=[{title:"Electronics",name:"electronics",imglink:"https://fakestoreapi.com/img/81Zt42ioCgL._AC_SX679_.jpg"},{title:"Discover Fashion trends",name:"women's%20clothing",imglink:"https://fakestoreapi.com/img/51eg55uWmdL._AC_UX679_.jpg"},{title:"Men's Clothing",name:"men's clothing",imglink:"https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg"},{title:"Men's Clothing",name:"jewelery",imglink:"https://fakestoreapi.com/img/71YAIFU48IL._AC_UL640_QL65_ML3_.jpg"}],ck="Catagory_Catagory__bfB6t",uk="Catagory_Catagory_container__PK3lV";var hk=function(){return hk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hk.apply(this,arguments)},dk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},fk=XI("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");const pk=function(e){var t=e.loading,n=void 0===t||t,i=e.color,o=void 0===i?"#000000":i,s=e.speedMultiplier,a=void 0===s?1:s,l=e.cssOverride,c=void 0===l?{}:l,u=e.height,h=void 0===u?15:u,d=e.width,f=void 0===d?5:d,p=e.radius,m=void 0===p?2:p,g=e.margin,y=void 0===g?2:g,v=dk(e,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),w=$I(y).value+18,b=w/2+w/5.5,_=hk({display:"inherit",position:"relative",fontSize:"0",top:w,left:w,width:"".concat(3*w,"px"),height:"".concat(3*w,"px")},c),S=function(e){return{position:"absolute",width:JI(f),height:JI(h),margin:JI(y),backgroundColor:o,borderRadius:JI(m),transition:"2s",animationFillMode:"both",animation:"".concat(fk," ").concat(1.2/a,"s ").concat(.12*e,"s infinite ease-in-out")}},E=hk(hk({},S(1)),{top:"".concat(w,"px"),left:"0"}),I=hk(hk({},S(2)),{top:"".concat(b,"px"),left:"".concat(b,"px"),transform:"rotate(-45deg)"}),k=hk(hk({},S(3)),{top:"0",left:"".concat(w,"px"),transform:"rotate(90deg)"}),T=hk(hk({},S(4)),{top:"".concat(-1*b,"px"),left:"".concat(b,"px"),transform:"rotate(45deg)"}),C=hk(hk({},S(5)),{top:"".concat(-1*w,"px"),left:"0"}),x=hk(hk({},S(6)),{top:"".concat(-1*b,"px"),left:"".concat(-1*b,"px"),transform:"rotate(-45deg)"}),A=hk(hk({},S(7)),{top:"0",left:"".concat(-1*w,"px"),transform:"rotate(90deg)"}),N=hk(hk({},S(8)),{top:"".concat(b,"px"),left:"".concat(-1*b,"px"),transform:"rotate(45deg)"});return n?r.createElement("span",hk({style:_},v),r.createElement("span",{style:E}),r.createElement("span",{style:I}),r.createElement("span",{style:k}),r.createElement("span",{style:T}),r.createElement("span",{style:C}),r.createElement("span",{style:x}),r.createElement("span",{style:A}),r.createElement("span",{style:N})):null};const mk=function(){return(0,N.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:(0,N.jsx)(pk,{color:"#36d7b7"})})};const gk=function(e){const[t,n]=(0,r.useState)(!e);return(0,N.jsx)("div",{className:uk,children:lk.map(((e,t)=>(0,N.jsx)(yk,{data:e},t)))})},yk=e=>{let{data:t}=e;console.log(t);const[n,i]=(0,r.useState)(!t);return(0,N.jsx)(N.Fragment,{children:n?(0,N.jsx)(mk,{}):(0,N.jsx)("div",{className:ck,children:(0,N.jsxs)(Xe,{to:"/category/".concat(t.name),children:[(0,N.jsx)("span",{children:(0,N.jsx)("h2",{children:t.title})}),(0,N.jsx)("img",{src:t.imglink,alt:""}),(0,N.jsx)("p",{children:"show now"})]})})})};function vk(e,t){return function(){return e.apply(t,arguments)}}const{toString:wk}=Object.prototype,{getPrototypeOf:bk}=Object,_k=(Sk=Object.create(null),e=>{const t=wk.call(e);return Sk[t]||(Sk[t]=t.slice(8,-1).toLowerCase())});var Sk;const Ek=e=>(e=e.toLowerCase(),t=>_k(t)===e),Ik=e=>t=>typeof t===e,{isArray:kk}=Array,Tk=Ik("undefined");const Ck=Ek("ArrayBuffer");const xk=Ik("string"),Ak=Ik("function"),Nk=Ik("number"),Ok=e=>null!==e&&"object"===typeof e,Pk=e=>{if("object"!==_k(e))return!1;const t=bk(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Rk=Ek("Date"),Dk=Ek("File"),Lk=Ek("Blob"),Mk=Ek("FileList"),Fk=Ek("URLSearchParams");function jk(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),kk(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function Uk(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Vk="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,zk=e=>!Tk(e)&&e!==Vk;const Bk=(qk="undefined"!==typeof Uint8Array&&bk(Uint8Array),e=>qk&&e instanceof qk);var qk;const Wk=Ek("HTMLFormElement"),Hk=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Kk=Ek("RegExp"),Gk=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};jk(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},Qk="abcdefghijklmnopqrstuvwxyz",Yk="0123456789",$k={DIGIT:Yk,ALPHA:Qk,ALPHA_DIGIT:Qk+Qk.toUpperCase()+Yk};const Jk=Ek("AsyncFunction"),Xk={isArray:kk,isArrayBuffer:Ck,isBuffer:function(e){return null!==e&&!Tk(e)&&null!==e.constructor&&!Tk(e.constructor)&&Ak(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ak(e.append)&&("formdata"===(t=_k(e))||"object"===t&&Ak(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ck(e.buffer),t},isString:xk,isNumber:Nk,isBoolean:e=>!0===e||!1===e,isObject:Ok,isPlainObject:Pk,isUndefined:Tk,isDate:Rk,isFile:Dk,isBlob:Lk,isRegExp:Kk,isFunction:Ak,isStream:e=>Ok(e)&&Ak(e.pipe),isURLSearchParams:Fk,isTypedArray:Bk,isFileList:Mk,forEach:jk,merge:function e(){const{caseless:t}=zk(this)&&this||{},n={},r=(r,i)=>{const o=t&&Uk(n,i)||i;Pk(n[o])&&Pk(r)?n[o]=e(n[o],r):Pk(r)?n[o]=e({},r):kk(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&jk(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return jk(t,((t,r)=>{n&&Ak(t)?e[r]=vk(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&bk(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:_k,kindOfTest:Ek,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(kk(e))return e;let t=e.length;if(!Nk(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Wk,hasOwnProperty:Hk,hasOwnProp:Hk,reduceDescriptors:Gk,freezeMethods:e=>{Gk(e,((t,n)=>{if(Ak(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Ak(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return kk(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:Uk,global:Vk,isContextDefined:zk,ALPHABET:$k,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$k.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Ak(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Ok(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=kk(e)?[]:{};return jk(e,((e,t)=>{const o=n(e,r+1);!Tk(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Jk,isThenable:e=>e&&(Ok(e)||Ak(e))&&Ak(e.then)&&Ak(e.catch)};function Zk(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Xk.inherits(Zk,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Xk.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const eT=Zk.prototype,tT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{tT[e]={value:e}})),Object.defineProperties(Zk,tT),Object.defineProperty(eT,"isAxiosError",{value:!0}),Zk.from=(e,t,n,r,i,o)=>{const s=Object.create(eT);return Xk.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Zk.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const nT=Zk;function rT(e){return Xk.isPlainObject(e)||Xk.isArray(e)}function iT(e){return Xk.endsWith(e,"[]")?e.slice(0,-2):e}function oT(e,t,n){return e?e.concat(t).map((function(e,t){return e=iT(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const sT=Xk.toFlatObject(Xk,{},null,(function(e){return/^is[A-Z]/.test(e)}));const aT=function(e,t,n){if(!Xk.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Xk.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Xk.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Xk.isSpecCompliantForm(t);if(!Xk.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Xk.isDate(e))return e.toISOString();if(!a&&Xk.isBlob(e))throw new nT("Blob is not supported. Use a Buffer instead.");return Xk.isArrayBuffer(e)||Xk.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(Xk.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Xk.isArray(e)&&function(e){return Xk.isArray(e)&&!e.some(rT)}(e)||(Xk.isFileList(e)||Xk.endsWith(n,"[]"))&&(a=Xk.toArray(e)))return n=iT(n),a.forEach((function(e,r){!Xk.isUndefined(e)&&null!==e&&t.append(!0===s?oT([n],r,o):null===s?n:n+"[]",l(e))})),!1;return!!rT(e)||(t.append(oT(i,n,o),l(e)),!1)}const u=[],h=Object.assign(sT,{defaultVisitor:c,convertValue:l,isVisitable:rT});if(!Xk.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Xk.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Xk.forEach(n,(function(n,o){!0===(!(Xk.isUndefined(n)||null===n)&&i.call(t,n,Xk.isString(o)?o.trim():o,r,h))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function lT(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function cT(e,t){this._pairs=[],e&&aT(e,this,t)}const uT=cT.prototype;uT.append=function(e,t){this._pairs.push([e,t])},uT.toString=function(e){const t=e?function(t){return e.call(this,t,lT)}:lT;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const hT=cT;function dT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fT(e,t,n){if(!t)return e;const r=n&&n.encode||dT,i=n&&n.serialize;let o;if(o=i?i(t,n):Xk.isURLSearchParams(t)?t.toString():new hT(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const pT=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Xk.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},mT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gT={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:hT,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},yT="undefined"!==typeof window&&"undefined"!==typeof document,vT=(wT="undefined"!==typeof navigator&&navigator.product,yT&&["ReactNative","NativeScript","NS"].indexOf(wT)<0);var wT;const bT="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,_T={...t,...gT};const ST=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&Xk.isArray(r)?r.length:o,a)return Xk.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&Xk.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&Xk.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s}if(Xk.isFormData(e)&&Xk.isFunction(e.entries)){const n={};return Xk.forEachEntry(e,((e,r)=>{t(function(e){return Xk.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ET={transitional:mT,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Xk.isObject(e);i&&Xk.isHTMLForm(e)&&(e=new FormData(e));if(Xk.isFormData(e))return r?JSON.stringify(ST(e)):e;if(Xk.isArrayBuffer(e)||Xk.isBuffer(e)||Xk.isStream(e)||Xk.isFile(e)||Xk.isBlob(e))return e;if(Xk.isArrayBufferView(e))return e.buffer;if(Xk.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return aT(e,new _T.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return _T.isNode&&Xk.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=Xk.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return aT(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Xk.isString(e))try{return(t||JSON.parse)(e),Xk.trim(e)}catch(GP){if("SyntaxError"!==GP.name)throw GP}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ET.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Xk.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(GP){if(n){if("SyntaxError"===GP.name)throw nT.from(GP,nT.ERR_BAD_RESPONSE,this,null,this.response);throw GP}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_T.classes.FormData,Blob:_T.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Xk.forEach(["delete","get","head","post","put","patch"],(e=>{ET.headers[e]={}}));const IT=ET,kT=Xk.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TT=Symbol("internals");function CT(e){return e&&String(e).trim().toLowerCase()}function xT(e){return!1===e||null==e?e:Xk.isArray(e)?e.map(xT):String(e)}function AT(e,t,n,r,i){return Xk.isFunction(r)?r.call(this,t,n):(i&&(t=n),Xk.isString(t)?Xk.isString(r)?-1!==t.indexOf(r):Xk.isRegExp(r)?r.test(t):void 0:void 0)}class NT{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=CT(t);if(!i)throw new Error("header name must be a non-empty string");const o=Xk.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=xT(e))}const o=(e,t)=>Xk.forEach(e,((e,n)=>i(e,n,t)));return Xk.isPlainObject(e)||e instanceof this.constructor?o(e,t):Xk.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&kT[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=CT(e)){const n=Xk.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Xk.isFunction(t))return t.call(this,e,n);if(Xk.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=CT(e)){const n=Xk.findKey(this,e);return!(!n||void 0===this[n]||t&&!AT(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=CT(e)){const i=Xk.findKey(n,e);!i||t&&!AT(0,n[i],i,t)||(delete n[i],r=!0)}}return Xk.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!AT(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Xk.forEach(this,((r,i)=>{const o=Xk.findKey(n,i);if(o)return t[o]=xT(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=xT(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Xk.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Xk.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[TT]=this[TT]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=CT(e);t[r]||(!function(e,t){const n=Xk.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Xk.isArray(e)?e.forEach(r):r(e),this}}NT.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Xk.reduceDescriptors(NT.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Xk.freezeMethods(NT);const OT=NT;function PT(e,t){const n=this||IT,r=t||n,i=OT.from(r.headers);let o=r.data;return Xk.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function RT(e){return!(!e||!e.__CANCEL__)}function DT(e,t,n){nT.call(this,null==e?"canceled":e,nT.ERR_CANCELED,t,n),this.name="CanceledError"}Xk.inherits(DT,nT,{__CANCEL__:!0});const LT=DT;const MT=_T.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];Xk.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Xk.isString(r)&&s.push("path="+r),Xk.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function FT(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const jT=_T.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Xk.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const UT=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];i||(i=l),n[o]=a,r[o]=l;let u=s,h=0;for(;u!==o;)h+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};function VT(e,t){let n=0;const r=UT(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a);n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const zT="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=OT.from(e.headers).normalize();let o,s,{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(Xk.isFormData(r))if(_T.hasStandardBrowserEnv||_T.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(s=i.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const h=FT(e.baseURL,e.url);function d(){if(!u)return;const r=OT.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new nT("Request failed with status code "+n.status,[nT.ERR_BAD_REQUEST,nT.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),fT(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new nT("Request aborted",nT.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new nT("Network Error",nT.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||mT;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new nT(t,r.clarifyTimeoutError?nT.ETIMEDOUT:nT.ECONNABORTED,e,u)),u=null},_T.hasStandardBrowserEnv&&(l&&Xk.isFunction(l)&&(l=l(e)),l||!1!==l&&jT(h))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&MT.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&Xk.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),Xk.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",VT(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",VT(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{u&&(n(!t||t.type?new LT(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);f&&-1===_T.protocols.indexOf(f)?n(new nT("Unsupported protocol "+f+":",nT.ERR_BAD_REQUEST,e)):u.send(r||null)}))},BT={http:null,xhr:zT};Xk.forEach(BT,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(GP){}Object.defineProperty(e,"adapterName",{value:t})}}));const qT=e=>"- ".concat(e),WT=e=>Xk.isFunction(e)||null===e||!1===e,HT=e=>{e=Xk.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!WT(n)&&(r=BT[(t=String(n)).toLowerCase()],void 0===r))throw new nT("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(qT).join("\n"):" "+qT(e[0]):"as no adapter specified";throw new nT("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function KT(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new LT(null,e)}function GT(e){KT(e),e.headers=OT.from(e.headers),e.data=PT.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return HT(e.adapter||IT.adapter)(e).then((function(t){return KT(e),t.data=PT.call(e,e.transformResponse,t),t.headers=OT.from(t.headers),t}),(function(t){return RT(t)||(KT(e),t&&t.response&&(t.response.data=PT.call(e,e.transformResponse,t.response),t.response.headers=OT.from(t.response.headers))),Promise.reject(t)}))}const QT=e=>e instanceof OT?e.toJSON():e;function YT(e,t){t=t||{};const n={};function r(e,t,n){return Xk.isPlainObject(e)&&Xk.isPlainObject(t)?Xk.merge.call({caseless:n},e,t):Xk.isPlainObject(t)?Xk.merge({},t):Xk.isArray(t)?t.slice():t}function i(e,t,n){return Xk.isUndefined(t)?Xk.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!Xk.isUndefined(t))return r(void 0,t)}function s(e,t){return Xk.isUndefined(t)?Xk.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(QT(e),QT(t),!0)};return Xk.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,s=o(e[r],t[r],r);Xk.isUndefined(s)&&o!==a||(n[r]=s)})),n}const $T="1.6.7",JT={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{JT[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const XT={};JT.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new nT(r(i," has been removed"+(t?" in "+t:"")),nT.ERR_DEPRECATED);return t&&!XT[i]&&(XT[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const ZT={assertOptions:function(e,t,n){if("object"!==typeof e)throw new nT("options must be an object",nT.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new nT("option "+o+" must be "+n,nT.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new nT("Unknown option "+o,nT.ERR_BAD_OPTION)}},validators:JT},eC=ZT.validators;class tC{constructor(e){this.defaults=e,this.interceptors={request:new pT,response:new pT}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=YT(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&ZT.assertOptions(n,{silentJSONParsing:eC.transitional(eC.boolean),forcedJSONParsing:eC.transitional(eC.boolean),clarifyTimeoutError:eC.transitional(eC.boolean)},!1),null!=r&&(Xk.isFunction(r)?t.paramsSerializer={serialize:r}:ZT.assertOptions(r,{encode:eC.function,serialize:eC.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Xk.merge(i.common,i[t.method]);i&&Xk.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=OT.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[GT.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=s.length;let d=t;for(h=0;h<u;){const e=s[h++],t=s[h++];try{d=e(d)}catch(f){t.call(this,f);break}}try{c=GT.call(this,d)}catch(f){return Promise.reject(f)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return fT(FT((e=YT(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Xk.forEach(["delete","get","head","options"],(function(e){tC.prototype[e]=function(t,n){return this.request(YT(n||{},{method:e,url:t,data:(n||{}).data}))}})),Xk.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(YT(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}tC.prototype[e]=t(),tC.prototype[e+"Form"]=t(!0)}));const nC=tC;class rC{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new LT(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new rC((function(t){e=t})),cancel:e}}}const iC=rC;const oC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oC).forEach((e=>{let[t,n]=e;oC[n]=t}));const sC=oC;const aC=function e(t){const n=new nC(t),r=vk(nC.prototype.request,n);return Xk.extend(r,nC.prototype,n,{allOwnKeys:!0}),Xk.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(YT(t,n))},r}(IT);aC.Axios=nC,aC.CanceledError=LT,aC.CancelToken=iC,aC.isCancel=RT,aC.VERSION=$T,aC.toFormData=aT,aC.AxiosError=nT,aC.Cancel=aC.CanceledError,aC.all=function(e){return Promise.all(e)},aC.spread=function(e){return function(t){return e.apply(null,t)}},aC.isAxiosError=function(e){return Xk.isObject(e)&&!0===e.isAxiosError},aC.mergeConfig=YT,aC.AxiosHeaders=OT,aC.formToJSON=e=>ST(Xk.isHTMLForm(e)?new FormData(e):e),aC.getAdapter=HT,aC.HttpStatusCode=sC,aC.default=aC;const lC=aC;function cC(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function uC(){return uC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uC.apply(this,arguments)}function hC(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=hC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const dC=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=hC(e))&&(r&&(r+=" "),r+=t);return r},fC={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};const pC=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function mC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}function gC(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function yC(e){if(!gC(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=yC(e[n])})),t}function vC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?uC({},e):e;return gC(e)&&gC(t)&&Object.keys(t).forEach((i=>{"__proto__"!==i&&(gC(t[i])&&i in e&&gC(e[i])?r[i]=vC(e[i],t[i],n):n.clone?r[i]=gC(t[i])?yC(t[i]):t[i]:r[i]=t[i])})),r}const wC=["values","unit","step"],bC=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>uC({},e,{[t.key]:t.val})),{})};const _C={borderRadius:4},SC={xs:0,sm:600,md:900,lg:1200,xl:1536},EC={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(SC[e],"px)")};function IC(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||EC;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||EC;return Object.keys(t).reduce(((r,i)=>{if(-1!==Object.keys(e.values||SC).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r}),{})}return n(t)}function kC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function TC(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function CC(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function xC(e){if("string"!==typeof e)throw new Error(CC(7));return e.charAt(0).toUpperCase()+e.slice(1)}function AC(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function NC(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:AC(e,n)||i,t&&(r=t(r,i,e)),r}const OC=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],s=AC(e.theme,r)||{};return IC(e,o,(e=>{let r=NC(s,i,e);return e===r&&"string"===typeof e&&(r=NC(s,i,"".concat(t).concat("default"===e?"":xC(e)),e)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[t],o};const PC=function(e,t){return t?vC(e,t,{clone:!1}):e};const RC={m:"margin",p:"padding"},DC={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},LC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},MC=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!LC[e])return[e];e=LC[e]}const[t,n]=e.split(""),r=RC[t],i=DC[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),FC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],jC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],UC=[...FC,...jC];function VC(e,t,n,r){var i;const o=null!=(i=AC(e,t,!1))?i:n;return"number"===typeof o?e=>"string"===typeof e?e:o*e:Array.isArray(o)?e=>"string"===typeof e?e:o[e]:"function"===typeof o?o:()=>{}}function zC(e){return VC(e,"spacing",8)}function BC(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function qC(e,t,n,r){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=BC(t,n),e)),{})}(MC(n),r);return IC(e,e[n],i)}function WC(e,t){const n=zC(e.theme);return Object.keys(e).map((r=>qC(e,t,r,n))).reduce(PC,{})}function HC(e){return WC(e,FC)}function KC(e){return WC(e,jC)}function GC(e){return WC(e,UC)}HC.propTypes={},HC.filterProps=FC,KC.propTypes={},KC.filterProps=jC,GC.propTypes={},GC.filterProps=UC;const QC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?PC(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function YC(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function $C(e,t){return OC({prop:e,themeKey:"borders",transform:t})}const JC=$C("border",YC),XC=$C("borderTop",YC),ZC=$C("borderRight",YC),ex=$C("borderBottom",YC),tx=$C("borderLeft",YC),nx=$C("borderColor"),rx=$C("borderTopColor"),ix=$C("borderRightColor"),ox=$C("borderBottomColor"),sx=$C("borderLeftColor"),ax=$C("outline",YC),lx=$C("outlineColor"),cx=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=VC(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:BC(t,e)});return IC(e,e.borderRadius,n)}return null};cx.propTypes={},cx.filterProps=["borderRadius"];QC(JC,XC,ZC,ex,tx,nx,rx,ix,ox,sx,cx,ax,lx);const ux=e=>{if(void 0!==e.gap&&null!==e.gap){const t=VC(e.theme,"spacing",8),n=e=>({gap:BC(t,e)});return IC(e,e.gap,n)}return null};ux.propTypes={},ux.filterProps=["gap"];const hx=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=VC(e.theme,"spacing",8),n=e=>({columnGap:BC(t,e)});return IC(e,e.columnGap,n)}return null};hx.propTypes={},hx.filterProps=["columnGap"];const dx=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=VC(e.theme,"spacing",8),n=e=>({rowGap:BC(t,e)});return IC(e,e.rowGap,n)}return null};dx.propTypes={},dx.filterProps=["rowGap"];QC(ux,hx,dx,OC({prop:"gridColumn"}),OC({prop:"gridRow"}),OC({prop:"gridAutoFlow"}),OC({prop:"gridAutoColumns"}),OC({prop:"gridAutoRows"}),OC({prop:"gridTemplateColumns"}),OC({prop:"gridTemplateRows"}),OC({prop:"gridTemplateAreas"}),OC({prop:"gridArea"}));function fx(e,t){return"grey"===t?t:e}QC(OC({prop:"color",themeKey:"palette",transform:fx}),OC({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:fx}),OC({prop:"backgroundColor",themeKey:"palette",transform:fx}));function px(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const mx=OC({prop:"width",transform:px}),gx=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||SC[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:px(t)}};return IC(e,e.maxWidth,t)}return null};gx.filterProps=["maxWidth"];const yx=OC({prop:"minWidth",transform:px}),vx=OC({prop:"height",transform:px}),wx=OC({prop:"maxHeight",transform:px}),bx=OC({prop:"minHeight",transform:px}),_x=(OC({prop:"size",cssProperty:"width",transform:px}),OC({prop:"size",cssProperty:"height",transform:px}),QC(mx,gx,yx,vx,wx,bx,OC({prop:"boxSizing"})),{border:{themeKey:"borders",transform:YC},borderTop:{themeKey:"borders",transform:YC},borderRight:{themeKey:"borders",transform:YC},borderBottom:{themeKey:"borders",transform:YC},borderLeft:{themeKey:"borders",transform:YC},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:YC},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:cx},color:{themeKey:"palette",transform:fx},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:fx},backgroundColor:{themeKey:"palette",transform:fx},p:{style:KC},pt:{style:KC},pr:{style:KC},pb:{style:KC},pl:{style:KC},px:{style:KC},py:{style:KC},padding:{style:KC},paddingTop:{style:KC},paddingRight:{style:KC},paddingBottom:{style:KC},paddingLeft:{style:KC},paddingX:{style:KC},paddingY:{style:KC},paddingInline:{style:KC},paddingInlineStart:{style:KC},paddingInlineEnd:{style:KC},paddingBlock:{style:KC},paddingBlockStart:{style:KC},paddingBlockEnd:{style:KC},m:{style:HC},mt:{style:HC},mr:{style:HC},mb:{style:HC},ml:{style:HC},mx:{style:HC},my:{style:HC},margin:{style:HC},marginTop:{style:HC},marginRight:{style:HC},marginBottom:{style:HC},marginLeft:{style:HC},marginX:{style:HC},marginY:{style:HC},marginInline:{style:HC},marginInlineStart:{style:HC},marginInlineEnd:{style:HC},marginBlock:{style:HC},marginBlockStart:{style:HC},marginBlockEnd:{style:HC},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ux},rowGap:{style:dx},columnGap:{style:hx},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:px},maxWidth:{style:gx},minWidth:{transform:px},height:{transform:px},maxHeight:{transform:px},minHeight:{transform:px},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const Sx=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:l,style:c}=o;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=AC(n,a)||{};if(c)return c(i);return IC(i,t,(t=>{let n=NC(u,l,t);return t===n&&"string"===typeof t&&(n=NC(u,l,"".concat(e).concat("default"===t?"":xC(t)),t)),!1===s?n:{[s]:n}}))}return function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=null!=(r=o.unstable_sxConfig)?r:_x;function a(n){let r=n;if("function"===typeof n)r=n(o);else if("object"!==typeof n)return n;if(!r)return null;const i=kC(o.breakpoints),a=Object.keys(i);let l=i;return Object.keys(r).forEach((n=>{const i=(a=r[n],c=o,"function"===typeof a?a(c):a);var a,c;if(null!==i&&void 0!==i)if("object"===typeof i)if(s[n])l=PC(l,e(n,i,o,s));else{const e=IC({theme:o},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?l=PC(l,e):l[n]=t({sx:i,theme:o})}else l=PC(l,e(n,i,o,s))})),TC(a,l)}return Array.isArray(i)?i.map(a):a(i)}}();Sx.filterProps=["sx"];const Ex=Sx;function Ix(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){return{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}}return n.palette.mode===e?t:{}}const kx=["breakpoints","palette","spacing","shape"];const Tx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,o=cC(e,kx),s=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=cC(e,wC),o=bC(t),s=Object.keys(o);function a(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function l(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function c(e,i){const o=s.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[s[o]]?t[s[o]]:i)-r/100).concat(n,")")}return uC({keys:s,values:o,up:a,down:l,between:c,only:function(e){return s.indexOf(e)+1<s.length?c(e,s[s.indexOf(e)+1]):a(e)},not:function(e){const t=s.indexOf(e);return 0===t?a(s[1]):t===s.length-1?l(s[t]):c(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}(t),a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=zC({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(r);let l=vC({breakpoints:s,direction:"ltr",components:{},palette:uC({mode:"light"},n),spacing:a,shape:uC({},_C,i)},o);l.applyStyles=Ix;for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];return l=u.reduce(((e,t)=>vC(e,t)),l),l.unstable_sxConfig=uC({},_x,null==o?void 0:o.unstable_sxConfig),l.unstable_sx=function(e){return Ex({sx:e,theme:this})},l};var Cx=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(GP){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),xx=Math.abs,Ax=String.fromCharCode,Nx=Object.assign;function Ox(e){return e.trim()}function Px(e,t,n){return e.replace(t,n)}function Rx(e,t){return e.indexOf(t)}function Dx(e,t){return 0|e.charCodeAt(t)}function Lx(e,t,n){return e.slice(t,n)}function Mx(e){return e.length}function Fx(e){return e.length}function jx(e,t){return t.push(e),e}var Ux=1,Vx=1,zx=0,Bx=0,qx=0,Wx="";function Hx(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Ux,column:Vx,length:s,return:""}}function Kx(e,t){return Nx(Hx("",null,null,"",null,null,0),e,{length:-e.length},t)}function Gx(){return qx=Bx>0?Dx(Wx,--Bx):0,Vx--,10===qx&&(Vx=1,Ux--),qx}function Qx(){return qx=Bx<zx?Dx(Wx,Bx++):0,Vx++,10===qx&&(Vx=1,Ux++),qx}function Yx(){return Dx(Wx,Bx)}function $x(){return Bx}function Jx(e,t){return Lx(Wx,e,t)}function Xx(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Zx(e){return Ux=Vx=1,zx=Mx(Wx=e),Bx=0,[]}function eA(e){return Wx="",e}function tA(e){return Ox(Jx(Bx-1,iA(91===e?e+2:40===e?e+1:e)))}function nA(e){for(;(qx=Yx())&&qx<33;)Qx();return Xx(e)>2||Xx(qx)>3?"":" "}function rA(e,t){for(;--t&&Qx()&&!(qx<48||qx>102||qx>57&&qx<65||qx>70&&qx<97););return Jx(e,$x()+(t<6&&32==Yx()&&32==Qx()))}function iA(e){for(;Qx();)switch(qx){case e:return Bx;case 34:case 39:34!==e&&39!==e&&iA(qx);break;case 40:41===e&&iA(e);break;case 92:Qx()}return Bx}function oA(e,t){for(;Qx()&&e+qx!==57&&(e+qx!==84||47!==Yx()););return"/*"+Jx(t,Bx-1)+"*"+Ax(47===e?e:Qx())}function sA(e){for(;!Xx(Yx());)Qx();return Jx(e,Bx)}var aA="-ms-",lA="-moz-",cA="-webkit-",uA="comm",hA="rule",dA="decl",fA="@keyframes";function pA(e,t){for(var n="",r=Fx(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function mA(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case dA:return e.return=e.return||e.value;case uA:return"";case fA:return e.return=e.value+"{"+pA(e.children,r)+"}";case hA:e.value=e.props.join(",")}return Mx(n=pA(e.children,r))?e.return=e.value+"{"+n+"}":""}function gA(e){return function(t){t.root||(t=t.return)&&e(t)}}function yA(e){return eA(vA("",null,null,null,[""],e=Zx(e),0,[0],e))}function vA(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,h=s,d=0,f=0,p=0,m=1,g=1,y=1,v=0,w="",b=i,_=o,S=r,E=w;g;)switch(p=v,v=Qx()){case 40:if(108!=p&&58==Dx(E,h-1)){-1!=Rx(E+=Px(tA(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:E+=tA(v);break;case 9:case 10:case 13:case 32:E+=nA(p);break;case 92:E+=rA($x()-1,7);continue;case 47:switch(Yx()){case 42:case 47:jx(bA(oA(Qx(),$x()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=Mx(E)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(E=Px(E,/\f/g,"")),f>0&&Mx(E)-h&&jx(f>32?_A(E+";",r,n,h-1):_A(Px(E," ","")+";",r,n,h-2),l);break;case 59:E+=";";default:if(jx(S=wA(E,t,n,c,u,i,a,w,b=[],_=[],h),o),123===v)if(0===u)vA(E,t,S,S,b,o,h,a,_);else switch(99===d&&110===Dx(E,3)?100:d){case 100:case 108:case 109:case 115:vA(e,S,S,r&&jx(wA(e,S,S,0,0,i,a,w,i,b=[],h),_),i,_,h,a,r?b:_);break;default:vA(E,S,S,S,[""],_,0,a,_)}}c=u=f=0,m=y=1,w=E="",h=s;break;case 58:h=1+Mx(E),f=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==Gx())continue;switch(E+=Ax(v),v*m){case 38:y=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(Mx(E)-1)*y,y=1;break;case 64:45===Yx()&&(E+=tA(Qx())),d=Yx(),u=h=Mx(w=E+=sA($x())),v++;break;case 45:45===p&&2==Mx(E)&&(m=0)}}return o}function wA(e,t,n,r,i,o,s,a,l,c,u){for(var h=i-1,d=0===i?o:[""],f=Fx(d),p=0,m=0,g=0;p<r;++p)for(var y=0,v=Lx(e,h+1,h=xx(m=s[p])),w=e;y<f;++y)(w=Ox(m>0?d[y]+" "+v:Px(v,/&\f/g,d[y])))&&(l[g++]=w);return Hx(e,t,n,0===i?hA:a,l,c,u)}function bA(e,t,n){return Hx(e,t,n,uA,Ax(qx),Lx(e,2,-2),0)}function _A(e,t,n,r){return Hx(e,t,n,dA,Lx(e,0,r),Lx(e,r+1,-1),r)}var SA=function(e,t,n){for(var r=0,i=0;r=i,i=Yx(),38===r&&12===i&&(t[n]=1),!Xx(i);)Qx();return Jx(e,Bx)},EA=function(e,t){return eA(function(e,t){var n=-1,r=44;do{switch(Xx(r)){case 0:38===r&&12===Yx()&&(t[n]=1),e[n]+=SA(Bx-1,t,n);break;case 2:e[n]+=tA(r);break;case 4:if(44===r){e[++n]=58===Yx()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Ax(r)}}while(r=Qx());return e}(Zx(e),t))},IA=new WeakMap,kA=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||IA.get(n))&&!r){IA.set(e,!0);for(var i=[],o=EA(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},TA=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function CA(e,t){switch(function(e,t){return 45^Dx(e,0)?(((t<<2^Dx(e,0))<<2^Dx(e,1))<<2^Dx(e,2))<<2^Dx(e,3):0}(e,t)){case 5103:return cA+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return cA+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return cA+e+lA+e+aA+e+e;case 6828:case 4268:return cA+e+aA+e+e;case 6165:return cA+e+aA+"flex-"+e+e;case 5187:return cA+e+Px(e,/(\w+).+(:[^]+)/,cA+"box-$1$2"+aA+"flex-$1$2")+e;case 5443:return cA+e+aA+"flex-item-"+Px(e,/flex-|-self/,"")+e;case 4675:return cA+e+aA+"flex-line-pack"+Px(e,/align-content|flex-|-self/,"")+e;case 5548:return cA+e+aA+Px(e,"shrink","negative")+e;case 5292:return cA+e+aA+Px(e,"basis","preferred-size")+e;case 6060:return cA+"box-"+Px(e,"-grow","")+cA+e+aA+Px(e,"grow","positive")+e;case 4554:return cA+Px(e,/([^-])(transform)/g,"$1"+cA+"$2")+e;case 6187:return Px(Px(Px(e,/(zoom-|grab)/,cA+"$1"),/(image-set)/,cA+"$1"),e,"")+e;case 5495:case 3959:return Px(e,/(image-set\([^]*)/,cA+"$1$`$1");case 4968:return Px(Px(e,/(.+:)(flex-)?(.*)/,cA+"box-pack:$3"+aA+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+cA+e+e;case 4095:case 3583:case 4068:case 2532:return Px(e,/(.+)-inline(.+)/,cA+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mx(e)-1-t>6)switch(Dx(e,t+1)){case 109:if(45!==Dx(e,t+4))break;case 102:return Px(e,/(.+:)(.+)-([^]+)/,"$1"+cA+"$2-$3$1"+lA+(108==Dx(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Rx(e,"stretch")?CA(Px(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Dx(e,t+1))break;case 6444:switch(Dx(e,Mx(e)-3-(~Rx(e,"!important")&&10))){case 107:return Px(e,":",":"+cA)+e;case 101:return Px(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+cA+(45===Dx(e,14)?"inline-":"")+"box$3$1"+cA+"$2$3$1"+aA+"$2box$3")+e}break;case 5936:switch(Dx(e,t+11)){case 114:return cA+e+aA+Px(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return cA+e+aA+Px(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return cA+e+aA+Px(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return cA+e+aA+e+e}return e}var xA=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case dA:e.return=CA(e.value,e.length);break;case fA:return pA([Kx(e,{value:Px(e.value,"@","@"+cA)})],r);case hA:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return pA([Kx(e,{props:[Px(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return pA([Kx(e,{props:[Px(t,/:(plac\w+)/,":"+cA+"input-$1")]}),Kx(e,{props:[Px(t,/:(plac\w+)/,":-moz-$1")]}),Kx(e,{props:[Px(t,/:(plac\w+)/,aA+"input-$1")]})],r)}return""}))}}],AA=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||xA;var i,o,s={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l=[kA,TA];var c,u=[mA,gA((function(e){c.insert(e)}))],h=function(e){var t=Fx(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}(l.concat(r,u));o=function(e,t,n,r){c=n,pA(yA(e?e+"{"+t.styles+"}":t.styles),h),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new Cx({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return d.sheet.hydrate(a),d};var NA={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function OA(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var PA=/[A-Z]|^ms/g,RA=/_EMO_([^_]+?)_([^]*?)_EMO_/g,DA=function(e){return 45===e.charCodeAt(1)},LA=function(e){return null!=e&&"boolean"!==typeof e},MA=OA((function(e){return DA(e)?e:e.replace(PA,"-$&").toLowerCase()})),FA=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(RA,(function(e,t,n){return UA={name:t,styles:n,next:UA},t}))}return 1===NA[e]||DA(e)||"number"!==typeof t||0===t?t:t+"px"};function jA(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return UA={name:n.name,styles:n.styles,next:UA},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)UA={name:r.name,styles:r.styles,next:UA},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=jA(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":LA(s)&&(r+=MA(o)+":"+FA(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=jA(e,t,s);switch(o){case"animation":case"animationName":r+=MA(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var l=0;l<s.length;l++)LA(s[l])&&(r+=MA(o)+":"+FA(o,s[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=UA,o=n(e);return UA=i,jA(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var UA,VA=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var zA=!!i.useInsertionEffect&&i.useInsertionEffect,BA=zA||function(e){return e()},qA=(zA||r.useLayoutEffect,r.createContext("undefined"!==typeof HTMLElement?AA({key:"css"}):null));qA.Provider;var WA=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(qA);return e(t,i,n)}))};var HA=r.createContext({});const KA=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(HA);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},GA=Tx();const QA=function(){return KA(arguments.length>0&&void 0!==arguments[0]?arguments[0]:GA)};function YA(e,t){return uC({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}function $A(e){return pC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function JA(e){if(e.type)return e;if("#"===e.charAt(0))return JA(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(CC(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(CC(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}function XA(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function ZA(e){let t="hsl"===(e=JA(e)).type||"hsla"===e.type?JA(function(e){e=JA(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),XA({type:a,values:l})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function eN(e,t){if(e=JA(e),t=$A(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return XA(e)}function tN(e,t){if(e=JA(e),t=$A(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return XA(e)}const nN={black:"#000",white:"#fff"},rN={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},iN={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},oN={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},sN={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},aN={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},lN={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},cN={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},uN=["mode","contrastThreshold","tonalOffset"],hN={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:nN.white,default:nN.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dN={text:{primary:nN.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:nN.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function fN(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=tN(e.main,i):"dark"===t&&(e.dark=eN(e.main,o)))}function pN(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=cC(e,uN),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:aN[200],light:aN[50],dark:aN[400]}:{main:aN[700],light:aN[400],dark:aN[800]}}(t),s=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:iN[200],light:iN[50],dark:iN[400]}:{main:iN[500],light:iN[300],dark:iN[700]}}(t),a=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:oN[500],light:oN[300],dark:oN[700]}:{main:oN[700],light:oN[400],dark:oN[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:lN[400],light:lN[300],dark:lN[700]}:{main:lN[700],light:lN[500],dark:lN[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:cN[400],light:cN[300],dark:cN[700]}:{main:cN[800],light:cN[500],dark:cN[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:sN[400],light:sN[300],dark:sN[700]}:{main:"#ed6c02",light:sN[500],dark:sN[900]}}(t);function h(e){const t=function(e,t){const n=ZA(e),r=ZA(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,dN.text.primary)>=n?dN.text.primary:hN.text.primary;return t}const d=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:s=700}=e;if(t=uC({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(CC(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(CC(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return fN(t,"light",o,r),fN(t,"dark",s,r),t.contrastText||(t.contrastText=h(t.main)),t},f={dark:dN,light:hN};return vC(uC({common:uC({},nN),mode:t,primary:d({color:o,name:"primary"}),secondary:d({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:u,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:c,name:"success"}),grey:rN,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:r},f[t]),i)}const mN=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const gN={textTransform:"uppercase"},yN='"Roboto", "Helvetica", "Arial", sans-serif';function vN(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=yN,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:h}=n,d=cC(n,mN);const f=i/14,p=h||(e=>"".concat(e/c*f,"rem")),m=(e,t,n,i,o)=>{return uC({fontFamily:r,fontWeight:e,fontSize:p(t),lineHeight:n},r===yN?{letterSpacing:"".concat((s=i/t,Math.round(1e5*s)/1e5),"em")}:{},o,u);var s},g={h1:m(o,96,1.167,-1.5),h2:m(o,60,1.2,-.5),h3:m(s,48,1.167,0),h4:m(s,34,1.235,.25),h5:m(s,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(s,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(s,16,1.5,.15),body2:m(s,14,1.43,.15),button:m(a,14,1.75,.4,gN),caption:m(s,12,1.66,.4),overline:m(s,12,2.66,1,gN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vC(uC({htmlFontSize:c,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},g),d,{clone:!1})}function wN(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const bN=["none",wN(0,2,1,-1,0,1,1,0,0,1,3,0),wN(0,3,1,-2,0,2,2,0,0,1,5,0),wN(0,3,3,-2,0,3,4,0,0,1,8,0),wN(0,2,4,-1,0,4,5,0,0,1,10,0),wN(0,3,5,-1,0,5,8,0,0,1,14,0),wN(0,3,5,-1,0,6,10,0,0,1,18,0),wN(0,4,5,-2,0,7,10,1,0,2,16,1),wN(0,5,5,-3,0,8,10,1,0,3,14,2),wN(0,5,6,-3,0,9,12,1,0,3,16,2),wN(0,6,6,-3,0,10,14,1,0,4,18,3),wN(0,6,7,-4,0,11,15,1,0,4,20,3),wN(0,7,8,-4,0,12,17,2,0,5,22,4),wN(0,7,8,-4,0,13,19,2,0,5,24,4),wN(0,7,9,-4,0,14,21,2,0,5,26,4),wN(0,8,9,-5,0,15,22,2,0,6,28,5),wN(0,8,10,-5,0,16,24,2,0,6,30,5),wN(0,8,11,-5,0,17,26,2,0,6,32,5),wN(0,9,11,-5,0,18,28,2,0,7,34,6),wN(0,9,12,-6,0,19,29,2,0,7,36,6),wN(0,10,13,-6,0,20,31,3,0,8,38,7),wN(0,10,13,-6,0,21,33,3,0,8,40,7),wN(0,10,14,-6,0,22,35,3,0,8,42,7),wN(0,11,14,-7,0,23,36,3,0,9,44,8),wN(0,11,15,-7,0,24,38,3,0,9,46,8)],_N=["duration","easing","delay"],SN={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},EN={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function IN(e){return"".concat(Math.round(e),"ms")}function kN(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function TN(e){const t=uC({},SN,e.easing),n=uC({},EN,e.duration);return uC({getAutoHeightDuration:kN,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:s=0}=r;cC(r,_N);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:IN(i)," ").concat(o," ").concat("string"===typeof s?s:IN(s)))).join(",")}},e,{easing:t,duration:n})}const CN={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},xN=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function AN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:i={}}=e,o=cC(e,xN);if(e.vars)throw new Error(CC(18));const s=pN(n),a=Tx(e);let l=vC(a,{mixins:YA(a.breakpoints,t),palette:s,shadows:bN.slice(),typography:vN(s,i),transitions:TN(r),zIndex:uC({},CN)});l=vC(l,o);for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];return l=u.reduce(((e,t)=>vC(e,t)),l),l.unstable_sxConfig=uC({},_x,null==o?void 0:o.unstable_sxConfig),l.unstable_sx=function(e){return Ex({sx:e,theme:this})},l}const NN=AN(),ON="$$material";const PN=xC;let RN=0;const DN=i["useId".toString()];const LN=function(e){if(void 0!==DN){const t=DN();return null!=e?e:t}return function(e){const[t,n]=r.useState(e),i=e||t;return r.useEffect((()=>{null==t&&(RN+=1,n("mui-".concat(RN)))}),[t]),i}(e)};const MN=function(e){let{controlled:t,default:n,name:i,state:o="value"}=e;const{current:s}=r.useRef(void 0!==t),[a,l]=r.useState(n);return[s?t:a,r.useCallback((e=>{s||l(e)}),[])]};class FN{constructor(){this.currentId=0,this.clear=()=>{0!==this.currentId&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new FN}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=0,t()}),e)}}let jN=!0,UN=!1;const VN=new FN,zN={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function BN(e){e.metaKey||e.altKey||e.ctrlKey||(jN=!0)}function qN(){jN=!1}function WN(){"hidden"===this.visibilityState&&UN&&(jN=!0)}function HN(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return jN||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!zN[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const KN=function(){const e=r.useCallback((e=>{null!=e&&function(e){e.addEventListener("keydown",BN,!0),e.addEventListener("mousedown",qN,!0),e.addEventListener("pointerdown",qN,!0),e.addEventListener("touchstart",qN,!0),e.addEventListener("visibilitychange",WN,!0)}(e.ownerDocument)}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!HN(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(UN=!0,VN.start(100,(()=>{UN=!1})),t.current=!1,!0)},ref:e}};const GN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{!function(e,t){"function"===typeof e?e(t):e&&(e.current=t)}(t,e)}))}),t)};function QN(e,t){const n=uC({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=uC({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},o&&Object.keys(o)?i&&Object.keys(i)?(n[r]=uC({},o),Object.keys(i).forEach((e=>{n[r][e]=QN(i[e],o[e])}))):n[r]=o:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function YN(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?QN(t.components[n].defaultProps,r):r}function $N(e){let{props:t,name:n}=e;return function(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=QA(r);return i&&(o=o[i]||o),YN({theme:o,name:n,props:t})}({props:t,name:n,defaultTheme:NN,themeId:ON})}var JN=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var XN=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ZN=OA((function(e){return JN.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),eO=function(e){return"theme"!==e},tO=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ZN:eO},nO=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},rO=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return XN(t,n,r),BA((function(){return function(e,t,n){XN(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},iO=function e(t,n){var i,o,s=t.__emotion_real===t,a=s&&t.__emotion_base||t;void 0!==n&&(i=n.label,o=n.target);var l=nO(t,n,s),c=l||tO(a),u=!c("as");return function(){var h=arguments,d=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var f=h.length,p=1;p<f;p++)d.push(h[p],h[0][p])}var m=WA((function(e,t,n){var i=u&&e.as||a,s="",h=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=r.useContext(HA)}"string"===typeof e.className?s=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,h,e.className):null!=e.className&&(s=e.className+" ");var m=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";UA=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=jA(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=jA(n,t,e[s]),r&&(i+=o[s]);VA.lastIndex=0;for(var a,l="";null!==(a=VA.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:UA}}(d.concat(h),t.registered,f);s+=t.key+"-"+m.name,void 0!==o&&(s+=" "+o);var g=u&&void 0===l?tO(i):c,y={};for(var v in e)u&&"as"===v||g(v)&&(y[v]=e[v]);return y.className=s,y.ref=n,r.createElement(r.Fragment,null,r.createElement(rO,{cache:t,serialized:m,isStringTag:"string"===typeof i}),r.createElement(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=a,m.__emotion_styles=d,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(t,r){return e(t,uC({},n,r,{shouldForwardProp:nO(m,r,!0)})).apply(void 0,d)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){iO[e]=iO(e)}));const oO=["variant"];function sO(e){return 0===e.length}function aO(e){const{variant:t}=e,n=cC(e,oO);let r=t||"";return Object.keys(n).sort().forEach((t=>{r+="color"===t?sO(r)?e[t]:xC(e[t]):"".concat(sO(r)?t:xC(t)).concat(xC(e[t].toString()))})),r}const lO=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];const cO=e=>{let t=0;const n={};return e&&e.forEach((e=>{let r="";"function"===typeof e.props?(r="callback".concat(t),t+=1):r=aO(e.props),n[r]=e.style})),n},uO=(e,t,n)=>{const{ownerState:r={}}=e,i=[];let o=0;return n&&n.forEach((n=>{let s=!0;if("function"===typeof n.props){const t=uC({},e,r);s=n.props(t)}else Object.keys(n.props).forEach((t=>{r[t]!==n.props[t]&&e[t]!==n.props[t]&&(s=!1)}));s&&("function"===typeof n.props?i.push(t["callback".concat(o)]):i.push(t[aO(n.props)])),"function"===typeof n.props&&(o+=1)})),i};function hO(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const dO=Tx(),fO=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function pO(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function mO(e){return e?(t,n)=>n[e]:null}const gO=e=>{let{styledArg:t,props:n,defaultTheme:r,themeId:i}=e;const o=t(uC({},n,{theme:pO(uC({},n,{defaultTheme:r,themeId:i}))}));let s;if(o&&o.variants&&(s=o.variants,delete o.variants),s){return[o,...uO(n,cO(s),s)]}return o};const yO=hO,vO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=dO,rootShouldForwardProp:r=hO,slotShouldForwardProp:i=hO}=e,o=e=>Ex(uC({},e,{theme:pO(uC({},e,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))})(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:h=mO(fO(l))}=s,d=cC(s,lO),f=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,p=u||!1;let m=hO;"Root"===l||"root"===l?m=r:l?m=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=function(e,t){return iO(e,t)}(e,uC({shouldForwardProp:m,label:undefined},d)),y=function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];const c=s?s.map((e=>{if("function"===typeof e&&e.__emotion_real!==e)return r=>gO({styledArg:e,props:r,defaultTheme:n,themeId:t});if(gC(e)){let t,n=e;return e&&e.variants&&(t=e.variants,delete n.variants,n=n=>{let r=e;return uO(n,cO(t),t).forEach((e=>{r=vC(r,e)})),r}),n}return e})):[];let u=r;if(gC(r)){let e;r&&r.variants&&(e=r.variants,delete u.variants,u=t=>{let n=r;return uO(t,cO(e),e).forEach((e=>{n=vC(n,e)})),n})}else"function"===typeof r&&r.__emotion_real!==r&&(u=e=>gO({styledArg:r,props:e,defaultTheme:n,themeId:t}));a&&h&&c.push((e=>{const r=pO(uC({},e,{defaultTheme:n,themeId:t})),i=((e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null)(a,r);if(i){const t={};return Object.entries(i).forEach((n=>{let[i,o]=n;t[i]="function"===typeof o?o(uC({},e,{theme:r})):o})),h(e,t)}return null})),a&&!f&&c.push((e=>{const r=pO(uC({},e,{defaultTheme:n,themeId:t}));return((e,t,n,r)=>{var i;const o=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return uO(e,t,o)})(e,((e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),cO(n)})(a,r),r,a)})),p||c.push(o);const d=c.length-s.length;if(Array.isArray(r)&&d>0){const e=new Array(d).fill("");u=[...r,...e],u.raw=[...r.raw,...e]}const m=g(u,...c);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(y.withConfig=g.withConfig),y}}({themeId:ON,defaultTheme:NN,rootShouldForwardProp:e=>hO(e)&&"classes"!==e}),wO=vO,bO=e=>e,_O=(()=>{let e=bO;return{configure(t){e=t},generate:t=>e(t),reset(){e=bO}}})(),SO={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function EO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=SO[t];return r?"".concat(n,"-").concat(r):"".concat(_O.generate(e),"-").concat(t)}function IO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=EO(e,t,n)})),r}function kO(e){return EO("MuiSvgIcon",e)}IO("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const TO=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],CO=wO("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(PN(n.color))],t["fontSize".concat(PN(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,o,s,a,l,c,u,h,d,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(h=u.pxToRem)?void 0:h.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(d=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?d:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),xO=r.forwardRef((function(e,t){const n=$N({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:h,viewBox:d="0 0 24 24"}=n,f=cC(n,TO),p=r.isValidElement(i)&&"svg"===i.type,m=uC({},n,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:d,hasSvgAsChild:p}),g={};u||(g.viewBox=d);const y=(e=>{const{color:t,fontSize:n,classes:r}=e;return mC({root:["root","inherit"!==t&&"color".concat(PN(t)),"fontSize".concat(PN(n))]},kO,r)})(m);return(0,N.jsxs)(CO,uC({as:a,className:dC(y.root,o),focusable:"false",color:c,"aria-hidden":!h||void 0,role:h?"img":void 0,ref:t},g,f,p&&i.props,{ownerState:m,children:[p?i.props.children:i,h?(0,N.jsx)("title",{children:h}):null]}))}));xO.muiName="SvgIcon";const AO=xO;function NO(e,t){function n(n,r){return(0,N.jsx)(AO,uC({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=AO.muiName,r.memo(r.forwardRef(n))}const OO=NO((0,N.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),PO=NO((0,N.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function RO(e){return EO("MuiRating",e)}const DO=IO("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),LO=["value"],MO=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function FO(e,t){if(null==e)return e;const n=Math.round(e/t)*t;return Number(n.toFixed(function(e){const t=e.toString().split(".")[1];return t?t.length:0}(t)))}const jO=wO("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(DO.visuallyHidden)]:t.visuallyHidden},t.root,t["size".concat(PN(n.size))],n.readOnly&&t.readOnly]}})((e=>{let{theme:t,ownerState:n}=e;return uC({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",["&.".concat(DO.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(DO.focusVisible," .").concat(DO.iconActive)]:{outline:"1px solid #999"},["& .".concat(DO.visuallyHidden)]:fC},"small"===n.size&&{fontSize:t.typography.pxToRem(18)},"large"===n.size&&{fontSize:t.typography.pxToRem(30)},n.readOnly&&{pointerEvents:"none"})})),UO=wO("label",{name:"MuiRating",slot:"Label",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.label,n.emptyValueFocused&&t.labelEmptyValueActive]}})((e=>{let{ownerState:t}=e;return uC({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})})),VO=wO("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})((e=>{let{theme:t,ownerState:n}=e;return uC({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},n.iconActive&&{transform:"scale(1.2)"},n.iconEmpty&&{color:(t.vars||t).palette.action.disabled})})),zO=wO("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>yO(e)&&"iconActive"!==e,overridesResolver:(e,t)=>{const{iconActive:n}=e;return[t.decimal,n&&t.iconActive]}})((e=>{let{iconActive:t}=e;return uC({position:"relative"},t&&{transform:"scale(1.2)"})}));function BO(e){const t=cC(e,LO);return(0,N.jsx)("span",uC({},t))}function qO(e){const{classes:t,disabled:n,emptyIcon:i,focus:o,getLabelText:s,highlightSelectedOnly:a,hover:l,icon:c,IconContainerComponent:u,isActive:h,itemValue:d,labelProps:f,name:p,onBlur:m,onChange:g,onClick:y,onFocus:v,readOnly:w,ownerState:b,ratingValue:_,ratingValueRounded:S}=e,E=a?d===_:d<=_,I=d<=l,k=d<=o,T=d===S,C=LN(),x=(0,N.jsx)(VO,{as:u,value:d,className:dC(t.icon,E?t.iconFilled:t.iconEmpty,I&&t.iconHover,k&&t.iconFocus,h&&t.iconActive),ownerState:uC({},b,{iconEmpty:!E,iconFilled:E,iconHover:I,iconFocus:k,iconActive:h}),children:i&&!E?i:c});return w?(0,N.jsx)("span",uC({},f,{children:x})):(0,N.jsxs)(r.Fragment,{children:[(0,N.jsxs)(UO,uC({ownerState:uC({},b,{emptyValueFocused:void 0}),htmlFor:C},f,{children:[x,(0,N.jsx)("span",{className:t.visuallyHidden,children:s(d)})]})),(0,N.jsx)("input",{className:t.visuallyHidden,onFocus:v,onBlur:m,onChange:g,onClick:y,disabled:n,value:d,id:C,type:"radio",name:p,checked:T})]})}const WO=(0,N.jsx)(OO,{fontSize:"inherit"}),HO=(0,N.jsx)(PO,{fontSize:"inherit"});function KO(e){return"".concat(e," Star").concat(1!==e?"s":"")}const GO=r.forwardRef((function(e,t){const n=$N({name:"MuiRating",props:e}),{className:i,defaultValue:o=null,disabled:s=!1,emptyIcon:a=HO,emptyLabelText:l="Empty",getLabelText:c=KO,highlightSelectedOnly:u=!1,icon:h=WO,IconContainerComponent:d=BO,max:f=5,name:p,onChange:m,onChangeActive:g,onMouseLeave:y,onMouseMove:v,precision:w=1,readOnly:b=!1,size:_="medium",value:S}=n,E=cC(n,MO),I=LN(p),[k,T]=MN({controlled:S,default:o,name:"Rating"}),C=FO(k,w),x=function(){const e=QA(NN);return e[ON]||e}(),[{hover:A,focus:O},P]=r.useState({hover:-1,focus:-1});let R=C;-1!==A&&(R=A),-1!==O&&(R=O);const{isFocusVisibleRef:D,onBlur:L,onFocus:M,ref:F}=KN(),[j,U]=r.useState(!1),V=r.useRef(),z=GN(F,V,t),B=e=>{let t=""===e.target.value?null:parseFloat(e.target.value);-1!==A&&(t=A),T(t),m&&m(e,t)},q=e=>{0===e.clientX&&0===e.clientY||(P({hover:-1,focus:-1}),T(null),m&&parseFloat(e.target.value)===C&&m(e,null))},W=e=>{M(e),!0===D.current&&U(!0);const t=parseFloat(e.target.value);P((e=>({hover:e.hover,focus:t})))},H=e=>{if(-1!==A)return;L(e),!1===D.current&&U(!1);P((e=>({hover:e.hover,focus:-1})))},[K,G]=r.useState(!1),Q=uC({},n,{defaultValue:o,disabled:s,emptyIcon:a,emptyLabelText:l,emptyValueFocused:K,focusVisible:j,getLabelText:c,icon:h,IconContainerComponent:d,max:f,precision:w,readOnly:b,size:_}),Y=(e=>{const{classes:t,size:n,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:s}=e;return mC({root:["root","size".concat(PN(n)),i&&"disabled",s&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]},RO,t)})(Q);return(0,N.jsxs)(jO,uC({ref:z,onMouseMove:e=>{v&&v(e);const t=V.current,{right:n,left:r,width:i}=t.getBoundingClientRect();let o;o="rtl"===x.direction?(n-e.clientX)/i:(e.clientX-r)/i;let s=FO(f*o+w/2,w);s=pC(s,w,f),P((e=>e.hover===s&&e.focus===s?e:{hover:s,focus:s})),U(!1),g&&A!==s&&g(e,s)},onMouseLeave:e=>{y&&y(e);P({hover:-1,focus:-1}),g&&-1!==A&&g(e,-1)},className:dC(Y.root,i,b&&"MuiRating-readOnly"),ownerState:Q,role:b?"img":null,"aria-label":b?c(R):null},E,{children:[Array.from(new Array(f)).map(((e,t)=>{const n=t+1,r={classes:Y,disabled:s,emptyIcon:a,focus:O,getLabelText:c,highlightSelectedOnly:u,hover:A,icon:h,IconContainerComponent:d,name:I,onBlur:H,onChange:B,onClick:q,onFocus:W,ratingValue:R,ratingValueRounded:C,readOnly:b,ownerState:Q},i=n===Math.ceil(R)&&(-1!==A||-1!==O);if(w<1){const e=Array.from(new Array(1/w));return(0,N.jsx)(zO,{className:dC(Y.decimal,i&&Y.iconActive),ownerState:Q,iconActive:i,children:e.map(((t,i)=>{const o=FO(n-1+(i+1)*w,w);return(0,N.jsx)(qO,uC({},r,{isActive:!1,itemValue:o,labelProps:{style:e.length-1===i?{}:{width:o===R?"".concat((i+1)*w*100,"%"):"0%",overflow:"hidden",position:"absolute"}}}),o)}))},n)}return(0,N.jsx)(qO,uC({},r,{isActive:i,itemValue:n}),n)})),!b&&!s&&(0,N.jsxs)(UO,{className:dC(Y.label,Y.labelEmptyValue),ownerState:Q,children:[(0,N.jsx)("input",{className:Y.visuallyHidden,value:"",id:"".concat(I,"-empty"),type:"radio",name:I,checked:null==C,onFocus:()=>G(!0),onBlur:()=>G(!1),onChange:B}),(0,N.jsx)("span",{className:Y.visuallyHidden,children:l})]})]}))})),QO=GO;var YO=n(98),$O=n.n(YO);const JO=e=>{let{amount:t}=e;const n=$O()(t).format("$0,0.00");return(0,N.jsx)("div",{children:n})},XO="Product_card_container__GvcD9",ZO="Product_button__c6t44",eP="Product_rating__JMgOI",tP="Product_Products_container__6SYwt",nP="Product_product_flexed__pJraO";const rP=function(e){let{product:t,flex:n,renderDesc:i,renderAdd:o}=e;console.log(t);const{image:s,title:a,id:l,rating:c,price:u,description:h}=t,d=c&&c.rate?c.rate:0,[f,p]=(0,r.useContext)(ot);return console.log(f),(0,N.jsxs)("div",{className:"".concat(XO," ").concat(n?nP:""),children:[(0,N.jsx)(Xe,{to:"/products/".concat(l),children:(0,N.jsx)("img",{src:s,alt:""})}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{children:a}),i&&(0,N.jsx)("div",{style:{maxWidth:"750px"},children:h}),(0,N.jsxs)("div",{className:eP,children:[(0,N.jsx)(QO,{value:d,precision:.1}),(0,N.jsx)("small",{children:c&&c.count})]}),(0,N.jsx)("div",{children:(0,N.jsx)(JO,{amount:u})}),o&&(0,N.jsx)("button",{className:ZO,onClick:()=>{p({type:tt,item:{image:s,title:a,id:l,rating:c,price:u,description:h}})},children:"add to cart"})]})]})};const iP=function(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{lC.get("https://fakestoreapi.com/products").then((e=>{t(e.data),i(!1)})).catch((e=>{console.log(e),i(!1)}))}),[]),console.log(e),(0,N.jsx)(N.Fragment,{children:n?(0,N.jsx)(mk,{}):(0,N.jsx)("section",{className:tP,children:e.map(((e,t)=>(0,N.jsx)(rP,{product:e,renderAdd:!0},t)))})})};const oP=function(){return(0,N.jsxs)(ht,{children:[(0,N.jsx)(ak,{}),(0,N.jsx)(gk,{}),(0,N.jsx)(iP,{})]})},sP="Payment_Payment_header__dixwX",aP="Payment_Payment__9YNDC",lP="Payment_flex__ihbow",cP="Payment_payment_card_container__xTQ-F",uP="Payment_payment__price__D6VDE",hP="Payment_payment_Details__eE1kA",dP="Payment_Loading__EitQq";var fP=n(764);const pP=lC.create({baseURL:"https://amazon-api-deploy-l45x.onrender.com/"});const mP=function(){const[{basket:e,user:t},n]=(0,r.useContext)(ot);console.log(t);const i=null===e||void 0===e?void 0:e.reduce(((e,t)=>t.amount+e),0),o=e.reduce(((e,t)=>t.price*t.amount+e),0),s=(0,fP.useStripe)(),a=(0,fP.useElements)(),l=Ce(),[c,u]=(0,r.useState)(null),[h,d]=(0,r.useState)(!1);return(0,N.jsxs)(ht,{children:[(0,N.jsxs)("div",{className:sP,children:["Checkout (",i,") items"]}),(0,N.jsxs)("section",{className:aP,children:[(0,N.jsxs)("div",{className:lP,children:[(0,N.jsx)("h3",{children:"Delivery Address"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{children:null===t||void 0===t?void 0:t.email}),(0,N.jsx)("div",{children:"123 React Lane"}),(0,N.jsx)("div",{children:"Chicago, IL"})]})]}),(0,N.jsx)("hr",{}),(0,N.jsxs)("div",{className:lP,children:[(0,N.jsx)("h3",{children:"Review items and Delivery"}),(0,N.jsx)("div",{children:null===e||void 0===e?void 0:e.map((e=>(0,N.jsx)(rP,{product:e,flex:!0})))})]}),(0,N.jsx)("hr",{}),(0,N.jsxs)("div",{className:lP,children:[(0,N.jsx)("h3",{children:"Payment methods"}),(0,N.jsx)("div",{className:cP,children:(0,N.jsx)("div",{className:hP,children:(0,N.jsxs)("form",{onSubmit:async r=>{const i=GI.firestore();r.preventDefault();try{d(!0);const r=(await pP({method:"post",url:"/payment/create?total=".concat(100*o)})).data.client_secret,{paymentIntent:c}=await s.confirmCardPayment(r,{payment_method:{card:a.getElement(fP.CardElement)}});await i.collection("users").doc(t.uid).collection("orders").doc(c.id).set({basket:e,amount:c.amount,created:c.created}),n({type:it}),d(!1),l("/orders",{state:{msg:"you have placed new order"}})}catch(c){console.log(c),d(!1)}},children:[c&&(0,N.jsx)("small",{style:{color:"red"},children:c}),(0,N.jsx)(fP.CardElement,{onChange:e=>{var t,n;null!==e&&void 0!==e&&null!==(t=e.error)&&void 0!==t&&t.message?u(null===e||void 0===e||null===(n=e.error)||void 0===n?void 0:n.message):u("")}}),(0,N.jsxs)("div",{className:uP,children:[(0,N.jsx)("div",{children:(0,N.jsxs)("span",{children:["Total Order | ",(0,N.jsx)(JO,{amount:o})]})}),(0,N.jsx)("button",{type:"submit",children:h?(0,N.jsxs)("div",{className:dP,children:[(0,N.jsx)(nk,{color:"gray",size:12}),(0,N.jsx)("p",{children:"Please Wait..."})]}):"Pay Now"})]})]})})})]})]})]})},gP="Orders_Container__1NVS9",yP="Orders_Orders__container__DMhqI";const vP=function(){const[{user:e},t]=(0,r.useContext)(ot),n=GI.firestore(),[i,o]=(0,r.useState)([]);return(0,r.useEffect)((()=>{e?n.collection("users").doc(e.uid).collection("orders").orderBy("created","desc").onSnapshot((e=>{console.log(e),o(e.docs.map((e=>({id:e.id,data:e.data()}))))})):o([])}),[]),(0,N.jsx)(ht,{children:(0,N.jsx)("section",{className:gP,children:(0,N.jsxs)("div",{className:yP,children:[(0,N.jsx)("h2",{children:"Your Orders"}),0==(null===i||void 0===i?void 0:i.length)&&(0,N.jsx)("div",{style:{padding:"20px"},children:"You don't have orders yet."}),(0,N.jsx)("div",{children:null===i||void 0===i?void 0:i.map(((e,t)=>{var n,r;return(0,N.jsxs)("div",{children:[(0,N.jsx)("hr",{}),(0,N.jsxs)("p",{children:["Order ID:",null===e||void 0===e?void 0:e.id]}),null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.basket)||void 0===r?void 0:r.map((e=>(0,N.jsx)(rP,{product:e,flex:!0},e.id)))]},t)}))})]})})})},wP="Cart_container__8WCp8",bP="Cart_cart_product__6Qf3z",_P="Cart_btn_container__Jw0dL",SP="Cart_btn__QBhdu",EP="Cart_subtotal__s1k0v",IP="Cart_cart_container__BwVPo";function kP(e){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(e)}function TP(e){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(e)}const CP=function(){const[{basket:e,user:t},n]=(0,r.useContext)(ot),i=e.reduce(((e,t)=>t.price*t.amount+e),0);return console.log(e),(0,N.jsx)(ht,{children:(0,N.jsxs)("section",{className:wP,children:[(0,N.jsxs)("div",{className:IP,children:[(0,N.jsx)("h2",{children:"Hello"}),(0,N.jsx)("h3",{children:"your shoping basket"}),(0,N.jsx)("hr",{}),0==(null===e||void 0===e?void 0:e.length)?(0,N.jsx)("p",{children:"opps! No item in your cart"}):null===e||void 0===e?void 0:e.map((e=>(0,N.jsxs)("section",{className:bP,children:[(0,N.jsx)(rP,{product:e,renderDesc:!0,flex:!0,renderAdd:!1}),(0,N.jsxs)("div",{className:_P,children:[(0,N.jsx)("button",{className:SP,onClick:()=>(e=>{n({type:tt,item:e})})(e),children:(0,N.jsx)(TP,{size:20})}),(0,N.jsx)("div",{children:e.amount}),(0,N.jsx)("button",{className:SP,onClick:()=>(e=>{n({type:nt,id:e})})(e.id),children:(0,N.jsx)(kP,{size:20})})]})]})))]}),0!==(null===e||void 0===e?void 0:e.length)&&(0,N.jsxs)("div",{className:EP,children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("p",{children:["subtotal(",null===e||void 0===e?void 0:e.length,"items)"]}),(0,N.jsx)(JO,{amount:i})]}),(0,N.jsxs)("span",{children:[(0,N.jsx)("input",{type:"checkbox"}),(0,N.jsx)("small",{children:"this order contains a gift"})]}),(0,N.jsx)(Xe,{to:"/Payments",children:"continue to checkout"})]})]})})},xP="Results_proucts_container__y8QqD",AP="https://fakestoreapi.com";const NP=function(){var e=window.location.href.split("/"),t=e[e.length-1];console.log(t);const[n,i]=(0,r.useState)(!0),[o,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{lC.get("".concat(AP,"/products/category/").concat(t)).then((e=>{s(e.data),i(!1),console.log(e)})).catch((e=>{i(!1),console.log(e)}))}),[]),(0,N.jsx)(ht,{children:n?(0,N.jsx)(mk,{}):(0,N.jsxs)("section",{children:[(0,N.jsx)("h1",{style:{padding:"30px"},children:"Results"}),(0,N.jsxs)("p",{style:{padding:"30px"},children:["Category/",t]}),(0,N.jsx)("hr",{}),(0,N.jsx)("div",{className:xP,children:null===o||void 0===o?void 0:o.map((e=>(0,N.jsx)(rP,{product:e,renderAdd:!0},e.id)))})]})})};const OP=function(){const{productId:e}=function(){let{matches:e}=r.useContext(Se),t=e[e.length-1];return t?t.params:{}}(),[t,n]=(0,r.useState)({}),[i,o]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{o(!0),lC.get("".concat(AP,"/products/").concat(e)).then((e=>{n(e.data),o(!1)})).catch((e=>{console.log(e),o(!1)}))}),[e]),console.log(t),console.log(e),(0,N.jsx)(ht,{children:i?(0,N.jsx)(mk,{}):(0,N.jsx)(rP,{product:t,flex:!0,renderDesc:!0,renderAdd:!0})})};var PP,RP="https://js.stripe.com/v3",DP=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,LP="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",MP=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(RP).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},FP=null,jP=null,UP=null,VP=function(e){return null!==FP?FP:(FP=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(LP),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(RP,'"]')),t=0;t<e.length;t++){var n=e[t];if(DP.test(n.src))return n}return null}();if(r&&e)console.warn(LP);else if(r){if(r&&null!==UP&&null!==jP){var i;r.removeEventListener("load",UP),r.removeEventListener("error",jP),null===(i=r.parentNode)||void 0===i||i.removeChild(r),r=MP(e)}}else r=MP(e);UP=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),jP=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(n),r.addEventListener("load",UP),r.addEventListener("error",jP)}catch(o){return void n(o)}else t(null)}))).catch((function(e){return FP=null,Promise.reject(e)}))},zP=!1,BP=function(){return PP||(PP=VP(null).catch((function(e){return PP=null,Promise.reject(e)})))};Promise.resolve().then((function(){return BP()})).catch((function(e){zP||console.warn(e)}));const qP=e=>{let{children:t,msg:n,redirect:i}=e;const o=Ce(),[{user:s},a]=(0,r.useContext)(ot);return(0,r.useEffect)((()=>{s||o("/Auth",{state:{msg:n,redirect:i}})}),[s]),t},WP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];zP=!0;var r=Date.now();return BP().then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"3.0.2",startTime:t})}(r,n),r}(e,t,r)}))}("pk_test_51Oj2jUCsjgf1J1AxvWeVZy0GWR2LBhYgcnEaK9LlrDVgBIftEylcgL8nI6VDjnSocaZm8SGdmjBRLR2x4lX6Ox3S0033k0ZFLw");const HP=function(){return(0,N.jsx)(Ye,{children:(0,N.jsxs)(qe,{children:[(0,N.jsx)(ze,{path:"/",element:(0,N.jsx)(oP,{})}),(0,N.jsx)(ze,{path:"/Auth",element:(0,N.jsx)(rk,{})}),(0,N.jsx)(ze,{path:"/Payments",element:(0,N.jsx)(qP,{msg:"you must log in to pay",redirect:"/Payments",children:(0,N.jsx)(fP.Elements,{stripe:WP,children:(0,N.jsx)(mP,{})})})}),(0,N.jsx)(ze,{path:"/orders",element:(0,N.jsx)(qP,{msg:"you must log in to your orders",redirect:"/orders",children:(0,N.jsx)(vP,{})})}),(0,N.jsx)(ze,{path:"/category/:categoryName",element:(0,N.jsx)(NP,{})}),(0,N.jsx)(ze,{path:"/products/:productId",element:(0,N.jsx)(OP,{})}),(0,N.jsx)(ze,{path:"/cart",element:(0,N.jsx)(CP,{})})]})})};const KP=function(){const[{user:e},t]=(0,r.useContext)(ot);return(0,r.useEffect)((()=>{QI.onAuthStateChanged((e=>{e?(console.log(e),t({type:rt,user:e})):t({type:rt,user:null})}))}),[]),(0,N.jsx)("div",{children:(0,N.jsx)(HP,{})})};o.createRoot(document.getElementById("root")).render((0,N.jsx)(r.StrictMode,{children:(0,N.jsx)(st,{reducer:(e,t)=>{switch(t.type){case tt:if(e.basket.find((e=>e.id===t.item.id))){const n=e.basket.map((e=>e.id===t.item.id?{...e,amount:e.amount+1}:e));return{...e,basket:n}}return{...e,basket:[...e.basket,{...t.item,amount:1}]};case nt:const n=e.basket.findIndex((e=>e.id===t.id));let r=[...e.basket];return n>=0&&(r[n].amount>1?r[n]={...r[n],amount:r[n].amount-1}:r.splice(n,1)),{...e,basket:r};case it:return{...e,basket:[]};case rt:return{...e,user:t.user};default:return e}},intitialstate:{basket:[],user:null},children:(0,N.jsx)(KP,{})})}))})()})();
//# sourceMappingURL=main.7a073df3.js.map